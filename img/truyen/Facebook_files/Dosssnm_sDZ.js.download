;/*FB_PKG_DELIM*/

__d("LexicalContentEditable",["cr:2483"],(function(a,b,c,d,e,f){e.exports=b("cr:2483")}),null);
__d("mlcEditableSubscription",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{initialValueFn:function(){return a.isEditable()},subscribe:function(b){return a.registerEditableListener(b)}}}f["default"]=a}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useLayoutEffect,k=b.useState;function a(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a.initialValueFn()),d=k(b.current),e=d[0],f=d[1];j(function(){var c=a.initialValueFn,d=a.subscribe;c=c();b.current!==c&&(b.current=c,f(c));return d(function(a){b.current=a,f(a)})},[a]);return e}g["default"]=a}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","react-compiler-runtime","stylex","useCometLexicalSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useLayoutEffect;b.useMemo;var m=b.useState,n={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(52),e,f,g,i,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;b[0]!==a?(e=a.ariaAutoComplete,f=a.ariaDescribedBy,g=a.ariaExpanded,i=a.ariaLabel,o=a.ariaLabelledBy,p=a.ariaMultiline,q=a.ariaOwneeID,r=a.ariaRequired,s=a.autoCapitalize,t=a.autoComplete,u=a.autoCorrect,v=a.contentEditableRef,x=a.isInitiallyFocused,y=a.role,z=a.spellCheck,A=a.tabIndex,B=a.webDriverTestID,C=a.xstyle,w=babelHelpers.objectWithoutPropertiesLoose(a,["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=o,b[6]=p,b[7]=q,b[8]=r,b[9]=s,b[10]=t,b[11]=u,b[12]=v,b[13]=w,b[14]=x,b[15]=y,b[16]=z,b[17]=A,b[18]=B,b[19]=C):(e=b[1],f=b[2],g=b[3],i=b[4],o=b[5],p=b[6],q=b[7],r=b[8],s=b[9],t=b[10],u=b[11],v=b[12],w=b[13],x=b[14],y=b[15],z=b[16],A=b[17],B=b[18],C=b[19]);var D=x===void 0?!1:x;a=y===void 0?"textbox":y;x=z===void 0?!1:z;y=d("LexicalComposerContext").useLexicalComposerContext();var E=y[0];z=m(void 0);y=z[0];var F=z[1];z=m(void 0);var G=z[0],H=z[1];b[20]!==E?(z=c("mlcEditableSubscription")(E),b[20]=E,b[21]=z):z=b[21];z=z;z=c("useCometLexicalSubscription")(z);var I,J;b[22]!==E?(I=function(){return E.registerCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&F(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&H(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},J=[E],b[22]=E,b[23]=I,b[24]=J):(I=b[23],J=b[24]);l(I,J);b[25]!==E||b[26]!==D?(I=function(){D&&E.focus(function(){var a=document.activeElement,b=E.getRootElement();(!(b==null?void 0:b.contains(a))||b!=null||a==null)&&(b==null?void 0:b.focus({preventScroll:!0}))})},J=[E,D],b[25]=E,b[26]=D,b[27]=I,b[28]=J):(I=b[27],J=b[28]);k(I,J);J=(I=y)!=null?I:void 0;I=(y=G)!=null?y:void 0;if(b[29]!==i){G=(y=(G=i)==null?void 0:G.toString())!=null?y:void 0;b[29]=i;b[30]=G}else G=b[30];i=(y=r)!=null?y:void 0;r=(h||(h=c("stylex")))(n.editor,C)+" "+(z?"notranslate":"");b[31]!==e||b[32]!==f||b[33]!==g||b[34]!==o||b[35]!==p||b[36]!==q||b[37]!==s||b[38]!==t||b[39]!==u||b[40]!==v||b[41]!==w||b[42]!==a||b[43]!==x||b[44]!==J||b[45]!==I||b[46]!==G||b[47]!==i||b[48]!==r||b[49]!==A||b[50]!==B?(y=j.jsx(d("LexicalContentEditable").ContentEditable,babelHelpers["extends"]({ariaActiveDescendant:J,ariaAutoComplete:e,ariaControls:I,ariaDescribedBy:f,ariaExpanded:g,ariaLabel:G,ariaLabelledBy:o,ariaMultiline:p,ariaOwns:q,ariaRequired:i,autoCapitalize:s,autoComplete:t,autoCorrect:u,className:r,"data-testid":void 0,ref:v,role:a,spellCheck:x,suppressContentEditableWarning:!0,tabIndex:A},w)),b[31]=e,b[32]=f,b[33]=g,b[34]=o,b[35]=p,b[36]=q,b[37]=s,b[38]=t,b[39]=u,b[40]=v,b[41]=w,b[42]=a,b[43]=x,b[44]=J,b[45]=I,b[46]=G,b[47]=i,b[48]=r,b[49]=A,b[50]=B,b[51]=y):y=b[51];return y}g["default"]=a}),98);
__d("CometLexicalDelightNode",["CometLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"delight"};a.clone=function(b){return new a(b.__text,b.__styles,b.__campaignID,b.__delightAsset,b.__key)};a.importJSON=function(a){return i(a.text,a.styles,a.campaignID,a.delightAsset)};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{campaignID:this.__campaignID,delightAsset:this.__delightAsset,styles:this.__styles,type:"delight",version:1})};function a(a,c,d,e,f){a=b.call(this,a,f)||this;a.__entityType="TextDelightCampaign";a.__styles=c;a.__campaignID=d;a.__delightAsset=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);var c=this.__delightAsset.id,d=this.__styles,e=d.color;d=d["font-weight"];c!=null&&a.setAttribute("data-delight-asset",c);a.setAttribute("data-delight","true");e!=null&&d!=null&&(a.style.color=e,a.style.fontWeight=d);return a};c.getEntity=function(){return{__UFI__:!0,id:this.__campaignID,isWeak:!1,type:this.__entityType}};c.canInsertTextBefore=function(){return!1};c.canInsertTextAfter=function(){return!1};return a}(d("CometLexicalEntityTextNode").CometLexicalEntityTextNode);function i(a,b,c,d){return new h(a,b,c,d)}function a(a){return a instanceof h}g.CometLexicalDelightNode=h;g.$createLexicalDelightNode=i;g.$isLexicalDelightNode=a}),98);
__d("CometStickerPickerCardQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6475307285918002"}),null);
__d("CometStickerPickerCardQuery$Parameters",["CometStickerPickerCardQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometStickerPickerCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerCardQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometStickerPickerStickerSearchCard.entrypoint",["CometStickerPickerFlyoutTagSelectorRoot.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometStickerPickerStickerSearchCard.react").__setRef("CometStickerPickerStickerSearchCard.entrypoint");b={getPreloadProps:function(a){var b=a.flyoutTagsCount,e=a.flyoutTagsCursor;a=a.stickerInterface;b={count:b,cursor:e};return{entryPoints:{flyoutTagSelectorEntrypointReference:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("CometStickerPickerFlyoutTagSelectorRoot.entrypoint"),entryPointParams:b})},extraProps:{stickerInterface:a}}},root:a};g["default"]=b}),98);
__d("CometStickerPickerCard.entrypoint",["CometStickerPickerCardQuery$Parameters","CometStickerPickerStickerSearchCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("CometStickerPickerCard.react").__setRef("CometStickerPickerCard.entrypoint");b={getPreloadProps:function(a){var b=a.feedbackID,e=a.stickerInterface;a=babelHelpers.objectWithoutPropertiesLoose(a,["feedbackID","stickerInterface"]);a=babelHelpers["extends"]({},a,{stickerInterface:e});a;return{entryPoints:{stickerSearchEntrypointReference:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("CometStickerPickerStickerSearchCard.entrypoint"),entryPointParams:a})},extraProps:{feedbackTargetID:b,stickerInterface:e},queries:{stickerPickerQueryReference:{parameters:c("CometStickerPickerCardQuery$Parameters"),variables:{feedbackID:b,scale:d("WebPixelRatio").get(),stickerInterface:e}}}}},root:a};g["default"]=b}),98);
__d("CometUFIComposerPluginsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isComposerFocused:!1,openPopoverCount:0,openPopoverCountChange:function(){},setComposerFocusState:function(){}});g["default"]=b}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<a6884c12591ad2ba537133bef9551d73>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("Lexical.prod",["Lexical"],(function $module_Lexical_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _F,_R;function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t;}var n=e(function(t){var e=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams();n.append("code",t);for(var _t2=1;_t2<arguments.length;_t2++){n.append("v",arguments[_t2]);}throw e.search=n.toString(),Error("Minified Lexical error #"+t+"; visit "+e.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");});var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,i=r&&"documentMode"in document?document.documentMode:null,o=r&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),s=r&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),l=!(!r||!("InputEvent"in window)||i)&&"getTargetRanges"in new window.InputEvent("input"),c=r&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),a=r&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=r&&/Android/.test(navigator.userAgent),f=r&&/^(?=.*Chrome).*/i.test(navigator.userAgent),d=r&&u&&f,h=r&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!f;function g(){var e=[];for(var _len=arguments.length,t=new Array(_len),_key=0;_key<_len;_key++){t[_key]=arguments[_key];}for(var _i2=0;_i2<t.length;_i2++){var _n2=t[_i2];if(_n2&&"string"==typeof _n2){for(var _iterator=_n2.matchAll(/\S+/g),_isArray=Array.isArray(_iterator),_i3=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray){if(_i3>=_iterator.length)break;_ref2=_iterator[_i3++];}else{_i3=_iterator.next();if(_i3.done)break;_ref2=_i3.value;}var _ref3=_ref2;var _t3=_ref3[0];e.push(_t3);}}}return e;}var p=0,_=1,m=2,y=128,x=1,C=2,S=3,T=4,v=5,N=6,k=c||a||h?" ":"​",b="\n\n",E=s?" ":k,w="֑-߿יִ-﷽ﹰ-ﻼ",O="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",M=new RegExp("^[^"+O+"]*["+w+"]"),A=new RegExp("^[^"+w+"]*["+O+"]"),D={bold:1,capitalize:1024,code:16,highlight:y,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},P={directionless:1,unmergeable:2},L={center:2,end:6,justify:4,left:1,right:3,start:5},F=(_F={},_F[C]="center",_F[N]="end",_F[T]="justify",_F[x]="left",_F[S]="right",_F[v]="start",_F),I={normal:0,segmented:2,token:1},R=(_R={},_R[p]="normal",_R[m]="segmented",_R[_]="token",_R),B="$";function z(t,e,n,r,i,o){var s=t.getFirstChild();for(;null!==s;){var _t4=s.__key;s.__parent===e&&(Wr(s)&&z(s,_t4,n,r,i,o),n.has(_t4)||o["delete"](_t4),i.push(_t4)),s=s.getNextSibling();}}var W=!1,$=0;function K(t){$=t.timeStamp;}function U(t,e,n){var r="BR"===t.nodeName,i=e.__lexicalLineBreak;return i&&(t===i||r&&t.previousSibling===i)||r&&void 0!==Si(t,n);}function J(t,e,n){var r=ho(ro(n));var i=null,o=null;null!==r&&r.anchorNode===t&&(i=r.anchorOffset,o=r.focusOffset);var s=t.nodeValue;null!==s&&Fi(e,s,i,o,!1);}function j(t,e,n){if(Kn(t)){var _e2=t.anchor.getNode();if(_e2.is(n)&&t.format!==_e2.getFormat())return!1;}return ui(e)&&n.isAttached();}function V(t,e,n,r){for(var _i4=t;_i4&&!Eo(_i4);_i4=Xi(_i4)){var _t5=Si(_i4,e);if(void 0!==_t5){var _e3=xi(_t5,n);if(_e3)return Ur(_e3)||!po(_i4)?void 0:[_i4,_e3];}else if(_i4===r)return[r,bi(n)];}}function H(t,e,n){W=!0;var r=performance.now()-$>100;try{Ir(t,function(){var i=ir()||function(t){return t.getEditorState().read(function(){var t=ir();return null!==t?t.clone():null;});}(t),o=new Map(),l=t.getRootElement(),c=t._editorState,a=t._blockCursorElement;var u=!1,f="";for(var _n3=0;_n3<e.length;_n3++){var _d=e[_n3],_h=_d.type,_g=_d.target,_p=V(_g,t,c,l);if(!_p)continue;var _2=_p[0],_m=_p[1];if("characterData"===_h)r&&Dn(_m)&&ui(_g)&&j(i,_g,_m)&&J(_g,_m,t);else if("childList"===_h){u=!0;var _e4=_d.addedNodes;for(var _n5=0;_n5<_e4.length;_n5++){var _r3=_e4[_n5],_i5=Ci(_r3),_o2=_r3.parentNode;if(null!=_o2&&_r3!==a&&null===_i5&&!U(_r3,_o2,t)){if(s){var _t6=(po(_r3)?_r3.innerText:null)||_r3.nodeValue;_t6&&(f+=_t6);}_o2.removeChild(_r3);}}var _n4=_d.removedNodes,_r2=_n4.length;if(_r2>0){var _e5=0;for(var _i6=0;_i6<_r2;_i6++){var _r4=_n4[_i6];(U(_r4,_g,t)||a===_r4)&&(_g.appendChild(_r4),_e5++);}_r2!==_e5&&o.set(_2,_m);}}}if(o.size>0){for(var _iterator2=o,_isArray2=Array.isArray(_iterator2),_i7=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref5;if(_isArray2){if(_i7>=_iterator2.length)break;_ref5=_iterator2[_i7++];}else{_i7=_iterator2.next();if(_i7.done)break;_ref5=_i7.value;}var _ref6=_ref5;var _e6=_ref6[0];var _n6=_ref6[1];_n6.reconcileObservedMutation(_e6,t);}}var d=n.takeRecords();if(d.length>0){for(var _e7=0;_e7<d.length;_e7++){var _n7=d[_e7],_r5=_n7.addedNodes,_i8=_n7.target;for(var _e8=0;_e8<_r5.length;_e8++){var _n8=_r5[_e8],_o3=_n8.parentNode;null==_o3||"BR"!==_n8.nodeName||U(_n8,_i8,t)||_o3.removeChild(_n8);}}n.takeRecords();}null!==i&&(u&&Ei(i),s&&Hi(t)&&i.insertRawText(f));});}finally{W=!1;}}function Y(t){var e=t._observer;if(null!==e){H(t,e.takeRecords(),e);}}function q(t){!function(t){0===$&&ro(t).addEventListener("textInput",K,!0);}(t),t._observer=new MutationObserver(function(e,n){H(t,e,n);});}function G(t){return t;}var X=function X(t,e){this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||G).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0);};function Q(t,e,n){if(n===void 0){n="latest";}var r=("latest"===n?t.getLatest():t).__state;return r?r.getValue(e):e.defaultValue;}var Z=function(){function Z(t,e,n,r,i){if(e===void 0){e=new Map();}if(n===void 0){n=void 0;}if(r===void 0){r=new Map();}if(i===void 0){i=void 0;}this.node=t,this.sharedConfigMap=e,this.unknownState=n,this.knownState=r;var o=void 0!==i?i:function(t,e,n){var r=n.size;if(e)for(var _i9 in e){var _e9=t.get(_i9);_e9&&n.has(_e9)||r++;}return r;}(e,n,r);this.size=o;}var _proto=Z.prototype;_proto.getValue=function getValue(t){var e=this.knownState.get(t);if(void 0!==e)return e;this.sharedConfigMap.set(t.key,t);var n=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){var _e10=this.unknownState[t.key];void 0!==_e10&&(n=t.parse(_e10)),this.updateFromKnown(t,n);}return n;};_proto.getInternalState=function getInternalState(){return[this.unknownState,this.knownState];};_proto.toJSON=function toJSON(){var _ref9;var t=babelHelpers["extends"]({},this.unknownState);for(var _iterator3=this.knownState,_isArray3=Array.isArray(_iterator3),_i10=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref8;if(_isArray3){if(_i10>=_iterator3.length)break;_ref8=_iterator3[_i10++];}else{_i10=_iterator3.next();if(_i10.done)break;_ref8=_i10.value;}var _ref10=_ref8;var _e11=_ref10[0];var _n9=_ref10[1];_e11.isEqual(_n9,_e11.defaultValue)?delete t[_e11.key]:t[_e11.key]=_e11.unparse(_n9);}return tt(t)?(_ref9={},_ref9[B]=t,_ref9):{};};_proto.getWritable=function getWritable(t){if(this.node===t)return this;var e=new Map(this.knownState),n=tt(r=this.unknownState)&&babelHelpers["extends"]({},r);var r;if(n){for(var _iterator4=e.keys(),_isArray4=Array.isArray(_iterator4),_i11=0,_iterator4=_isArray4?_iterator4:_iterator4[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref11;if(_isArray4){if(_i11>=_iterator4.length)break;_ref11=_iterator4[_i11++];}else{_i11=_iterator4.next();if(_i11.done)break;_ref11=_i11.value;}var _t7=_ref11;delete n[_t7.key];}}return new Z(t,this.sharedConfigMap,tt(n),e,this.size);};_proto.updateFromKnown=function updateFromKnown(t,e){var n=t.key;this.sharedConfigMap.set(n,t);var r=this.knownState,i=this.unknownState;r.has(t)||i&&n in i||this.size++,r.set(t,e);};_proto.updateFromUnknown=function updateFromUnknown(t,e){var n=this.sharedConfigMap.get(t);n?this.updateFromKnown(n,n.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e);};_proto.updateFromJSON=function updateFromJSON(t){var e=this.knownState;for(var _iterator5=e.keys(),_isArray5=Array.isArray(_iterator5),_i12=0,_iterator5=_isArray5?_iterator5:_iterator5[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref12;if(_isArray5){if(_i12>=_iterator5.length)break;_ref12=_iterator5[_i12++];}else{_i12=_iterator5.next();if(_i12.done)break;_ref12=_i12.value;}var _t8=_ref12;e.set(_t8,_t8.defaultValue);}if(this.size=e.size,this.unknownState={},t){var _arr=Object.entries(t);for(var _i13=0;_i13<_arr.length;_i13++){var _ref14=_arr[_i13];var _e12=_ref14[0];var _n10=_ref14[1];this.updateFromUnknown(_e12,_n10);}}this.unknownState=tt(this.unknownState);};return Z;}();function tt(t){if(t)for(var _e13 in t){return t;}}function et(t){var e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new Z(e);return e.__state=n,n;}function nt(t,e){var n=t.__mode,r=t.__format,i=t.__style,o=e.__mode,s=e.__format,l=e.__style,c=t.__state,a=e.__state;return(null===n||n===o)&&(null===r||r===s)&&(null===i||i===l)&&(null===t.__state||c===a||function(t,e){if(t===e)return!0;if(t&&e&&t.size!==e.size)return!1;var n=new Set(),r=function r(t,e){for(var _iterator6=t.knownState,_isArray6=Array.isArray(_iterator6),_i14=0,_iterator6=_isArray6?_iterator6:_iterator6[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref16;if(_isArray6){if(_i14>=_iterator6.length)break;_ref16=_iterator6[_i14++];}else{_i14=_iterator6.next();if(_i14.done)break;_ref16=_i14.value;}var _ref17=_ref16;var _r6=_ref17[0];var _i15=_ref17[1];if(n.has(_r6.key))continue;n.add(_r6.key);var _t9=e?e.getValue(_r6):_r6.defaultValue;if(_t9!==_i15&&!_r6.isEqual(_t9,_i15))return!0;}return!1;},i=function i(t,e){var r=t.unknownState,i=e?e.unknownState:void 0;if(r){var _arr2=Object.entries(r);for(var _i16=0;_i16<_arr2.length;_i16++){var _ref19=_arr2[_i16];var _t10=_ref19[0];var _e14=_ref19[1];if(!n.has(_t10)&&(n.add(_t10),_e14!==(i?i[_t10]:void 0)))return!0;}}return!1;};return!(t&&r(t,e)||e&&r(e,t)||t&&i(t,e)||e&&i(e,t));}(c,a));}function rt(t,e){var n=t.mergeWithSibling(e),r=vr()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n;}function it(t){var e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&Dn(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(nt(e,r)){r=rt(e,r);break;}break;}e.remove();}for(;null!==(n=r.getNextSibling())&&Dn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(nt(r,n)){r=rt(r,n);break;}break;}n.remove();}}else r.remove();}function ot(t){return st(t.anchor),st(t.focus),t;}function st(t){for(;"element"===t.type;){var _e15=t.getNode(),_n11=t.offset;var _r7=void 0,_i17=void 0;if(_n11===_e15.getChildrenSize()?(_r7=_e15.getChildAtIndex(_n11-1),_i17=!0):(_r7=_e15.getChildAtIndex(_n11),_i17=!1),Dn(_r7)){t.set(_r7.__key,_i17?_r7.getTextContentSize():0,"text",!0);break;}if(!Wr(_r7))break;t.set(_r7.__key,_i17?_r7.getChildrenSize():0,"element",!0);}}var lt,ct,at,ut,ft,dt,ht,gt,pt,_t,mt="",yt="",xt=null,Ct="",St="",Tt=!1,vt=!1,Nt=null;function kt(t,e){var n=ht.get(t);if(null!==e){var _n12=Kt(t);_n12.parentNode===e&&e.removeChild(_n12);}if(gt.has(t)||ct._keyToDOMMap["delete"](t),Wr(n)){var _t11=Rt(n,ht);bt(_t11,0,_t11.length-1,null);}void 0!==n&&Ji(_t,at,ut,n,"destroyed");}function bt(t,e,n,r){var i=e;for(;i<=n;++i){var _e16=t[i];void 0!==_e16&&kt(_e16,r);}}function Et(t,e){t.setProperty("text-align",e);}var wt="40px";function Ot(t,e){var n=lt.theme.indent;if("string"==typeof n){var _r8=t.classList.contains(n);e>0&&!_r8?t.classList.add(n):e<1&&_r8&&t.classList.remove(n);}var r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||wt;t.style.setProperty("padding-inline-start",0===e?"":"calc("+e+" * "+r+")");}function Mt(t,e){var n=t.style;0===e?Et(n,""):1===e?Et(n,"left"):2===e?Et(n,"center"):3===e?Et(n,"right"):4===e?Et(n,"justify"):5===e?Et(n,"start"):6===e&&Et(n,"end");}function At(t,e){var r=gt.get(t);void 0===r&&n(60);var i=r.createDOM(lt,ct);if(function(t,e,n){var r=n._keyToDOMMap;(function(t,e,n){var r="__lexicalKey_"+e._key;t[r]=n;})(e,n,t),r.set(t,e);}(t,i,ct),Dn(r)?i.setAttribute("data-lexical-text","true"):Ur(r)&&i.setAttribute("data-lexical-decorator","true"),Wr(r)){var _t12=r.__indent,_e17=r.__size;if(0!==_t12&&Ot(i,_t12),0!==_e17){var _t13=_e17-1;!function(t,e,n,r){var i=yt;yt="",Dt(t,n,0,e,n.getDOMSlot(r)),Ft(n,r),yt=i;}(Rt(r,gt),_t13,r,i);}var _n13=r.__format;0!==_n13&&Mt(i,_n13),r.isInline()||Lt(null,r,i),qi(r)&&(mt+=b,St+=b);}else{var _e18=r.getTextContent();if(Ur(r)){var _e19=r.decorate(ct,lt);null!==_e19&&zt(t,_e19),i.contentEditable="false";}else Dn(r)&&(r.isDirectionless()||(yt+=_e18));mt+=_e18,St+=_e18;}return null!==e&&e.insertChild(i),Ji(_t,at,ut,r,"created"),i;}function Dt(t,e,n,r,i){var o=mt;mt="";var s=n;for(;s<=r;++s){At(t[s],i);var _e20=gt.get(t[s]);null!==_e20&&Dn(_e20)&&(null===xt&&(xt=_e20.getFormat()),""===Ct&&(Ct=_e20.getStyle()));}qi(e)&&(mt+=b);i.element.__lexicalTextContent=mt,mt=o+mt;}function Pt(t,e){if(t){var _n14=t.__last;if(_n14){var _t14=e.get(_n14);if(_t14)return gn(_t14)?"line-break":Ur(_t14)&&_t14.isInline()?"decorator":null;}return"empty";}return null;}function Lt(t,e,n){var r=Pt(t,ht),i=Pt(e,gt);r!==i&&e.getDOMSlot(n).setManagedLineBreak(i);}function Ft(t,e){var n=e.__lexicalDirTextContent||"",r=e.__lexicalDir||"";if(n!==yt||r!==Nt){var _n15=""===yt,_i18=_n15?Nt:function(t){if(M.test(t))return"rtl";if(A.test(t))return"ltr";return null;}(yt);if(_i18!==r){var _o4=e.classList,_s=lt.theme;var _l=null!==r?_s[r]:void 0,_c=null!==_i18?_s[_i18]:void 0;if(void 0!==_l){if("string"==typeof _l){var _t15=g(_l);_l=_s[r]=_t15;}_o4.remove.apply(_o4,_l);}if(null===_i18||_n15&&"ltr"===_i18)e.removeAttribute("dir");else{if(void 0!==_c){if("string"==typeof _c){var _t16=g(_c);_c=_s[_i18]=_t16;}void 0!==_c&&_o4.add.apply(_o4,_c);}e.dir=_i18;}if(!vt){t.getWritable().__dir=_i18;}}Nt=_i18,e.__lexicalDirTextContent=yt,e.__lexicalDir=_i18;}}function It(t,e,r){var i=yt;var o;yt="",xt=null,Ct="",function(t,e,r){var i=mt,o=t.__size,s=e.__size;mt="";var l=r.element;if(1===o&&1===s){var _n16=t.__first,_r9=e.__first;if(_n16===_r9)Bt(_n16,l);else{var _t17=Kt(_n16),_e21=At(_r9,null);try{l.replaceChild(_e21,_t17);}catch(i){if("object"==typeof i&&null!=i){var _o5=i.toString()+" Parent: "+l.tagName+", new child: {tag: "+_e21.tagName+" key: "+_r9+"}, old child: {tag: "+_t17.tagName+", key: "+_n16+"}.";throw new Error(_o5);}throw i;}kt(_n16,null);}var _i19=gt.get(_r9);Dn(_i19)&&(null===xt&&(xt=_i19.getFormat()),""===Ct&&(Ct=_i19.getStyle()));}else{var _i20=Rt(t,ht),_c2=Rt(e,gt);if(_i20.length!==o&&n(227),_c2.length!==s&&n(228),0===o)0!==s&&Dt(_c2,e,0,s-1,r);else if(0===s){if(0!==o){var _t18=null==r.after&&null==r.before&&null==r.element.__lexicalLineBreak;bt(_i20,0,o-1,_t18?null:l),_t18&&(l.textContent="");}}else!function(t,e,n,r,i,o){var s=r-1,l=i-1;var c,a,u=o.getFirstChild(),f=0,d=0;for(;f<=s&&d<=l;){var _t19=e[f],_r10=n[d];if(_t19===_r10)u=Wt(Bt(_r10,o.element)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===a&&(a=new Set(n));var _i22=a.has(_t19),_s2=c.has(_r10);if(_i22){if(_s2){var _t20=Gi(ct,_r10);_t20===u?u=Wt(Bt(_r10,o.element)):(o.withBefore(u).insertChild(_t20),Bt(_r10,o.element)),f++,d++;}else At(_r10,o.withBefore(u)),d++;}else u=Wt(Kt(_t19)),kt(_t19,o.element),f++;}var _i21=gt.get(_r10);null!==_i21&&Dn(_i21)&&(null===xt&&(xt=_i21.getFormat()),""===Ct&&(Ct=_i21.getStyle()));}var h=f>s,g=d>l;if(h&&!g){var _e22=n[l+1],_r11=void 0===_e22?null:ct.getElementByKey(_e22);Dt(n,t,d,l,o.withBefore(_r11));}else g&&!h&&bt(e,f,s,o.element);}(e,_i20,_c2,o,s,r);}qi(e)&&(mt+=b);l.__lexicalTextContent=mt,mt=i+mt;}(t,e,e.getDOMSlot(r)),Ft(e,r),o=e,null==xt||xt===o.__textFormat||vt||o.setTextFormat(xt),function(t){""===Ct||Ct===t.__textStyle||vt||t.setTextStyle(Ct);}(e),yt=i;}function Rt(t,e){var r=[];var i=t.__first;for(;null!==i;){var _t21=e.get(i);void 0===_t21&&n(101),r.push(i),i=_t21.__next;}return r;}function Bt(t,e){var r=ht.get(t);var i=gt.get(t);void 0!==r&&void 0!==i||n(61);var o=Tt||dt.has(t)||ft.has(t),s=Gi(ct,t);if(r===i&&!o){if(Wr(r)){var _t22=s.__lexicalTextContent;void 0!==_t22&&(mt+=_t22,St+=_t22);var _e23=s.__lexicalDirTextContent;void 0!==_e23&&(yt+=_e23);}else{var _t23=r.getTextContent();Dn(r)&&!r.isDirectionless()&&(yt+=_t23),St+=_t23,mt+=_t23;}return s;}if(r!==i&&o&&Ji(_t,at,ut,i,"updated"),i.updateDOM(r,s,lt)){var _r12=At(t,null);return null===e&&n(62),e.replaceChild(_r12,s),kt(t,null),_r12;}if(Wr(r)&&Wr(i)){var _t24=i.__indent;_t24!==r.__indent&&Ot(s,_t24);var _e24=i.__format;_e24!==r.__format&&Mt(s,_e24),o&&(It(r,i,s),jr(i)||i.isInline()||Lt(r,i,s)),qi(i)&&(mt+=b,St+=b);}else{var _e25=i.getTextContent();if(Ur(i)){var _e26=i.decorate(ct,lt);null!==_e26&&zt(t,_e26);}else Dn(i)&&!i.isDirectionless()&&(yt+=_e25);mt+=_e25,St+=_e25;}if(!vt&&jr(i)&&i.__cachedText!==St){var _t25=i.getWritable();_t25.__cachedText=St,i=_t25;}return s;}function zt(t,e){var n=ct._pendingDecorators;var r=ct._decorators;if(null===n){if(r[t]===e)return;n=vi(ct);}n[t]=e;}function Wt(t){var e=t.nextSibling;return null!==e&&e===ct._blockCursorElement&&(e=e.nextSibling),e;}function $t(t,e,n,r,i,o){mt="",St="",yt="",Tt=2===r,Nt=null,ct=n,lt=n._config,at=n._nodes,ut=ct._listeners.mutation,ft=i,dt=o,ht=t._nodeMap,gt=e._nodeMap,vt=e._readOnly,pt=new Map(n._keyToDOMMap);var s=new Map();return _t=s,Bt("root",null),ct=void 0,at=void 0,ft=void 0,dt=void 0,ht=void 0,gt=void 0,lt=void 0,pt=void 0,_t=void 0,s;}function Kt(t){var e=pt.get(t);return void 0===e&&n(75,t),e;}function Ut(t){return{};}var Jt={},jt={},Vt={},Ht={},Yt={},qt={},Gt={},Xt={},Qt={},Zt={},te={},ee={},ne={},re={},ie={},oe={},se={},le={},ce={},ae={},ue={},fe={},de={},he={},ge={},pe={},_e={},me={},ye={},xe={},Ce={},Se={},Te={},ve={},Ne={},ke={},be={},Ee={},we={},Oe={},Me={},Ae={},De={},Pe={},Le={},Fe=Object.freeze({}),Ie=[["keydown",function(t,e){if(Re=t.timeStamp,Be=t.key,e.isComposing())return;var n=t.key,r=t.shiftKey,i=t.ctrlKey,l=t.metaKey,c=t.altKey;if(Yi(e,ie,t))return;if(null==n)return;if(Ve&&Wi(Be))return Ir(e,function(){en(e,He);}),Ve=!1,void(He="");if(function(t,e,n,r){return Ri(t)&&!e&&!r&&!n;}(n,i,c,l))Yi(e,oe,t);else if(function(t,e,n,r,i){return Ri(t)&&!r&&!n&&(e||i);}(n,i,r,c,l))Yi(e,se,t);else if(function(t,e,n,r){return Ii(t)&&!e&&!r&&!n;}(n,i,c,l))Yi(e,le,t);else if(function(t,e,n,r,i){return Ii(t)&&!r&&!n&&(e||i);}(n,i,r,c,l))Yi(e,ce,t);else if(function(t,e,n){return function(t){return"ArrowUp"===t;}(t)&&!e&&!n;}(n,i,l))Yi(e,ae,t);else if(function(t,e,n){return function(t){return"ArrowDown"===t;}(t)&&!e&&!n;}(n,i,l))Yi(e,ue,t);else if(function(t,e){return zi(t)&&e;}(n,r))Je=!0,Yi(e,fe,t);else if(function(t){return" "===t;}(n))Yi(e,de,t);else if(function(t,e){return o&&e&&"o"===t.toLowerCase();}(n,i))t.preventDefault(),Je=!0,Yi(e,Yt,!0);else if(function(t,e){return zi(t)&&!e;}(n,r))Je=!1,Yi(e,fe,t);else if(function(t,e,n,r){if(o)return!e&&!n&&(Wi(t)||"h"===t.toLowerCase()&&r);if(r||e||n)return!1;return Wi(t);}(n,c,l,i))Wi(n)?Yi(e,he,t):(t.preventDefault(),Yi(e,Ht,!0));else if(function(t){return"Escape"===t;}(n))Yi(e,ge,t);else if(function(t,e,n,r,i){if(o)return!(n||r||i)&&($i(t)||"d"===t.toLowerCase()&&e);if(e||r||i)return!1;return $i(t);}(n,i,r,c,l))$i(n)?Yi(e,pe,t):(t.preventDefault(),Yi(e,Ht,!1));else if(function(t,e,n){return Wi(t)&&(o?e:n);}(n,c,i))t.preventDefault(),Yi(e,Zt,!0);else if(function(t,e,n){return $i(t)&&(o?e:n);}(n,c,i))t.preventDefault(),Yi(e,Zt,!1);else if(function(t,e){return o&&e&&Wi(t);}(n,l))t.preventDefault(),Yi(e,te,!0);else if(function(t,e){return o&&e&&$i(t);}(n,l))t.preventDefault(),Yi(e,te,!1);else if(function(t,e,n,r){return"b"===t.toLowerCase()&&!e&&Bi(n,r);}(n,c,l,i))t.preventDefault(),Yi(e,ee,"bold");else if(function(t,e,n,r){return"u"===t.toLowerCase()&&!e&&Bi(n,r);}(n,c,l,i))t.preventDefault(),Yi(e,ee,"underline");else if(function(t,e,n,r){return"i"===t.toLowerCase()&&!e&&Bi(n,r);}(n,c,l,i))t.preventDefault(),Yi(e,ee,"italic");else if(function(t,e,n,r){return"Tab"===t&&!e&&!n&&!r;}(n,c,i,l))Yi(e,_e,t);else if(function(t,e,n,r){return"z"===t.toLowerCase()&&!e&&Bi(n,r);}(n,r,l,i))t.preventDefault(),Yi(e,ne,void 0);else if(function(t,e,n,r){if(o)return"z"===t.toLowerCase()&&n&&e;return"y"===t.toLowerCase()&&r||"z"===t.toLowerCase()&&r&&e;}(n,r,l,i))t.preventDefault(),Yi(e,re,void 0);else{var _c3=e._editorState._selection;null===_c3||Kn(_c3)?!s&&Ki(n,l,i)&&(t.preventDefault(),Yi(e,Ee,t)):!function(t,e,n,r){if(e)return!1;if("c"===t.toLowerCase())return o?n:r;return!1;}(n,r,l,i)?!function(t,e,n,r){if(e)return!1;if("x"===t.toLowerCase())return o?n:r;return!1;}(n,r,l,i)?Ki(n,l,i)&&(t.preventDefault(),Yi(e,Ee,t)):(t.preventDefault(),Yi(e,be,t)):(t.preventDefault(),Yi(e,ke,t));}(function(t,e,n,r){return t||e||n||r;})(i,r,c,l)&&Yi(e,Le,t);}],["pointerdown",function(t,e){var n=t.target,r=t.pointerType;_o(n)&&"touch"!==r&&0===t.button&&Ir(e,function(){Ur(Ti(n))||(Ue=!0);});}],["compositionstart",function(t,e){Ir(e,function(){var n=ir();if(Kn(n)&&!e.isComposing()){var _r13=n.anchor,_i23=n.anchor.getNode();mi(_r13.key),(t.timeStamp<Re+30||"element"===_r13.type||!n.isCollapsed()||_i23.getFormat()!==n.format||Dn(_i23)&&_i23.getStyle()!==n.style)&&Yi(e,Gt,E);}});}],["compositionend",function(t,e){s?je=!0:a||!c&&!h?Ir(e,function(){en(e,t.data);}):(Ve=!0,He=t.data);}],["input",function(t,e){t.stopPropagation(),Ir(e,function(){var n=ir(),r=t.data,i=tn(t);if(null!=r&&Kn(n)&&qe(n,i,r,t.timeStamp,!1)){je&&(en(e,r),je=!1);var _i24=n.anchor.getNode(),_o6=ho(ro(e));if(null===_o6)return;var _u=n.isBackward(),_f=_u?n.anchor.offset:n.focus.offset,_d2=_u?n.focus.offset:n.anchor.offset;l&&!n.isCollapsed()&&Dn(_i24)&&null!==_o6.anchorNode&&_i24.getTextContent().slice(0,_f)+r+_i24.getTextContent().slice(_f+_d2)===Pi(_o6.anchorNode)||Yi(e,Gt,r);var _g2=r.length;s&&_g2>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=_g2),c||a||h||!e.isComposing()||(Re=0,mi(null));}else{Li(!1,e,null!==r?r:void 0),je&&(en(e,r||void 0),je=!1);}!function(){Cr();var t=vr();Y(t);}();},{event:t}),We=null;}],["click",function(t,e){Ir(e,function(){var n=ir(),r=ho(ro(e)),i=or();if(r)if(Kn(n)){var _e27=n.anchor,_o7=_e27.getNode();if("element"===_e27.type&&0===_e27.offset&&n.isCollapsed()&&!jr(_o7)&&1===ki().getChildrenSize()&&_o7.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===t.detail&&!n.isCollapsed()){if(_o7!==n.focus.getNode()){var _t26=function(t,e){var n=t;for(;n!==ki()&&null!=n;){if(e(n))return n;n=n.getParent();}return null;}(_o7,function(t){return Wr(t)&&!t.isInline();});Wr(_t26)&&_t26.select(0);}}}else if("touch"===t.pointerType){var _n17=r.anchorNode;if(po(_n17)||ui(_n17)){Ei(rr(i,r,e,t));}}Yi(e,Vt,t);});}],["cut",Fe],["copy",Fe],["dragstart",Fe],["dragover",Fe],["dragend",Fe],["paste",Fe],["focus",Fe],["blur",Fe],["drop",Fe]];l&&Ie.push(["beforeinput",function(t,e){return function(t,e){var r=t.inputType,i=tn(t);if("deleteCompositionText"===r||s&&Hi(e))return;if("insertCompositionText"===r)return;Ir(e,function(){var o=ir();if("deleteContentBackward"===r){if(null===o){var _t27=or();if(!Kn(_t27))return;Ei(_t27.clone());}if(Kn(o)){var _r14=o.anchor.key===o.focus.key;if(s=t.timeStamp,"MediaLast"===Be&&s<Re+30&&e.isComposing()&&_r14){if(mi(null),Re=0,setTimeout(function(){Ir(e,function(){mi(null);});},30),Kn(o)){var _t28=o.anchor.getNode();_t28.markDirty(),Dn(_t28)||n(142),Ze(o,_t28);}}else{mi(null),t.preventDefault();var _n18=o.anchor.getNode(),_i25=_n18.getTextContent(),_s3=_n18.canInsertTextAfter(),_l2=0===o.anchor.offset&&o.focus.offset===_i25.length;var _c4=d&&_r14&&!_l2&&_s3;_c4&&o.isCollapsed()&&(_c4=!Ur(Vi(o.anchor,!0))),_c4||Yi(e,Ht,!0);}return;}}var s;if(!Kn(o))return;var l=t.data;null!==We&&Li(!1,e,We),o.dirty&&null===We||!o.isCollapsed()||jr(o.anchor.getNode())||null===i||o.applyDOMRange(i),We=null;var c=o.anchor,u=o.focus,f=c.getNode(),h=u.getNode();if("insertText"!==r&&"insertTranspose"!==r)switch(t.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Yi(e,Gt,t);break;case"insertFromComposition":mi(null),Yi(e,Gt,t);break;case"insertLineBreak":mi(null),Yi(e,Yt,!1);break;case"insertParagraph":mi(null),Je&&!a?(Je=!1,Yi(e,Yt,!1)):Yi(e,qt,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Yi(e,Xt,t);break;case"deleteByComposition":(function(t,e){return t!==e||Wr(t)||Wr(e)||!t.isToken()||!e.isToken();})(f,h)&&Yi(e,Qt,t);break;case"deleteByDrag":case"deleteByCut":Yi(e,Qt,t);break;case"deleteContent":Yi(e,Ht,!1);break;case"deleteWordBackward":Yi(e,Zt,!0);break;case"deleteWordForward":Yi(e,Zt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Yi(e,te,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Yi(e,te,!1);break;case"formatStrikeThrough":Yi(e,ee,"strikethrough");break;case"formatBold":Yi(e,ee,"bold");break;case"formatItalic":Yi(e,ee,"italic");break;case"formatUnderline":Yi(e,ee,"underline");break;case"historyUndo":Yi(e,ne,void 0);break;case"historyRedo":Yi(e,re,void 0);}else{if("\n"===l)t.preventDefault(),Yi(e,Yt,!1);else if(l===b)t.preventDefault(),Yi(e,qt,void 0);else if(null==l&&t.dataTransfer){var _e28=t.dataTransfer.getData("text/plain");t.preventDefault(),o.insertRawText(_e28);}else null!=l&&qe(o,i,l,t.timeStamp,!0)?(t.preventDefault(),Yi(e,Gt,l)):We=l;ze=t.timeStamp;}});}(t,e);}]);var Re=0,Be=null,ze=0,We=null;var $e=new WeakMap();var Ke=!1,Ue=!1,Je=!1,je=!1,Ve=!1,He="",Ye=[0,"",0,"root",0];function qe(t,e,n,r,i){var o=t.anchor,s=t.focus,c=o.getNode(),a=vr(),u=ho(ro(a)),f=null!==u?u.anchorNode:null,d=o.key,h=a.getElementByKey(d),g=n.length;return d!==s.key||!Dn(c)||(!i&&(!l||ze<r+50)||c.isDirty()&&g<2||Mi(n))&&o.offset!==s.offset&&!c.isComposing()||ai(c)||c.isDirty()&&g>1||(i||!l)&&null!==h&&!c.isComposing()&&f!==di(h)||null!==u&&null!==e&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||c.getFormat()!==t.format||c.getStyle()!==t.style||function(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;var n=t.anchor.offset,r=e.getParentOrThrow(),i=e.isToken();return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||i||function(t){var e=t.getPreviousSibling();return(Dn(e)||Wr(e)&&e.isInline())&&!e.canInsertTextAfter();}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||i);}(t,c);}function Ge(t,e){return ui(t)&&null!==t.nodeValue&&0!==e&&e!==t.nodeValue.length;}function Xe(t,e,r){var i=t.anchorNode,o=t.anchorOffset,s=t.focusNode,l=t.focusOffset;Ke&&(Ke=!1,Ge(i,o)&&Ge(s,l))||Ir(e,function(){if(!r)return void Ei(null);if(!oi(e,i,s))return;var c=ir();if(Kn(c)){var _r15=c.anchor,_i26=_r15.getNode();if(c.isCollapsed()){"Range"===t.type&&t.anchorNode===t.focusNode&&(c.dirty=!0);var _o8=ro(e).event,_s4=_o8?_o8.timeStamp:performance.now(),_Ye=Ye,_l3=_Ye[0],_a=_Ye[1],_u2=_Ye[2],_f2=_Ye[3],_d3=_Ye[4],_h2=ki(),_g3=!1===e.isComposing()&&""===_h2.getTextContent();if(_s4<_d3+200&&_r15.offset===_u2&&_r15.key===_f2)Qe(c,_l3,_a);else if("text"===_r15.type)Dn(_i26)||n(141),Ze(c,_i26);else if("element"===_r15.type&&!_g3){Wr(_i26)||n(259);var _t29=_r15.getNode();_t29.isEmpty()?function(t,e){var n=e.getTextFormat(),r=e.getTextStyle();Qe(t,n,r);}(c,_t29):Qe(c,0,"");}}else{var _t30=_r15.key,_e29=c.focus.key,_n19=c.getNodes(),_i27=_n19.length,_s5=c.isBackward(),_a2=_s5?l:o,_u3=_s5?o:l,_f3=_s5?_e29:_t30,_d4=_s5?_t30:_e29;var _h3=2047,_g4=!1;for(var _t31=0;_t31<_i27;_t31++){var _e30=_n19[_t31],_r16=_e30.getTextContentSize();if(Dn(_e30)&&0!==_r16&&!(0===_t31&&_e30.__key===_f3&&_a2===_r16||_t31===_i27-1&&_e30.__key===_d4&&0===_u3)&&(_g4=!0,_h3&=_e30.getFormat(),0===_h3))break;}c.format=_g4?_h3:0;}}Yi(e,Jt,void 0);});}function Qe(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0);}function Ze(t,e){Qe(t,e.getFormat(),e.getStyle());}function tn(t){if(!t.getTargetRanges)return null;var e=t.getTargetRanges();return 0===e.length?null:e[0];}function en(t,e){var n=t._compositionKey;if(mi(null),null!==n&&null!=e){if(""===e){var _e31=xi(n),_r17=di(t.getElementByKey(n));return void(null!==_r17&&null!==_r17.nodeValue&&Dn(_e31)&&Fi(_e31,_r17.nodeValue,null,null,!0));}if("\n"===e[e.length-1]){var _e32=ir();if(Kn(_e32)){var _n20=_e32.focus;return _e32.anchor.set(_n20.key,_n20.offset,_n20.type),void Yi(t,fe,null);}}}Li(!0,t,e);}function nn(t){var e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e;}var rn=new Map();function on(t){var e=go(t.target);if(null===e)return;var n=li(e.anchorNode);if(null===n)return;Ue&&(Ue=!1,Ir(n,function(){var r=or(),i=e.anchorNode;if(po(i)||ui(i)){Ei(rr(r,e,n,t));}}));var r=Ai(n),i=r[r.length-1],o=i._key,s=rn.get(o),l=s||i;l!==n&&Xe(e,l,!1),Xe(e,n,!0),n!==i?rn.set(o,n):s&&rn["delete"](o);}function sn(t){t._lexicalHandled=!0;}function ln(t){return!0===t._lexicalHandled;}function cn(t){var e=t.ownerDocument,r=$e.get(e);void 0===r&&n(162);var i=r-1;i>=0||n(164),$e.set(e,i),0===i&&e.removeEventListener("selectionchange",on);var o=ci(t);si(o)?(!function(t){if(null!==t._parentEditor){var _e33=Ai(t),_n21=_e33[_e33.length-1]._key;rn.get(_n21)===t&&rn["delete"](_n21);}else rn["delete"](t._key);}(o),t.__lexicalEditor=null):o&&n(198);var s=nn(t);for(var _t32=0;_t32<s.length;_t32++){s[_t32]();}t.__lexicalEventHandles=[];}function an(t,e,n){Cr();var r=t.__key,i=t.getParent();if(null===i)return;var o=function(t){var e=ir();if(!Kn(e)||!Wr(t))return e;var n=e.anchor,r=e.focus,i=n.getNode(),o=r.getNode();eo(i,t)&&n.set(t.__key,0,"element");eo(o,t)&&r.set(t.__key,0,"element");return e;}(t);var s=!1;if(Kn(o)&&e){var _e34=o.anchor,_n22=o.focus;_e34.key===r&&(cr(_e34,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),_n22.key===r&&(cr(_n22,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0);}else Jn(o)&&e&&t.isSelected()&&t.selectPrevious();if(Kn(o)&&e&&!s){var _e35=t.getIndexWithinParent();pi(t),sr(o,i,_e35,-1);}else pi(t);n||oo(i)||i.canBeEmpty()||!i.isEmpty()||an(i,e),e&&jr(i)&&i.isEmpty()&&i.selectEnd();}var un=function(){un.getType=function getType(){n(64,this.name);};un.clone=function clone(t){n(65,this.name);};var _proto2=un.prototype;_proto2.afterCloneFrom=function afterCloneFrom(t){this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state;};function un(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),gi(this,t);}_proto2.getType=function getType(){return this.__type;};_proto2.isInline=function isInline(){n(137,this.constructor.name);};_proto2.isAttached=function isAttached(){var t=this.__key;for(;null!==t;){if("root"===t)return!0;var _e36=xi(t);if(null===_e36)break;t=_e36.__parent;}return!1;};_proto2.isSelected=function isSelected(t){var _this14=this;var e=t||ir();if(null==e)return!1;var n=e.getNodes().some(function(t){return t.__key===_this14.__key;});if(Dn(this))return n;if(Kn(e)&&"element"===e.anchor.type&&"element"===e.focus.type){if(e.isCollapsed())return!1;var _t33=this.getParent();if(Ur(this)&&this.isInline()&&_t33){var _n23=e.isBackward()?e.focus:e.anchor;if(_t33.is(_n23.getNode())&&_n23.offset===_t33.getChildrenSize()&&this.is(_t33.getLastChild()))return!1;}}return n;};_proto2.getKey=function getKey(){return this.__key;};_proto2.getIndexWithinParent=function getIndexWithinParent(){var t=this.getParent();if(null===t)return-1;var e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling();}return-1;};_proto2.getParent=function getParent(){var t=this.getLatest().__parent;return null===t?null:xi(t);};_proto2.getParentOrThrow=function getParentOrThrow(){var t=this.getParent();return null===t&&n(66,this.__key),t;};_proto2.getTopLevelElement=function getTopLevelElement(){var t=this;for(;null!==t;){var _e37=t.getParent();if(oo(_e37))return Wr(t)||t===this&&Ur(t)||n(194),t;t=_e37;}return null;};_proto2.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){var t=this.getTopLevelElement();return null===t&&n(67,this.__key),t;};_proto2.getParents=function getParents(){var t=[];var e=this.getParent();for(;null!==e;){t.push(e),e=e.getParent();}return t;};_proto2.getParentKeys=function getParentKeys(){var t=[];var e=this.getParent();for(;null!==e;){t.push(e.__key),e=e.getParent();}return t;};_proto2.getPreviousSibling=function getPreviousSibling(){var t=this.getLatest().__prev;return null===t?null:xi(t);};_proto2.getPreviousSiblings=function getPreviousSiblings(){var t=[],e=this.getParent();if(null===e)return t;var n=e.getFirstChild();for(;null!==n&&!n.is(this);){t.push(n),n=n.getNextSibling();}return t;};_proto2.getNextSibling=function getNextSibling(){var t=this.getLatest().__next;return null===t?null:xi(t);};_proto2.getNextSiblings=function getNextSiblings(){var t=[];var e=this.getNextSibling();for(;null!==e;){t.push(e),e=e.getNextSibling();}return t;};_proto2.getCommonAncestor=function getCommonAncestor(t){var e=rs(this,t);return e?e.commonAncestor:null;};_proto2.is=function is(t){return null!=t&&this.__key===t.__key;};_proto2.isBefore=function isBefore(t){var e=rs(this,t);if(null===e)return!1;if("descendant"===e.type)return!0;if("branch"===e.type)return-1===ts(e);if("same"!==e.type&&"ancestor"!==e.type)throw Error("LexicalNode.isBefore: exhaustiveness check");return!1;};_proto2.isParentOf=function isParentOf(t){var e=rs(this,t);return null!==e&&"ancestor"===e.type;};_proto2.getNodesBetween=function getNodesBetween(t){var e=this.isBefore(t),r=[],i=new Set();var o=this;for(;null!==o;){var _s6=o.__key;if(i.has(_s6)||(i.add(_s6),r.push(o)),o===t)break;var _l4=Wr(o)?e?o.getFirstChild():o.getLastChild():null;if(null!==_l4){o=_l4;continue;}var _c5=e?o.getNextSibling():o.getPreviousSibling();if(null!==_c5){o=_c5;continue;}var _a3=o.getParentOrThrow();if(i.has(_a3.__key)||r.push(_a3),_a3===t)break;var _u4=null,_f4=_a3;do{if(null===_f4&&n(68),_u4=e?_f4.getNextSibling():_f4.getPreviousSibling(),_f4=_f4.getParent(),null===_f4)break;null!==_u4||i.has(_f4.__key)||r.push(_f4);}while(null===_u4);o=_u4;}return e||r.reverse(),r;};_proto2.isDirty=function isDirty(){var t=vr()._dirtyLeaves;return null!==t&&t.has(this.__key);};_proto2.getLatest=function getLatest(){var t=xi(this.__key);return null===t&&n(113),t;};_proto2.getWritable=function getWritable(){Cr();var t=Tr(),e=vr(),n=t._nodeMap,r=this.__key,i=this.getLatest(),o=e._cloneNotNeeded,s=ir();if(null!==s&&s.setCachedNodes(null),o.has(r))return _i(i),i;var l=ko(i);return o.add(r),_i(l),n.set(r,l),l;};_proto2.getTextContent=function getTextContent(){return"";};_proto2.getTextContentSize=function getTextContentSize(){return this.getTextContent().length;};_proto2.createDOM=function createDOM(t,e){n(70);};_proto2.updateDOM=function updateDOM(t,e,r){n(71);};_proto2.exportDOM=function exportDOM(t){return{element:this.createDOM(t._config,t)};};_proto2.exportJSON=function exportJSON(){var t=this.__state?this.__state.toJSON():void 0;return babelHelpers["extends"]({type:this.__type,version:1},t);};un.importJSON=function importJSON(t){n(18,this.name);};_proto2.updateFromJSON=function updateFromJSON(e){return function(t,e){var n=t.getWritable();return(e||n.__state)&&et(t).updateFromJSON(e),n;}(this,e[require("Lexical").NODE_STATE_KEY]);};un.transform=function transform(){return null;};_proto2.remove=function remove(t){an(this,!0,t);};_proto2.replace=function replace(t,e){Cr();var r=ir();null!==r&&(r=r.clone()),co(this,t);var i=this.getLatest(),o=this.__key,s=t.__key,l=t.getWritable(),c=this.getParentOrThrow().getWritable(),a=c.__size;pi(l);var u=i.getPreviousSibling(),f=i.getNextSibling(),d=i.__prev,h=i.__next,g=i.__parent;if(an(i,!1,!0),null===u)c.__first=s;else{u.getWritable().__next=s;}if(l.__prev=d,null===f)c.__last=s;else{f.getWritable().__prev=s;}if(l.__next=h,l.__parent=g,c.__size=a,e&&(Wr(this)&&Wr(l)||n(139),this.getChildren().forEach(function(t){l.append(t);})),Kn(r)){Ei(r);var _t34=r.anchor,_e38=r.focus;_t34.key===o&&Wn(_t34,l),_e38.key===o&&Wn(_e38,l);}return yi()===o&&mi(s),l;};_proto2.insertAfter=function insertAfter(t,e){if(e===void 0){e=!0;}Cr(),co(this,t);var n=this.getWritable(),r=t.getWritable(),i=r.getParent(),o=ir();var s=!1,l=!1;if(null!==i){var _e39=t.getIndexWithinParent();if(pi(r),Kn(o)){var _t35=i.__key,_n24=o.anchor,_r18=o.focus;s="element"===_n24.type&&_n24.key===_t35&&_n24.offset===_e39+1,l="element"===_r18.type&&_r18.key===_t35&&_r18.offset===_e39+1;}}var c=this.getNextSibling(),a=this.getParentOrThrow().getWritable(),u=r.__key,f=n.__next;if(null===c)a.__last=u;else{c.getWritable().__prev=u;}if(a.__size++,n.__next=u,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&Kn(o)){var _t36=this.getIndexWithinParent();sr(o,a,_t36+1);var _e40=a.__key;s&&o.anchor.set(_e40,_t36+2,"element"),l&&o.focus.set(_e40,_t36+2,"element");}return t;};_proto2.insertBefore=function insertBefore(t,e){if(e===void 0){e=!0;}Cr(),co(this,t);var n=this.getWritable(),r=t.getWritable(),i=r.__key;pi(r);var o=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();if(null===o)s.__first=i;else{o.getWritable().__next=i;}s.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;var a=ir();if(e&&Kn(a)){sr(a,this.getParentOrThrow(),c);}return t;};_proto2.isParentRequired=function isParentRequired(){return!1;};_proto2.createParentElementNode=function createParentElementNode(){return Zr();};_proto2.selectStart=function selectStart(){return this.selectPrevious();};_proto2.selectEnd=function selectEnd(){return this.selectNext(0,0);};_proto2.selectPrevious=function selectPrevious(t,e){Cr();var n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Wr(n))return n.select();if(!Dn(n)){var _t37=n.getIndexWithinParent()+1;return r.select(_t37,_t37);}return n.select(t,e);};_proto2.selectNext=function selectNext(t,e){Cr();var n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Wr(n))return n.select(0,0);if(!Dn(n)){var _t38=n.getIndexWithinParent();return r.select(_t38,_t38);}return n.select(t,e);};_proto2.markDirty=function markDirty(){this.getWritable();};_proto2.reconcileObservedMutation=function reconcileObservedMutation(t,e){this.markDirty();};return un;}();var fn=function(_un){babelHelpers.inheritsLoose(fn,_un);fn.getType=function getType(){return"linebreak";};fn.clone=function clone(t){return new fn(t.__key);};function fn(t){return _un.call(this,t)||this;}var _proto3=fn.prototype;_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.createDOM=function createDOM(){return document.createElement("br");};_proto3.updateDOM=function updateDOM(){return!1;};fn.importDOM=function importDOM(){return{br:function br(t){return function(t){var e=t.parentElement;if(null!==e&&xo(e)){var _n25=e.firstChild;if(_n25===t||_n25.nextSibling===t&&pn(_n25)){var _n26=e.lastChild;if(_n26===t||_n26.previousSibling===t&&pn(_n26))return!0;}}return!1;}(t)||function(t){var e=t.parentElement;if(null!==e&&xo(e)){var _n27=e.firstChild;if(_n27===t||_n27.nextSibling===t&&pn(_n27))return!1;var _r19=e.lastChild;if(_r19===t||_r19.previousSibling===t&&pn(_r19))return!0;}return!1;}(t)?null:{conversion:dn,priority:0};}};};fn.importJSON=function importJSON(t){return hn().updateFromJSON(t);};return fn;}(un);function dn(t){return{node:hn()};}function hn(){return lo(new fn());}function gn(t){return t instanceof fn;}function pn(t){return ui(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"");}function _n(t,e){return 16&e?"code":e&y?"mark":32&e?"sub":64&e?"sup":null;}function mn(t,e){return 1&e?"strong":2&e?"em":"span";}function yn(t,e,n,r,i){var o=r.classList;var s=Ui(i,"base");void 0!==s&&o.add.apply(o,s),s=Ui(i,"underlineStrikethrough");var l=!1;var c=8&e&&4&e;void 0!==s&&(8&n&&4&n?(l=!0,c||o.add.apply(o,s)):c&&o.remove.apply(o,s));for(var _t39 in D){var _r20=D[_t39];if(s=Ui(i,_t39),void 0!==s)if(n&_r20){if(l&&("underline"===_t39||"strikethrough"===_t39)){e&_r20&&o.remove.apply(o,s);continue;}e&_r20&&(!c||"underline"!==_t39)&&"strikethrough"!==_t39||o.add.apply(o,s);}else e&_r20&&o.remove.apply(o,s);}}function xn(t,e,n){var r=e.firstChild,i=n.isComposing(),o=t+(i?k:"");if(null==r)e.textContent=o;else{var _t40=r.nodeValue;if(_t40!==o)if(i||s){var _ref20=function(t,e){var n=t.length,r=e.length;var i=0,o=0;for(;i<n&&i<r&&t[i]===e[i];){i++;}for(;o+i<n&&o+i<r&&t[n-o-1]===e[r-o-1];){o++;}return[i,n-i-o,e.slice(i,r-o)];}(_t40,o),_e41=_ref20[0],_n28=_ref20[1],_i28=_ref20[2];0!==_n28&&r.deleteData(_e41,_n28),r.insertData(_e41,_i28);}else r.nodeValue=o;}}function Cn(t,e,n,r,i,o){xn(i,t,e);var s=o.theme.text;void 0!==s&&yn(0,0,r,t,s);}function Sn(t,e){var n=document.createElement(e);return n.appendChild(t),n;}var Tn=function(_un2){babelHelpers.inheritsLoose(Tn,_un2);Tn.getType=function getType(){return"text";};Tn.clone=function clone(t){return new Tn(t.__text,t.__key);};var _proto4=Tn.prototype;_proto4.afterCloneFrom=function afterCloneFrom(t){_un2.prototype.afterCloneFrom.call(this,t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail;};function Tn(t,e){var _this;if(t===void 0){t="";}_this=_un2.call(this,e)||this,_this.__text=t,_this.__format=0,_this.__style="",_this.__mode=0,_this.__detail=0;return _this;}_proto4.getFormat=function getFormat(){return this.getLatest().__format;};_proto4.getDetail=function getDetail(){return this.getLatest().__detail;};_proto4.getMode=function getMode(){var t=this.getLatest();return R[t.__mode];};_proto4.getStyle=function getStyle(){return this.getLatest().__style;};_proto4.isToken=function isToken(){return 1===this.getLatest().__mode;};_proto4.isComposing=function isComposing(){return this.__key===yi();};_proto4.isSegmented=function isSegmented(){return 2===this.getLatest().__mode;};_proto4.isDirectionless=function isDirectionless(){return!!(1&this.getLatest().__detail);};_proto4.isUnmergeable=function isUnmergeable(){return!!(2&this.getLatest().__detail);};_proto4.hasFormat=function hasFormat(t){var e=D[t];return!!(this.getFormat()&e);};_proto4.isSimpleText=function isSimpleText(){return"text"===this.__type&&0===this.__mode;};_proto4.getTextContent=function getTextContent(){return this.getLatest().__text;};_proto4.getFormatFlags=function getFormatFlags(t,e){return hi(this.getLatest().__format,t,e);};_proto4.canHaveFormat=function canHaveFormat(){return!0;};_proto4.createDOM=function createDOM(t,e){var n=this.__format,r=_n(0,n),i=mn(0,n),o=null===r?i:r,s=document.createElement(o);var l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(i),s.appendChild(l));Cn(l,this,0,n,this.__text,t);var c=this.__style;return""!==c&&(s.style.cssText=c),s;};_proto4.updateDOM=function updateDOM(t,e,r){var i=this.__text,o=t.__format,s=this.__format,l=_n(0,o),c=_n(0,s),a=mn(0,o),u=mn(0,s);if((null===l?a:l)!==(null===c?u:c))return!0;if(l===c&&a!==u){var _t41=e.firstChild;null==_t41&&n(48);var _o9=document.createElement(u);return Cn(_o9,this,0,s,i,r),e.replaceChild(_o9,_t41),!1;}var f=e;null!==c&&null!==l&&(f=e.firstChild,null==f&&n(49)),xn(i,f,this);var d=r.theme.text;void 0!==d&&o!==s&&yn(0,o,s,f,d);var h=t.__style,g=this.__style;return h!==g&&(e.style.cssText=g),!1;};Tn.importDOM=function importDOM(){return{"#text":function text(){return{conversion:En,priority:0};},b:function b(){return{conversion:Nn,priority:0};},code:function code(){return{conversion:Mn,priority:0};},em:function em(){return{conversion:Mn,priority:0};},i:function i(){return{conversion:Mn,priority:0};},mark:function mark(){return{conversion:Mn,priority:0};},s:function s(){return{conversion:Mn,priority:0};},span:function span(){return{conversion:vn,priority:0};},strong:function strong(){return{conversion:Mn,priority:0};},sub:function sub(){return{conversion:Mn,priority:0};},sup:function sup(){return{conversion:Mn,priority:0};},u:function u(){return{conversion:Mn,priority:0};}};};Tn.importJSON=function importJSON(t){return An().updateFromJSON(t);};_proto4.updateFromJSON=function updateFromJSON(t){return _un2.prototype.updateFromJSON.call(this,t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style);};_proto4.exportDOM=function exportDOM(t){var _un2$prototype$export=_un2.prototype.exportDOM.call(this,t),e=_un2$prototype$export.element;return po(e)||n(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Sn(e,"b")),this.hasFormat("italic")&&(e=Sn(e,"i")),this.hasFormat("strikethrough")&&(e=Sn(e,"s")),this.hasFormat("underline")&&(e=Sn(e,"u")),{element:e};};_proto4.exportJSON=function exportJSON(){return babelHelpers["extends"]({detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent()},_un2.prototype.exportJSON.call(this));};_proto4.selectionTransform=function selectionTransform(t,e){};_proto4.setFormat=function setFormat(t){var e=this.getWritable();return e.__format="string"==typeof t?D[t]:t,e;};_proto4.setDetail=function setDetail(t){var e=this.getWritable();return e.__detail="string"==typeof t?P[t]:t,e;};_proto4.setStyle=function setStyle(t){var e=this.getWritable();return e.__style=t,e;};_proto4.toggleFormat=function toggleFormat(t){var e=hi(this.getFormat(),t,null);return this.setFormat(e);};_proto4.toggleDirectionless=function toggleDirectionless(){var t=this.getWritable();return t.__detail^=1,t;};_proto4.toggleUnmergeable=function toggleUnmergeable(){var t=this.getWritable();return t.__detail^=2,t;};_proto4.setMode=function setMode(t){var e=I[t];if(this.__mode===e)return this;var n=this.getWritable();return n.__mode=e,n;};_proto4.setTextContent=function setTextContent(t){if(this.__text===t)return this;var e=this.getWritable();return e.__text=t,e;};_proto4.select=function select(t,e){Cr();var n=t,r=e;var i=ir(),o=this.getTextContent(),s=this.__key;if("string"==typeof o){var _t42=o.length;void 0===n&&(n=_t42),void 0===r&&(r=_t42);}else n=0,r=0;if(!Kn(i))return tr(s,n,s,r,"text","text");{var _t43=yi();_t43!==i.anchor.key&&_t43!==i.focus.key||mi(s),i.setTextNodeRange(this,n,this,r);}return i;};_proto4.selectStart=function selectStart(){return this.select(0,0);};_proto4.selectEnd=function selectEnd(){var t=this.getTextContentSize();return this.select(t,t);};_proto4.spliceText=function spliceText(t,e,n,r){var i=this.getWritable(),o=i.__text,s=n.length;var l=t;l<0&&(l=s+l,l<0&&(l=0));var c=ir();if(r&&Kn(c)){var _e42=t+s;c.setTextNodeRange(i,_e42,i,_e42);}var a=o.slice(0,l)+n+o.slice(l+e);return i.__text=a,i;};_proto4.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto4.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto4.splitText=function splitText(){Cr();var e=this.getLatest(),n=e.getTextContent();if(""===n)return[];var r=e.__key,i=yi(),o=n.length;for(var _len2=arguments.length,t=new Array(_len2),_key2=0;_key2<_len2;_key2++){t[_key2]=arguments[_key2];}t.sort(function(t,e){return t-e;}),t.push(o);var s=[],l=t.length;for(var _e43=0,_r21=0;_e43<o&&_r21<=l;_r21++){var _i29=t[_r21];_i29>_e43&&(s.push(n.slice(_e43,_i29)),_e43=_i29);}var c=s.length;if(1===c)return[e];var a=s[0],u=e.getParent();var f;var d=e.getFormat(),h=e.getStyle(),g=e.__detail;var p=!1,_=null,m=null;var y=ir();if(Kn(y)){var _ref21=y.isBackward()?[y.focus,y.anchor]:[y.anchor,y.focus],_t44=_ref21[0],_e44=_ref21[1];"text"===_t44.type&&_t44.key===r&&(_=_t44),"text"===_e44.type&&_e44.key===r&&(m=_e44);}e.isSegmented()?(f=An(a),f.__format=d,f.__style=h,f.__detail=g,p=!0):(f=e.getWritable(),f.__text=a);var x=[f];for(var _t45=1;_t45<c;_t45++){var _e45=An(s[_t45]);_e45.__format=d,_e45.__style=h,_e45.__detail=g;var _n29=_e45.__key;i===r&&mi(_n29),x.push(_e45);}var C=_?_.offset:null,S=m?m.offset:null;var T=0;for(var _i30=0;_i30<x.length;_i30++){var _t47=x[_i30];if(!_&&!m)break;var _e47=T+_t47.getTextContentSize();if(null!==_&&null!==C&&C<=_e47&&C>=T&&(_.set(_t47.getKey(),C-T,"text"),C<_e47&&(_=null)),null!==m&&null!==S&&S<=_e47&&S>=T){m.set(_t47.getKey(),S-T,"text");break;}T=_e47;}if(null!==u){!function(t){var e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&_i(e);null!==n&&_i(n);}(this);var _t46=u.getWritable(),_e46=this.getIndexWithinParent();p?(_t46.splice(_e46,0,x),this.remove()):_t46.splice(_e46,1,x),Kn(y)&&sr(y,u,_e46,c-1);}return x;};_proto4.mergeWithSibling=function mergeWithSibling(t){var e=t===this.getPreviousSibling();e||t===this.getNextSibling()||n(50);var r=this.__key,i=t.__key,o=this.__text,s=o.length;yi()===i&&mi(r);var l=ir();if(Kn(l)){var _n30=l.anchor,_o10=l.focus;null!==_n30&&_n30.key===i&&ar(_n30,e,r,t,s),null!==_o10&&_o10.key===i&&ar(_o10,e,r,t,s);}var c=t.__text,a=e?c+o:o+c;this.setTextContent(a);var u=this.getWritable();return t.remove(),u;};_proto4.isTextEntity=function isTextEntity(){return!1;};return Tn;}(un);function vn(t){return{forChild:Pn(t.style),node:null};}function Nn(t){var e=t,n="normal"===e.style.fontWeight;return{forChild:Pn(e.style,n?void 0:"bold"),node:null};}var kn=new WeakMap();function bn(t){if(!po(t))return!1;if("PRE"===t.nodeName)return!0;var e=t.style.whiteSpace;return"string"==typeof e&&e.startsWith("pre");}function En(t){var e=t;null===t.parentElement&&n(129);var r=e.textContent||"";if(null!==function(t){var e,n=t.parentNode;var r=[t];for(;null!==n&&void 0===(e=kn.get(n))&&!bn(n);){r.push(n),n=n.parentNode;}var i=void 0===e?n:e;for(var _t48=0;_t48<r.length;_t48++){kn.set(r[_t48],i);}return i;}(e)){var _t49=r.split(/(\r?\n|\t)/),_e48=[],_n31=_t49.length;for(var _r22=0;_r22<_n31;_r22++){var _n32=_t49[_r22];"\n"===_n32||"\r\n"===_n32?_e48.push(hn()):"\t"===_n32?_e48.push(Fn()):""!==_n32&&_e48.push(An(_n32));}return{node:_e48};}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===r)return{node:null};if(" "===r[0]){var _t50=e,_n33=!0;for(;null!==_t50&&null!==(_t50=wn(_t50,!1));){var _e49=_t50.textContent||"";if(_e49.length>0){/[ \t\n]$/.test(_e49)&&(r=r.slice(1)),_n33=!1;break;}}_n33&&(r=r.slice(1));}if(" "===r[r.length-1]){var _t51=e,_n34=!0;for(;null!==_t51&&null!==(_t51=wn(_t51,!0));){if((_t51.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){_n34=!1;break;}}_n34&&(r=r.slice(0,r.length-1));}return""===r?{node:null}:{node:An(r)};}function wn(t,e){var n=t;for(;;){var _t52=void 0;for(;null===(_t52=e?n.nextSibling:n.previousSibling);){var _t53=n.parentElement;if(null===_t53)return null;n=_t53;}if(n=_t52,po(n)){var _t54=n.style.display;if(""===_t54&&!yo(n)||""!==_t54&&!_t54.startsWith("inline"))return null;}var _r23=n;for(;null!==(_r23=e?n.firstChild:n.lastChild);){n=_r23;}if(ui(n))return n;if("BR"===n.nodeName)return null;}}var On={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Mn(t){var e=On[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:Pn(t.style,e),node:null};}function An(t){if(t===void 0){t="";}return lo(new Tn(t));}function Dn(t){return t instanceof Tn;}function Pn(t,e){var n=t.fontWeight,r=t.textDecoration.split(" "),i="700"===n||"bold"===n,o=r.includes("line-through"),s="italic"===t.fontStyle,l=r.includes("underline"),c=t.verticalAlign;return function(t){return Dn(t)?(i&&!t.hasFormat("bold")&&t.toggleFormat("bold"),o&&!t.hasFormat("strikethrough")&&t.toggleFormat("strikethrough"),s&&!t.hasFormat("italic")&&t.toggleFormat("italic"),l&&!t.hasFormat("underline")&&t.toggleFormat("underline"),"sub"!==c||t.hasFormat("subscript")||t.toggleFormat("subscript"),"super"!==c||t.hasFormat("superscript")||t.toggleFormat("superscript"),e&&!t.hasFormat(e)&&t.toggleFormat(e),t):t;};}var Ln=function(_Tn){babelHelpers.inheritsLoose(Ln,_Tn);Ln.getType=function getType(){return"tab";};Ln.clone=function clone(t){return new Ln(t.__key);};function Ln(t){var _this2;_this2=_Tn.call(this,"\t",t)||this,_this2.__detail=2;return _this2;}Ln.importDOM=function importDOM(){return null;};var _proto5=Ln.prototype;_proto5.createDOM=function createDOM(t){var e=_Tn.prototype.createDOM.call(this,t),n=Ui(t.theme,"tab");if(void 0!==n){var _e$classList;(_e$classList=e.classList).add.apply(_e$classList,n);}return e;};Ln.importJSON=function importJSON(t){return Fn().updateFromJSON(t);};_proto5.setTextContent=function setTextContent(t){return"\t"!==t&&""!==t&&n(126),_Tn.prototype.setTextContent.call(this,t);};_proto5.setDetail=function setDetail(t){return 2!==t&&n(127),this;};_proto5.setMode=function setMode(t){return"normal"!==t&&n(128),this;};_proto5.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto5.canInsertTextAfter=function canInsertTextAfter(){return!1;};return Ln;}(Tn);function Fn(){return lo(new Ln());}function In(t){return t instanceof Ln;}var Rn=function(){function Rn(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n;}var _proto6=Rn.prototype;_proto6.is=function is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type;};_proto6.isBefore=function isBefore(t){var e=this.getNode(),n=t.getNode();var r=this.offset,i=t.offset;if(Wr(e)){var _t55=e.getDescendantByIndex(r);e=null!=_t55?_t55:e;}if(Wr(n)){var _t56=n.getDescendantByIndex(i);n=null!=_t56?_t56:n;}return e===n?r<i:e.isBefore(n);};_proto6.getNode=function getNode(){var t=xi(this.key);return null===t&&n(20),t;};_proto6.set=function set(t,e,n,r){var i=this._selection,o=this.key;r&&this.key===t&&this.offset===e&&this.type===n||(this.key=t,this.offset=e,this.type=n,xr()||(yi()===o&&mi(t),null!==i&&(i.setCachedNodes(null),i.dirty=!0)));};return Rn;}();function Bn(t,e,n){return new Rn(t,e,n);}function zn(t,e){var n=e.__key,r=t.offset,i="element";if(Dn(e)){i="text";var _t57=e.getTextContentSize();r>_t57&&(r=_t57);}else if(!Wr(e)){var _t58=e.getNextSibling();if(Dn(_t58))n=_t58.__key,r=0,i="text";else{var _t59=e.getParent();_t59&&(n=_t59.__key,r=e.getIndexWithinParent()+1);}}t.set(n,r,i);}function Wn(t,e){if(Wr(e)){var _n35=e.getLastDescendant();Wr(_n35)||Dn(_n35)?zn(t,_n35):zn(t,e);}else zn(t,e);}var $n=function(){function $n(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1;}var _proto7=$n.prototype;_proto7.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto7.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto7.is=function is(t){if(!Jn(t))return!1;var e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every(function(t){return n.has(t);});};_proto7.isCollapsed=function isCollapsed(){return!1;};_proto7.isBackward=function isBackward(){return!1;};_proto7.getStartEndPoints=function getStartEndPoints(){return null;};_proto7.add=function add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null;};_proto7["delete"]=function _delete(t){this.dirty=!0,this._nodes["delete"](t),this._cachedNodes=null;};_proto7.clear=function clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null;};_proto7.has=function has(t){return this._nodes.has(t);};_proto7.clone=function clone(){return new $n(new Set(this._nodes));};_proto7.extract=function extract(){return this.getNodes();};_proto7.insertRawText=function insertRawText(t){};_proto7.insertText=function insertText(){};_proto7.insertNodes=function insertNodes(t){var e=this.getNodes(),n=e.length,r=e[n-1];var i;if(Dn(r))i=r.select();else{var _t60=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(_t60,_t60);}i.insertNodes(t);for(var _t61=0;_t61<n;_t61++){e[_t61].remove();}};_proto7.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=this._nodes,n=[];for(var _iterator7=e,_isArray7=Array.isArray(_iterator7),_i31=0,_iterator7=_isArray7?_iterator7:_iterator7[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref22;if(_isArray7){if(_i31>=_iterator7.length)break;_ref22=_iterator7[_i31++];}else{_i31=_iterator7.next();if(_i31.done)break;_ref22=_i31.value;}var _t62=_ref22;var _e50=xi(_t62);null!==_e50&&n.push(_e50);}return xr()||(this._cachedNodes=n),n;};_proto7.getTextContent=function getTextContent(){var t=this.getNodes();var e="";for(var _n36=0;_n36<t.length;_n36++){e+=t[_n36].getTextContent();}return e;};return $n;}();function Kn(t){return t instanceof Un;}var Un=function(){function Un(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1;}var _proto8=Un.prototype;_proto8.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto8.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto8.is=function is(t){return!!Kn(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style;};_proto8.isCollapsed=function isCollapsed(){return this.anchor.is(this.focus);};_proto8.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=function(t){var e=[],_t$getTextSlices=t.getTextSlices(),n=_t$getTextSlices[0],r=_t$getTextSlices[1];n&&e.push(n.caret.origin);var i=new Set(),o=new Set();for(var _iterator8=t,_isArray8=Array.isArray(_iterator8),_i32=0,_iterator8=_isArray8?_iterator8:_iterator8[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref23;if(_isArray8){if(_i32>=_iterator8.length)break;_ref23=_iterator8[_i32++];}else{_i32=_iterator8.next();if(_i32.done)break;_ref23=_i32.value;}var _n39=_ref23;if(Bo(_n39)){var _t64=_n39.origin;0===e.length?i.add(_t64):(o.add(_t64),e.push(_t64));}else{var _t65=_n39.origin;Wr(_t65)&&o.has(_t65)||e.push(_t65);}}r&&e.push(r.caret.origin);if(Ro(t.focus)&&Wr(t.focus.origin)&&null===t.focus.getNodeAtCaret())for(var _n37=Vo(t.focus.origin,"previous");Bo(_n37)&&i.has(_n37.origin)&&!_n37.origin.isEmpty()&&_n37.origin.is(e[e.length-1]);_n37=Yo(_n37)){i["delete"](_n37.origin),e.pop();}for(;e.length>1;){var _t63=e[e.length-1];if(!Wr(_t63)||o.has(_t63)||_t63.isEmpty()||i.has(_t63))break;e.pop();}if(0===e.length&&t.isCollapsed()){var _n38=ds(t.anchor),_r24=ds(t.anchor.getFlipped()),_i33=function _i33(t){return Io(t)?t.origin:t.getNodeAtCaret();},_o11=_i33(_n38)||_i33(_r24)||(t.anchor.getNodeAtCaret()?_n38.origin:_r24.origin);e.push(_o11);}return e;}(gs(ls(this),"next"));return xr()||(this._cachedNodes=e),e;};_proto8.setTextNodeRange=function setTextNodeRange(t,e,n,r){this.anchor.set(t.__key,e,"text"),this.focus.set(n.__key,r,"text");};_proto8.getTextContent=function getTextContent(){var t=this.getNodes();if(0===t.length)return"";var e=t[0],n=t[t.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),_Vn=Vn(this),s=_Vn[0],l=_Vn[1];var c="",a=!0;for(var _u5=0;_u5<t.length;_u5++){var _f5=t[_u5];if(Wr(_f5)&&!_f5.isInline())a||(c+="\n"),a=!_f5.isEmpty();else if(a=!1,Dn(_f5)){var _t66=_f5.getTextContent();_f5===e?_f5===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(_t66=s<l?_t66.slice(s,l):_t66.slice(l,s)):_t66=o?_t66.slice(s):_t66.slice(l):_f5===n&&(_t66=o?_t66.slice(0,l):_t66.slice(0,s)),c+=_t66;}else!Ur(_f5)&&!gn(_f5)||_f5===n&&this.isCollapsed()||(c+=_f5.getTextContent());}return c;};_proto8.applyDOMRange=function applyDOMRange(t){var e=vr(),n=e.getEditorState()._selection,r=Zn(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;var i=r[0],o=r[1];this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(o.key,o.offset,o.type,!0),ot(this);};_proto8.clone=function clone(){var t=this.anchor,e=this.focus;return new Un(Bn(t.key,t.offset,t.type),Bn(e.key,e.offset,e.type),this.format,this.style);};_proto8.toggleFormat=function toggleFormat(t){this.format=hi(this.format,t,null),this.dirty=!0;};_proto8.setStyle=function setStyle(t){this.style=t,this.dirty=!0;};_proto8.hasFormat=function hasFormat(t){var e=D[t];return!!(this.format&e);};_proto8.insertRawText=function insertRawText(t){var e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(var _t67=0;_t67<r;_t67++){var _r25=e[_t67];"\n"===_r25||"\r\n"===_r25?n.push(hn()):"\t"===_r25?n.push(Fn()):n.push(An(_r25));}this.insertNodes(n);};_proto8.insertText=function insertText(t){var e=this.anchor,r=this.focus,i=this.format,o=this.style;var s=e,l=r;!this.isCollapsed()&&r.isBefore(e)&&(s=r,l=e),"element"===s.type&&function(t,e,n,r){var i=t.getNode(),o=i.getChildAtIndex(t.offset),s=An(),l=jr(i)?Zr().append(s):s;s.setFormat(n),s.setStyle(r),null===o?i.append(l):o.insertBefore(l),t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text");}(s,l,i,o),"element"===l.type&&os(l,ds(is(l,"next")));var c=s.offset;var a=l.offset;var u=this.getNodes(),f=u.length;var d=u[0];Dn(d)||n(26);var h=d.getTextContent().length,g=d.getParentOrThrow();var p=u[f-1];if(1===f&&"element"===l.type&&(a=h,l.set(s.key,a,"text")),this.isCollapsed()&&c===h&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&null===d.getNextSibling())){var _e51=d.getNextSibling();if(Dn(_e51)&&_e51.canInsertTextBefore()&&!ai(_e51)||(_e51=An(),_e51.setFormat(i),_e51.setStyle(o),g.canInsertTextAfter()?d.insertAfter(_e51):g.insertAfter(_e51)),_e51.select(0,0),d=_e51,""!==t)return void this.insertText(t);}else if(this.isCollapsed()&&0===c&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&null===d.getPreviousSibling())){var _e52=d.getPreviousSibling();if(Dn(_e52)&&!ai(_e52)||(_e52=An(),_e52.setFormat(i),g.canInsertTextBefore()?d.insertBefore(_e52):g.insertBefore(_e52)),_e52.select(),d=_e52,""!==t)return void this.insertText(t);}else if(d.isSegmented()&&c!==h){var _t68=An(d.getTextContent());_t68.setFormat(i),d.replace(_t68),d=_t68;}else if(!this.isCollapsed()&&""!==t){var _e53=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||Wr(_e53)&&(!_e53.canInsertTextBefore()||!_e53.canInsertTextAfter()))return this.insertText(""),Qn(this.anchor,this.focus,null),void this.insertText(t);}if(1===f){if(d.isToken()){var _e55=An(t);return _e55.select(),void d.replace(_e55);}var _e54=d.getFormat(),_n40=d.getStyle();if(c!==a||_e54===i&&_n40===o){if(In(d)){var _e56=An(t);return _e56.setFormat(i),_e56.setStyle(o),_e56.select(),void d.replace(_e56);}}else{if(""!==d.getTextContent()){var _e57=An(t);if(_e57.setFormat(i),_e57.setStyle(o),_e57.select(),0===c)d.insertBefore(_e57,!1);else{var _d$splitText=d.splitText(c),_t69=_d$splitText[0];_t69.insertAfter(_e57,!1);}return void(_e57.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length));}d.setFormat(i),d.setStyle(o);}var _r26=a-c;d=d.spliceText(c,_r26,t,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=t.length:(this.format=_e54,this.style=_n40));}else{var _e58=new Set([].concat(d.getParentKeys(),p.getParentKeys())),_n41=Wr(d)?d:d.getParentOrThrow();var _r27=Wr(p)?p:p.getParentOrThrow(),_i34=p;if(!_n41.is(_r27)&&_r27.isInline())do{_i34=_r27,_r27=_r27.getParentOrThrow();}while(_r27.isInline());if("text"===l.type&&(0!==a||""===p.getTextContent())||"element"===l.type&&p.getIndexWithinParent()<a){if(Dn(p)&&!p.isToken()&&a!==p.getTextContentSize()){if(p.isSegmented()){var _t70=An(p.getTextContent());p.replace(_t70),p=_t70;}jr(l.getNode())||"text"!==l.type||(p=p.spliceText(0,a,"")),_e58.add(p.__key);}else{var _t71=p.getParentOrThrow();_t71.canBeEmpty()||1!==_t71.getChildrenSize()?p.remove():_t71.remove();}}else _e58.add(p.__key);var _o12=_r27.getChildren(),_s7=new Set(u),_g5=_n41.is(_r27),_3=_n41.isInline()&&null===d.getNextSibling()?_n41:d;for(var _t72=_o12.length-1;_t72>=0;_t72--){var _e59=_o12[_t72];if(_e59.is(d)||Wr(_e59)&&_e59.isParentOf(d))break;_e59.isAttached()&&(!_s7.has(_e59)||_e59.is(_i34)?_g5||_3.insertAfter(_e59,!1):_e59.remove());}if(!_g5){var _t73=_r27,_n42=null;for(;null!==_t73;){var _r28=_t73.getChildren(),_i35=_r28.length;(0===_i35||_r28[_i35-1].is(_n42))&&(_e58["delete"](_t73.__key),_n42=_t73),_t73=_t73.getParent();}}if(d.isToken()){if(c===h)d.select();else{var _e60=An(t);_e60.select(),d.replace(_e60);}}else d=d.spliceText(c,h-c,t,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length);for(var _t74=1;_t74<f;_t74++){var _n43=u[_t74],_r29=_n43.__key;_e58.has(_r29)||_n43.remove();}}};_proto8.removeText=function removeText(){var t=ir()===this;ss(this,fs(ls(this))),t&&ir()!==this&&Ei(this);};_proto8.formatText=function formatText(t,e){var _d$splitText2,_$splitText;if(e===void 0){e=null;}if(this.isCollapsed())return this.toggleFormat(t),void mi(null);var n=this.getNodes(),r=[];for(var _iterator9=n,_isArray9=Array.isArray(_iterator9),_i36=0,_iterator9=_isArray9?_iterator9:_iterator9[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref24;if(_isArray9){if(_i36>=_iterator9.length)break;_ref24=_iterator9[_i36++];}else{_i36=_iterator9.next();if(_i36.done)break;_ref24=_i36.value;}var _t76=_ref24;Dn(_t76)&&r.push(_t76);}var i=function i(e){n.forEach(function(n){if(Wr(n)){var _r30=n.getFormatFlags(t,e);n.setTextFormat(_r30);}});},o=r.length;if(0===o)return this.toggleFormat(t),mi(null),void i(e);var s=this.anchor,l=this.focus,c=this.isBackward(),a=c?l:s,u=c?s:l;var f=0,d=r[0],h="element"===a.type?0:a.offset;if("text"===a.type&&h===d.getTextContentSize()&&(f=1,d=r[1],h=0),null==d)return;var g=d.getFormatFlags(t,e);i(g);var p=o-1;var _=r[p];var m="text"===u.type?u.offset:_.getTextContentSize();if(d.is(_)){if(h===m)return;if(ai(d)||0===h&&m===d.getTextContentSize())d.setFormat(g);else{var _t75=d.splitText(h,m),_e61=0===h?_t75[0]:_t75[1];_e61.setFormat(g),"text"===a.type&&a.set(_e61.__key,0,"text"),"text"===u.type&&u.set(_e61.__key,m-h,"text");}return void(this.format=g);}0===h||ai(d)||((_d$splitText2=d.splitText(h),d=_d$splitText2[1],_d$splitText2),h=0),d.setFormat(g);var y=_.getFormatFlags(t,g);m>0&&(m===_.getTextContentSize()||ai(_)||(_$splitText=_.splitText(m),_=_$splitText[0],_$splitText),_.setFormat(y));for(var _e62=f+1;_e62<p;_e62++){var _n44=r[_e62],_i37=_n44.getFormatFlags(t,y);_n44.setFormat(_i37);}"text"===a.type&&a.set(d.__key,h,"text"),"text"===u.type&&u.set(_.__key,m,"text"),this.format=g|y;};_proto8.insertNodes=function insertNodes(t){if(0===t.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();var _e63=ir();return Kn(_e63)||n(134),_e63.insertNodes(t);}var e=(this.isBackward()?this.focus:this.anchor).getNode(),r=So(e,Co),i=t[t.length-1];if(Wr(r)&&"__language"in r){if("__language"in t[0])this.insertText(t[0].getTextContent());else{var _e64=fr(this);r.splice(_e64,0,t),i.selectEnd();}return;}if(!t.some(function(t){return(Wr(t)||Ur(t))&&!t.isInline();})){Wr(r)||n(211,e.constructor.name,e.getType());var _o13=fr(this);return r.splice(_o13,0,t),void i.selectEnd();}var o=function(t){var e=Zr();var n=null;for(var _r31=0;_r31<t.length;_r31++){var _i38=t[_r31],_o14=gn(_i38);if(_o14||Ur(_i38)&&_i38.isInline()||Wr(_i38)&&_i38.isInline()||Dn(_i38)||_i38.isParentRequired()){if(null===n&&(n=_i38.createParentElementNode(),e.append(n),_o14))continue;null!==n&&n.append(_i38);}else e.append(_i38),n=null;}return e;}(t),s=o.getLastDescendant(),l=o.getChildren(),c=!Wr(r)||!r.isEmpty()?this.insertParagraph():null,a=l[l.length-1];var u=l[0];var f;Wr(f=u)&&Co(f)&&!f.isEmpty()&&Wr(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(Wr(r)||n(211,e.constructor.name,e.getType()),r.append.apply(r,u.getChildren()),u=l[1]),u&&(null===r&&n(212,e.constructor.name,e.getType()),function(t,e){var r=e.getParentOrThrow().getLastChild();var i=e;var o=[e];for(;i!==r;){i.getNextSibling()||n(140),i=i.getNextSibling(),o.push(i);}var s=t;for(var _i39=0;_i39<o.length;_i39++){var _t77=o[_i39];s=s.insertAfter(_t77);}}(r,u));var d=So(s,Co);c&&Wr(d)&&(c.canMergeWhenEmpty()||Co(a))&&(d.append.apply(d,c.getChildren()),c.remove()),Wr(r)&&r.isEmpty()&&r.remove(),s.selectEnd();var h=Wr(r)?r.getLastChild():null;gn(h)&&d!==r&&h.remove();};_proto8.insertParagraph=function insertParagraph(){if("root"===this.anchor.key){var _t78=Zr();return ki().splice(this.anchor.offset,0,[_t78]),_t78.select(),_t78;}var t=fr(this),e=So(this.anchor.getNode(),Co);Wr(e)||n(213);var r=e.getChildAtIndex(t),i=r?[r].concat(r.getNextSiblings()):[],o=e.insertNewAfter(this,!1);return o?(o.append.apply(o,i),o.selectStart(),o):null;};_proto8.insertLineBreak=function insertLineBreak(t){var e=hn();if(this.insertNodes([e]),t){var _t79=e.getParentOrThrow(),_n45=e.getIndexWithinParent();_t79.select(_n45,_n45);}};_proto8.extract=function extract(){var t=this.getNodes(),e=t.length,n=e-1,r=this.anchor,i=this.focus;var o=t[0],s=t[n];var _Vn2=Vn(this),l=_Vn2[0],c=_Vn2[1];if(0===e)return[];if(1===e){if(Dn(o)&&!this.isCollapsed()){var _t80=l>c?c:l,_e65=l>c?l:c,_n46=o.splitText(_t80,_e65),_r32=0===_t80?_n46[0]:_n46[1];return null!=_r32?[_r32]:[];}return[o];}var a=r.isBefore(i);if(Dn(o)){var _o$splitText;var _e66=a?l:c;_e66===o.getTextContentSize()?t.shift():0!==_e66&&((_o$splitText=o.splitText(_e66),o=_o$splitText[1],_o$splitText),t[0]=o);}if(Dn(s)){var _s$splitText;var _e67=s.getTextContent().length,_r33=a?c:l;0===_r33?t.pop():_r33!==_e67&&((_s$splitText=s.splitText(_r33),s=_s$splitText[0],_s$splitText),t[n]=s);}return t;};_proto8.modify=function modify(t,e,n){var r=this.focus,i=this.anchor,o="move"===t,s=Vi(r,e);if(Ur(s)&&!s.isIsolated()){if(o&&s.isKeyboardSelectable()){var _t82=nr();return _t82.add(s.__key),void Ei(_t82);}var _t81=e?s.getPreviousSibling():s.getNextSibling();if(Dn(_t81)){var _n47=_t81.__key,_s8=e?_t81.getTextContent().length:0;return r.set(_n47,_s8,"text"),void(o&&i.set(_n47,_s8,"text"));}{var _n48=s.getParentOrThrow();var _l5,_c6;return Wr(_t81)?(_c6=_t81.__key,_l5=e?_t81.getChildrenSize():0):(_l5=s.getIndexWithinParent(),_c6=_n48.__key,e||_l5++),r.set(_c6,_l5,"element"),void(o&&i.set(_c6,_l5,"element"));}}var l=vr(),c=ho(ro(l));if(!c)return;var a=l._blockCursorElement,u=l._rootElement;if(null===u||null===a||!Wr(s)||s.isInline()||s.canBeEmpty()||fo(a,l,u),function(t,e,n,r){t.modify(e,n,r);}(c,t,e?"backward":"forward",n),c.rangeCount>0){var _t83=c.getRangeAt(0),_n49=this.anchor.getNode(),_r34=jr(_n49)?_n49:io(_n49);if(this.applyDOMRange(_t83),this.dirty=!0,!o){var _n50=this.getNodes(),_i40=[];var _o15=!1;for(var _t84=0;_t84<_n50.length;_t84++){var _e68=_n50[_t84];eo(_e68,_r34)?_i40.push(_e68):_o15=!0;}if(_o15&&_i40.length>0)if(e){var _t85=_i40[0];Wr(_t85)?_t85.selectStart():_t85.getParentOrThrow().selectStart();}else{var _t86=_i40[_i40.length-1];Wr(_t86)?_t86.selectEnd():_t86.getParentOrThrow().selectEnd();}c.anchorNode===_t83.startContainer&&c.anchorOffset===_t83.startOffset||function(t){var e=t.focus,n=t.anchor,r=n.key,i=n.offset,o=n.type;n.set(e.key,e.offset,e.type,!0),e.set(r,i,o,!0);}(this);}}};_proto8.forwardDeletion=function forwardDeletion(t,e,n){if(!n&&("element"===t.type&&Wr(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){var _t87=e.getParent(),_n51=e.getNextSibling()||(null===_t87?null:_t87.getNextSibling());if(Wr(_n51)&&_n51.isShadowRoot())return!0;}return!1;};_proto8.deleteCharacter=function deleteCharacter(t){var e=this.isCollapsed();if(this.isCollapsed()){var _e69=this.anchor;var _n52=_e69.getNode();if(this.forwardDeletion(_e69,_n52,t))return;var _r35=Xo(is(_e69,t?"previous":"next"));if(_r35.getTextSlices().every(function(t){return null===t||0===t.distance;})){var _t88={type:"initial"};for(var _iterator10=_r35.iterNodeCarets("shadowRoot"),_isArray10=Array.isArray(_iterator10),_i42=0,_iterator10=_isArray10?_iterator10:_iterator10[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref25;if(_isArray10){if(_i42>=_iterator10.length)break;_ref25=_iterator10[_i42++];}else{_i42=_iterator10.next();if(_i42.done)break;_ref25=_i42.value;}var _e71=_ref25;if(Bo(_e71)){if(_e71.origin.isInline());else{if(_e71.origin.isShadowRoot()){if("merge-block"===_t88.type)break;if(Wr(_r35.anchor.origin)&&_r35.anchor.origin.isEmpty()){var _t90=ds(_e71);ss(this,Qo(_t90,_t90)),_r35.anchor.origin.remove();}return;}"merge-next-block"!==_t88.type&&"merge-block"!==_t88.type||(_t88={block:_t88.block,caret:_e71,type:"merge-block"});}}else{if("merge-block"===_t88.type)break;if(Ro(_e71)){if(Wr(_e71.origin)){if(_e71.origin.isInline()){if(!_e71.origin.isParentOf(_r35.anchor.origin))break;}else _t88={block:_e71.origin,type:"merge-next-block"};continue;}if(Ur(_e71.origin)){if(_e71.origin.isIsolated());else if("merge-next-block"===_t88.type&&(_e71.origin.isKeyboardSelectable()||!_e71.origin.isInline())&&Wr(_r35.anchor.origin)&&_r35.anchor.origin.isEmpty()){_r35.anchor.origin.remove();var _t91=nr();_t91.add(_e71.origin.getKey()),Ei(_t91);}else _e71.origin.remove();return;}break;}}}if("merge-block"===_t88.type){var _t89=_t88,_e70=_t89.caret,_n53=_t89.block;return ss(this,Qo(!_e70.origin.isEmpty()&&_n53.isEmpty()?cs(Ko(_n53,_e70.direction)):_r35.anchor,_e70)),this.removeText();}}var _i41=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===_e69.offset&&Hn(this,_e69.getNode()))return;}else{var _r36="text"===_i41.type?_i41.getNode():null;if(_n52="text"===_e69.type?_e69.getNode():null,null!==_r36&&_r36.isSegmented()){var _e72=_i41.offset,_o16=_r36.getTextContentSize();if(_r36.is(_n52)||t&&_e72!==_o16||!t&&0!==_e72)return void qn(_r36,t,_e72);}else if(null!==_n52&&_n52.isSegmented()){var _i43=_e69.offset,_o17=_n52.getTextContentSize();if(_n52.is(_r36)||t&&0!==_i43||!t&&_i43!==_o17)return void qn(_n52,t,_i43);}!function(t,e){var n=t.anchor,r=t.focus,i=n.getNode(),o=r.getNode();if(i===o&&"text"===n.type&&"text"===r.type){var _t92=n.offset,_o18=r.offset,_s9=_t92<_o18,_l6=_s9?_t92:_o18,_c7=_s9?_o18:_t92,_a4=_c7-1;if(_l6!==_a4){(function(t){return!(Mi(t)||Yn(t));})(i.getTextContent().slice(_l6,_c7))&&(e?r.set(r.key,_a4,r.type):n.set(n.key,_a4,n.type));}}}(this,t);}}if(this.removeText(),t&&!e&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){var _t93=this.anchor.getNode();_t93.isEmpty()&&jr(_t93.getParent())&&null===_t93.getPreviousSibling()&&Hn(this,_t93);}};_proto8.deleteLine=function deleteLine(t){if(this.isCollapsed()){var _e73="element"===this.anchor.type;_e73&&this.insertText(" "),this.modify("extend",t,"lineboundary");var _n54=this.isCollapsed()&&0===this.anchor.offset;if(_e73){var _e74=t?this.anchor:this.focus;_e74.set(_e74.key,_e74.offset+1,_e74.type);}if(_n54)return this.removeText(),this.deleteCharacter(t);}this.removeText();};_proto8.deleteWord=function deleteWord(t){if(this.isCollapsed()){var _e75=this.anchor,_n55=_e75.getNode();if(this.forwardDeletion(_e75,_n55,t))return;this.modify("extend",t,"word");}this.removeText();};_proto8.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto8.getStartEndPoints=function getStartEndPoints(){return[this.anchor,this.focus];};return Un;}();function Jn(t){return t instanceof $n;}function jn(t){var e=t.offset;if("text"===t.type)return e;var n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0;}function Vn(t){var e=t.getStartEndPoints();if(null===e)return[0,0];var n=e[0],r=e[1];return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[jn(n),jn(r)];}function Hn(t,e){for(var _n56=e;_n56;_n56=_n56.getParent()){if(Wr(_n56)){if(_n56.collapseAtStart(t))return!0;if(oo(_n56))break;}if(_n56.getPreviousSibling())break;}return!1;}var Yn=function(){try{var _t94=new RegExp("\\p{Emoji}","u"),_e76=_t94.test.bind(_t94);if(_e76("❤️")&&_e76("#️⃣")&&_e76("👍"))return _e76;}catch(t){}return function(){return!1;};}();function qn(t,e,n){var r=t,i=r.getTextContent().split(/(?=\s)/g),o=i.length;var s=0,l=0;for(var _t95=0;_t95<o;_t95++){var _r37=_t95===o-1;if(l=s,s+=i[_t95].length,e&&s===n||s>n||_r37){i.splice(_t95,1),_r37&&(l=void 0);break;}}var c=i.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l));}function Gn(t,e,r,i){var o,s=e;if(po(t)){var _l7=!1;var _c8=t.childNodes,_a5=_c8.length,_u6=i._blockCursorElement;s===_a5&&(_l7=!0,s=_a5-1);var _f6=_c8[s],_d5=!1;if(_f6===_u6)_f6=_c8[s+1],_d5=!0;else if(null!==_u6){var _n57=_u6.parentNode;if(t===_n57){e>Array.prototype.indexOf.call(_n57.children,_u6)&&s--;}}if(o=wi(_f6),Dn(o))s=Oi(o,_l7);else{var _c9=wi(t);if(null===_c9)return null;if(Wr(_c9)){var _u7$resolveChildIndex;var _a6=i.getElementByKey(_c9.getKey());null===_a6&&n(214);var _u7=_c9.getDOMSlot(_a6);(_u7$resolveChildIndex=_u7.resolveChildIndex(_c9,_a6,t,e),_c9=_u7$resolveChildIndex[0],s=_u7$resolveChildIndex[1],_u7$resolveChildIndex),Wr(_c9)||n(215),_l7&&s>=_c9.getChildrenSize()&&(s=Math.max(0,_c9.getChildrenSize()-1));var _f7=_c9.getChildAtIndex(s);if(Wr(_f7)&&function(t,e,n){var r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode();}(_f7,0,r)){var _t96=_l7?_f7.getLastDescendant():_f7.getFirstDescendant();null===_t96?_c9=_f7:(_f7=_t96,_c9=Wr(_f7)?_f7:_f7.getParentOrThrow()),s=0;}Dn(_f7)?(o=_f7,_c9=null,s=Oi(_f7,_l7)):_f7!==_c9&&_l7&&!_d5&&(Wr(_c9)||n(216),s=Math.min(_c9.getChildrenSize(),s+1));}else{var _n58=_c9.getIndexWithinParent();s=0===e&&Ur(_c9)&&wi(t)===_c9?_n58:_n58+1,_c9=_c9.getParentOrThrow();}if(Wr(_c9))return Bn(_c9.__key,s,"element");}}else o=wi(t);return Dn(o)?Bn(o.__key,s,"text"):null;}function Xn(t,e,n){var r=t.offset,i=t.getNode();if(0===r){var _r38=i.getPreviousSibling(),_o19=i.getParent();if(e){if((n||!e)&&null===_r38&&Wr(_o19)&&_o19.isInline()){var _e77=_o19.getPreviousSibling();Dn(_e77)&&t.set(_e77.__key,_e77.getTextContent().length,"text");}}else Wr(_r38)&&!n&&_r38.isInline()?t.set(_r38.__key,_r38.getChildrenSize(),"element"):Dn(_r38)&&t.set(_r38.__key,_r38.getTextContent().length,"text");}else if(r===i.getTextContent().length){var _r39=i.getNextSibling(),_o20=i.getParent();if(e&&Wr(_r39)&&_r39.isInline())t.set(_r39.__key,0,"element");else if((n||e)&&null===_r39&&Wr(_o20)&&_o20.isInline()&&!_o20.canInsertTextAfter()){var _e78=_o20.getNextSibling();Dn(_e78)&&t.set(_e78.__key,0,"text");}}}function Qn(t,e,n){if("text"===t.type&&"text"===e.type){var _r40=t.isBefore(e),_i44=t.is(e);Xn(t,_r40,_i44),Xn(e,!_r40,_i44),_i44&&e.set(t.key,t.offset,t.type);var _o21=vr();if(_o21.isComposing()&&_o21._compositionKey!==t.key&&Kn(n)){var _r41=n.anchor,_i45=n.focus;t.set(_r41.key,_r41.offset,_r41.type,!0),e.set(_i45.key,_i45.offset,_i45.type,!0);}}}function Zn(t,e,n,r,i,o){if(null===t||null===n||!oi(i,t,n))return null;var s=Gn(t,e,Kn(o)?o.anchor:null,i);if(null===s)return null;var l=Gn(n,r,Kn(o)?o.focus:null,i);if(null===l)return null;if("element"===s.type&&"element"===l.type){var _e79=wi(t),_r42=wi(n);if(Ur(_e79)&&Ur(_r42))return null;}return Qn(s,l,o),[s,l];}function tr(t,e,n,r,i,o){var s=Tr(),l=new Un(Bn(t,e,i),Bn(n,r,o),0,"");return l.dirty=!0,s._selection=l,l;}function er(){var t=Bn("root",0,"element"),e=Bn("root",0,"element");return new Un(t,e,0,"");}function nr(){return new $n(new Set());}function rr(t,e,n,r){var i=n._window;if(null===i)return null;var o=r||i.event,s=o?o.type:void 0,l="selectionchange"===s,c=!W&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&o&&3===o.detail||"drop"===s||void 0===s);var a,u,f,d;if(Kn(t)&&!c)return t.clone();if(null===e)return null;if(a=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&Kn(t)&&!oi(n,a,u))return t.clone();var h=Zn(a,f,u,d,n,t);if(null===h)return null;var g=h[0],p=h[1];return new Un(g,p,Kn(t)?t.format:0,Kn(t)?t.style:"");}function ir(){return Tr()._selection;}function or(){return vr()._editorState._selection;}function sr(t,e,n,r){if(r===void 0){r=1;}var i=t.anchor,o=t.focus,s=i.getNode(),l=o.getNode();if(!e.is(s)&&!e.is(l))return;var c=e.__key;if(t.isCollapsed()){var _e80=i.offset;if(n<=_e80&&r>0||n<_e80&&r<0){var _n59=Math.max(0,_e80+r);i.set(c,_n59,"element"),o.set(c,_n59,"element"),lr(t);}}else{var _s10=t.isBackward(),_l8=_s10?o:i,_a7=_l8.getNode(),_u8=_s10?i:o,_f8=_u8.getNode();if(e.is(_a7)){var _t97=_l8.offset;(n<=_t97&&r>0||n<_t97&&r<0)&&_l8.set(c,Math.max(0,_t97+r),"element");}if(e.is(_f8)){var _t98=_u8.offset;(n<=_t98&&r>0||n<_t98&&r<0)&&_u8.set(c,Math.max(0,_t98+r),"element");}}lr(t);}function lr(t){var e=t.anchor,n=e.offset,r=t.focus,i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!Wr(o))return;var _t99=o.getChildrenSize(),_i46=n>=_t99,_s11=_i46?o.getChildAtIndex(_t99-1):o.getChildAtIndex(n);if(Dn(_s11)){var _t100=0;_i46&&(_t100=_s11.getTextContentSize()),e.set(_s11.__key,_t100,"text"),r.set(_s11.__key,_t100,"text");}}else{if(Wr(o)){var _t101=o.getChildrenSize(),_r43=n>=_t101,_i47=_r43?o.getChildAtIndex(_t101-1):o.getChildAtIndex(n);if(Dn(_i47)){var _t102=0;_r43&&(_t102=_i47.getTextContentSize()),e.set(_i47.__key,_t102,"text");}}if(Wr(s)){var _t103=s.getChildrenSize(),_e81=i>=_t103,_n60=_e81?s.getChildAtIndex(_t103-1):s.getChildAtIndex(i);if(Dn(_n60)){var _t104=0;_e81&&(_t104=_n60.getTextContentSize()),r.set(_n60.__key,_t104,"text");}}}}function cr(t,e,n,r,i){var o=null,s=0,l=null;null!==r?(o=r.__key,Dn(r)?(s=r.getTextContentSize(),l="text"):Wr(r)&&(s=r.getChildrenSize(),l="element")):null!==i&&(o=i.__key,Dn(i)?l="text":Wr(i)&&(l="element")),null!==o&&null!==l?t.set(o,s,l):(s=e.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"));}function ar(t,e,n,r,i){"text"===t.type?t.set(n,t.offset+(e?0:i),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element");}function ur(t,e,n,r,i,o,s){var l=r.anchorNode,c=r.focusNode,a=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(i.has("collaboration")&&f!==o||null!==f&&ii(f))return;if(!Kn(e))return void(null!==t&&oi(n,l,c)&&r.removeAllRanges());var d=e.anchor,h=e.focus,g=d.key,p=h.key,_=Gi(n,g),m=Gi(n,p),y=d.offset,x=h.offset,C=e.format,S=e.style,T=e.isCollapsed();var v=_,N=m,k=!1;if("text"===d.type){v=di(_);var _t105=d.getNode();k=_t105.getFormat()!==C||_t105.getStyle()!==S;}else Kn(t)&&"text"===t.anchor.type&&(k=!0);var b,E,w,O,M;if(("text"===h.type&&(N=di(m)),null!==v&&null!==N)&&(T&&(null===t||k||Kn(t)&&(t.format!==C||t.style!==S))&&(b=C,E=S,w=y,O=g,M=performance.now(),Ye=[b,E,w,O,M]),a!==y||u!==x||l!==v||c!==N||"Range"===r.type&&T||(null!==f&&o.contains(f)||o.focus({preventScroll:!0}),"element"===d.type))){try{r.setBaseAndExtent(v,y,N,x);}catch(t){}if(!i.has("skip-scroll-into-view")&&e.isCollapsed()&&null!==o&&o===document.activeElement){var _t106=Kn(e)&&"element"===e.anchor.type?v.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==_t106){var _e82;if(_t106 instanceof Text){var _n61=document.createRange();_n61.selectNode(_t106),_e82=_n61.getBoundingClientRect();}else _e82=_t106.getBoundingClientRect();!function(t,e,n){var r=Qi(n),i=no(r);if(null===r||null===i)return;var o=e.top,s=e.bottom,l=0,c=0,a=n;for(;null!==a;){var _e83=a===r.body;if(_e83)l=0,c=ro(t).innerHeight;else{var _t107=a.getBoundingClientRect();l=_t107.top,c=_t107.bottom;}var _n62=0;if(o<l?_n62=-(l-o):s>c&&(_n62=s-c),0!==_n62)if(_e83)i.scrollBy(0,_n62);else{var _t108=a.scrollTop;a.scrollTop+=_n62;var _e84=a.scrollTop-_t108;o-=_e84,s-=_e84;}if(_e83)break;a=Xi(a);}}(n,_e82,o);}}Ke=!0;}}function fr(t){var e=t;t.isCollapsed()||e.removeText();var r=ir();Kn(r)&&(e=r),Kn(e)||n(161);var i=e.anchor;var o=i.getNode(),s=i.offset;for(;!Co(o);){var _dr;var _t109=o;if((_dr=dr(o,s),o=_dr[0],s=_dr[1],_dr),_t109.is(o))break;}return s;}function dr(t,e){var n=t.getParent();if(!n){var _t110=Zr();return ki().append(_t110),_t110.select(),[ki(),0];}if(Dn(t)){var _r44=t.splitText(e);if(0===_r44.length)return[n,t.getIndexWithinParent()];var _i48=0===e?0:1;return[n,_r44[0].getIndexWithinParent()+_i48];}if(!Wr(t)||0===e)return[n,t.getIndexWithinParent()];var r=t.getChildAtIndex(e);if(r){var _n63=new Un(Bn(t.__key,e,"element"),Bn(t.__key,e,"element"),0,""),_i49=t.insertNewAfter(_n63);_i49&&_i49.append.apply(_i49,[r].concat(r.getNextSiblings()));}return[n,t.getIndexWithinParent()+1];}var hr=null,gr=null,pr=!1,_r=!1,mr=0;var yr={characterData:!0,childList:!0,subtree:!0};function xr(){return pr||null!==hr&&hr._readOnly;}function Cr(){pr&&n(13);}function Sr(){mr>99&&n(14);}function Tr(){return null===hr&&n(195,Nr()),hr;}function vr(){return null===gr&&n(196,Nr()),gr;}function Nr(){var t=0;var e=new Set(),n=ei.version;if("undefined"!=typeof window){for(var _iterator11=document.querySelectorAll("[contenteditable]"),_isArray11=Array.isArray(_iterator11),_i50=0,_iterator11=_isArray11?_iterator11:_iterator11[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref26;if(_isArray11){if(_i50>=_iterator11.length)break;_ref26=_iterator11[_i50++];}else{_i50=_iterator11.next();if(_i50.done)break;_ref26=_i50.value;}var _r45=_ref26;var _i51=ci(_r45);if(si(_i51))t++;else if(_i51){var _t111=String(_i51.constructor.version||"<0.17.1");_t111===n&&(_t111+=" (separately built, likely a bundler configuration issue)"),e.add(_t111);}}}var r=" Detected on the page: "+t+" compatible editor(s) with version "+n;return e.size&&(r+=" and incompatible editors with versions "+Array.from(e).join(", ")),r;}function kr(){return gr;}function br(t,e,r){var i=e.__type,o=function(t,e){var r=t._nodes.get(e);void 0===r&&n(30,e);return r;}(t,i);var s=r.get(i);void 0===s&&(s=Array.from(o.transforms),r.set(i,s));var l=s.length;for(var _t112=0;_t112<l&&(s[_t112](e),e.isAttached());_t112++){;}}function Er(t,e){return void 0!==t&&t.__key!==e&&t.isAttached();}function wr(t,e){if(!e)return;var n=t._updateTags;var r=e;Array.isArray(e)||(r=[e]);for(var _iterator12=r,_isArray12=Array.isArray(_iterator12),_i52=0,_iterator12=_isArray12?_iterator12:_iterator12[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref27;if(_isArray12){if(_i52>=_iterator12.length)break;_ref27=_iterator12[_i52++];}else{_i52=_iterator12.next();if(_i52.done)break;_ref27=_i52.value;}var _t113=_ref27;n.add(_t113);}}function Or(t,e){var r=t.type,i=e.get(r);void 0===i&&n(17,r);var o=i.klass;t.type!==o.getType()&&n(18,o.name);var s=o.importJSON(t),l=t.children;if(Wr(s)&&Array.isArray(l))for(var _t114=0;_t114<l.length;_t114++){var _n64=Or(l[_t114],e);s.append(_n64);}return s;}function Mr(t,e,n){var r=hr,i=pr,o=gr;hr=e,pr=!0,gr=t;try{return n();}finally{hr=r,pr=i,gr=o;}}function Ar(t,e){var n=t._pendingEditorState,r=t._rootElement,i=t._headless||null===r;if(null===n)return;var o=t._editorState,s=o._selection,l=n._selection,c=0!==t._dirtyType,a=hr,u=pr,f=gr,d=t._updating,h=t._observer;var p=null;if(t._pendingEditorState=null,t._editorState=n,!i&&c&&null!==h){gr=t,hr=n,pr=!1,t._updating=!0;try{var _e85=t._dirtyType,_r46=t._dirtyElements,_i53=t._dirtyLeaves;h.disconnect(),p=$t(o,n,t,_e85,_r46,_i53);}catch(e){if(e instanceof Error&&t._onError(e),_r)throw e;return ti(t,null,r,n),q(t),t._dirtyType=2,_r=!0,Ar(t,o),void(_r=!1);}finally{h.observe(r,yr),t._updating=d,hr=a,pr=u,gr=f;}}n._readOnly||(n._readOnly=!0);var _=t._dirtyLeaves,m=t._dirtyElements,y=t._normalizedNodes,x=t._updateTags,C=t._deferred;c&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements=new Map(),t._normalizedNodes=new Set(),t._updateTags=new Set()),function(t,e){var n=t._decorators;var r=t._pendingDecorators||n;var i=e._nodeMap;var o;for(o in r){i.has(o)||(r===n&&(r=vi(t)),delete r[o]);}}(t,n);var S=i?null:ho(ro(t));if(t._editable&&null!==S&&(c||null===l||l.dirty)&&null!==r&&!x.has("skip-dom-selection")){gr=t,hr=n;try{if(null!==h&&h.disconnect(),c||null===l||l.dirty){var _e86=t._blockCursorElement;null!==_e86&&fo(_e86,t,r),ur(s,l,t,S,x,r);}!function(t,e,n){var r=t._blockCursorElement;if(Kn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){var _i54=n.anchor,_o22=_i54.getNode(),_s12=_i54.offset;var _l9=!1,_c10=null;if(_s12===_o22.getChildrenSize()){uo(_o22.getChildAtIndex(_s12-1))&&(_l9=!0);}else{var _e87=_o22.getChildAtIndex(_s12);if(null!==_e87&&uo(_e87)){var _n65=_e87.getPreviousSibling();(null===_n65||uo(_n65))&&(_l9=!0,_c10=t.getElementByKey(_e87.__key));}}if(_l9){var _n66=t.getElementByKey(_o22.__key);return null===r&&(t._blockCursorElement=r=function(t){var e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");var r=e.blockCursor;if(void 0!==r){var _n$classList;if("string"==typeof r){var _t115=g(r);r=e.blockCursor=_t115;}void 0!==r&&(_n$classList=n.classList).add.apply(_n$classList,r);}return n;}(t._config)),e.style.caretColor="transparent",void(null===_c10?_n66.appendChild(r):_n66.insertBefore(r,_c10));}}null!==r&&fo(r,t,e);}(t,r,l);}finally{null!==h&&h.observe(r,yr),gr=f,hr=a;}}null!==p&&function(t,e,n,r,i){var o=Array.from(t._listeners.mutation),s=o.length;for(var _t116=0;_t116<s;_t116++){var _o$_t=o[_t116],_s13=_o$_t[0],_l10=_o$_t[1],_c11=e.get(_l10);void 0!==_c11&&_s13(_c11,{dirtyLeaves:r,prevEditorState:i,updateTags:n});}}(t,p,x,_,o),Kn(l)||null===l||null!==s&&s.is(l)||t.dispatchCommand(Jt,void 0);var T=t._pendingDecorators;null!==T&&(t._decorators=T,t._pendingDecorators=null,Dr("decorator",t,!0,T)),function(t,e,n){var r=Ni(e),i=Ni(n);r!==i&&Dr("textcontent",t,!0,i);}(t,e||o,n),Dr("update",t,!0,{dirtyElements:m,dirtyLeaves:_,editorState:n,normalizedNodes:y,prevEditorState:e||o,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){var _n67=t._updating;t._updating=!0;try{for(var _t117=0;_t117<e.length;_t117++){e[_t117]();}}finally{t._updating=_n67;}}}(t,C),function(t){var e=t._updates;if(0!==e.length){var _n68=e.shift();if(_n68){var _e88=_n68[0],_r47=_n68[1];Fr(t,_e88,_r47);}}}(t);}function Dr(t,e,n){var i=e._updating;e._updating=n;try{var _n69=Array.from(e._listeners[t]);for(var _len3=arguments.length,r=new Array(_len3>3?_len3-3:0),_key3=3;_key3<_len3;_key3++){r[_key3-3]=arguments[_key3];}for(var _t118=0;_t118<_n69.length;_t118++){_n69[_t118].apply(null,r);}}finally{e._updating=i;}}function Pr(t,e,n){if(!1===t._updating||gr!==t){var _r48=!1;return t.update(function(){_r48=Pr(t,e,n);}),_r48;}var r=Ai(t);for(var _i55=4;_i55>=0;_i55--){for(var _o23=0;_o23<r.length;_o23++){var _s14=r[_o23]._commands.get(e);if(void 0!==_s14){var _e89=_s14[_i55];if(void 0!==_e89){var _r49=Array.from(_e89),_i56=_r49.length;for(var _e90=0;_e90<_i56;_e90++){if(!0===_r49[_e90](n,t))return!0;}}}}}return!1;}function Lr(t,e){var r=t._updates;var i=e||!1;for(;0!==r.length;){var _e91=r.shift();if(_e91){var _r50=_e91[0],_o24=_e91[1];var _s15=void 0;if(void 0!==_o24){if(_s15=_o24.onUpdate,_o24.skipTransforms&&(i=!0),_o24.discrete){var _e92=t._pendingEditorState;null===_e92&&n(191),_e92._flushSync=!0;}_s15&&t._deferred.push(_s15),wr(t,_o24.tag);}_r50();}}return i;}function Fr(t,e,r){var i=t._updateTags;var o,s=!1,l=!1;void 0!==r&&(o=r.onUpdate,wr(t,r.tag),s=r.skipTransforms||!1,l=r.discrete||!1),o&&t._deferred.push(o);var c=t._editorState;var a=t._pendingEditorState,u=!1;(null===a||a._readOnly)&&(a=t._pendingEditorState=Vr(a||c),u=!0),a._flushSync=l;var f=hr,d=pr,h=gr,g=t._updating;hr=a,pr=!1,t._updating=!0,gr=t;var p=t._headless||null===t.getRootElement();try{u&&(p?null!==c._selection&&(a._selection=c._selection.clone()):a._selection=function(t,e){var n=t.getEditorState()._selection,r=ho(ro(t));return Kn(n)||null==n?rr(n,r,t,e):n.clone();}(t,r&&r.event||null));var _i57=t._compositionKey;e(),s=Lr(t,s),function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(Kn(r)){var _t119=r.anchor,_e93=r.focus;var _i58;if("text"===_t119.type&&(_i58=_t119.getNode(),_i58.selectionTransform(n,r)),"text"===_e93.type){var _t120=_e93.getNode();_i58!==_t120&&_t120.selectionTransform(n,r);}}}(a,t),0!==t._dirtyType&&(s?function(t,e){var n=e._dirtyLeaves,r=t._nodeMap;for(var _iterator13=n,_isArray13=Array.isArray(_iterator13),_i59=0,_iterator13=_isArray13?_iterator13:_iterator13[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref28;if(_isArray13){if(_i59>=_iterator13.length)break;_ref28=_iterator13[_i59++];}else{_i59=_iterator13.next();if(_i59.done)break;_ref28=_i59.value;}var _t121=_ref28;var _e94=r.get(_t121);Dn(_e94)&&_e94.isAttached()&&_e94.isSimpleText()&&!_e94.isUnmergeable()&&it(_e94);}}(a,t):function(t,e){var n=e._dirtyLeaves,r=e._dirtyElements,i=t._nodeMap,o=yi(),s=new Map();var l=n,c=l.size,a=r,u=a.size;for(;c>0||u>0;){if(c>0){e._dirtyLeaves=new Set();for(var _iterator14=l,_isArray14=Array.isArray(_iterator14),_i60=0,_iterator14=_isArray14?_iterator14:_iterator14[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref29;if(_isArray14){if(_i60>=_iterator14.length)break;_ref29=_iterator14[_i60++];}else{_i60=_iterator14.next();if(_i60.done)break;_ref29=_i60.value;}var _t122=_ref29;var _r51=i.get(_t122);Dn(_r51)&&_r51.isAttached()&&_r51.isSimpleText()&&!_r51.isUnmergeable()&&it(_r51),void 0!==_r51&&Er(_r51,o)&&br(e,_r51,s),n.add(_t122);}if(l=e._dirtyLeaves,c=l.size,c>0){mr++;continue;}}e._dirtyLeaves=new Set(),e._dirtyElements=new Map();for(var _iterator15=a,_isArray15=Array.isArray(_iterator15),_i61=0,_iterator15=_isArray15?_iterator15:_iterator15[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref30;if(_isArray15){if(_i61>=_iterator15.length)break;_ref30=_iterator15[_i61++];}else{_i61=_iterator15.next();if(_i61.done)break;_ref30=_i61.value;}var _t123=_ref30;var _n70=_t123[0],_l11=_t123[1];if("root"!==_n70&&!_l11)continue;var _c12=i.get(_n70);void 0!==_c12&&Er(_c12,o)&&br(e,_c12,s),r.set(_n70,_l11);}l=e._dirtyLeaves,c=l.size,a=e._dirtyElements,u=a.size,mr++;}e._dirtyLeaves=n,e._dirtyElements=r;}(a,t),Lr(t),function(t,e,n,r){var i=t._nodeMap,o=e._nodeMap,s=[];for(var _iterator16=r,_isArray16=Array.isArray(_iterator16),_i62=0,_iterator16=_isArray16?_iterator16:_iterator16[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref32;if(_isArray16){if(_i62>=_iterator16.length)break;_ref32=_iterator16[_i62++];}else{_i62=_iterator16.next();if(_i62.done)break;_ref32=_i62.value;}var _ref34=_ref32;var _t124=_ref34[0];var _e95=o.get(_t124);void 0!==_e95&&(_e95.isAttached()||(Wr(_e95)&&z(_e95,_t124,i,o,s,r),i.has(_t124)||r["delete"](_t124),s.push(_t124)));}for(var _i63=0;_i63<s.length;_i63++){var _t125=s[_i63];o["delete"](_t125);}for(var _iterator17=n,_isArray17=Array.isArray(_iterator17),_i64=0,_iterator17=_isArray17?_iterator17:_iterator17[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref33;if(_isArray17){if(_i64>=_iterator17.length)break;_ref33=_iterator17[_i64++];}else{_i64=_iterator17.next();if(_i64.done)break;_ref33=_i64.value;}var _t126=_ref33;var _e96=o.get(_t126);void 0===_e96||_e96.isAttached()||(i.has(_t126)||n["delete"](_t126),o["delete"](_t126));}}(c,a,t._dirtyLeaves,t._dirtyElements));_i57!==t._compositionKey&&(a._flushSync=!0);var _o25=a._selection;if(Kn(_o25)){var _t127=a._nodeMap,_e97=_o25.anchor.key,_r52=_o25.focus.key;void 0!==_t127.get(_e97)&&void 0!==_t127.get(_r52)||n(19);}else Jn(_o25)&&0===_o25._nodes.size&&(a._selection=null);}catch(e){return e instanceof Error&&t._onError(e),t._pendingEditorState=c,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements.clear(),void Ar(t);}finally{hr=f,pr=d,gr=h,t._updating=g,mr=0;}var _=0!==t._dirtyType||t._deferred.length>0||function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0;}else if(null!==n)return!0;return!1;}(a,t);_?a._flushSync?(a._flushSync=!1,Ar(t)):u&&ri(function(){Ar(t);}):(a._flushSync=!1,u&&(i.clear(),t._deferred=[],t._pendingEditorState=null));}function Ir(t,e,n){t._updating?gr===t?e():t._updates.push([e,n]):Fr(t,e,n);}var Rr=function(){function Rr(t,e,n){this.element=t,this.before=e||null,this.after=n||null;}var _proto9=Rr.prototype;_proto9.withBefore=function withBefore(t){return new Rr(this.element,t,this.after);};_proto9.withAfter=function withAfter(t){return new Rr(this.element,this.before,t);};_proto9.withElement=function withElement(t){return new Rr(t,this.before,this.after);};_proto9.insertChild=function insertChild(t){var e=this.before||this.getManagedLineBreak();return null!==e&&e.parentElement!==this.element&&n(222),this.element.insertBefore(t,e),this;};_proto9.removeChild=function removeChild(t){return t.parentElement!==this.element&&n(223),this.element.removeChild(t),this;};_proto9.replaceChild=function replaceChild(t,e){return e.parentElement!==this.element&&n(224),this.element.replaceChild(t,e),this;};_proto9.getFirstChild=function getFirstChild(){var t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t;};_proto9.getManagedLineBreak=function getManagedLineBreak(){return this.element.__lexicalLineBreak||null;};_proto9.setManagedLineBreak=function setManagedLineBreak(t){if(null===t)this.removeManagedLineBreak();else{var _e98="decorator"===t&&(a||c);this.insertManagedLineBreak(_e98);}};_proto9.removeManagedLineBreak=function removeManagedLineBreak(){var t=this.getManagedLineBreak();if(t){var _e99=this.element,_n71="IMG"===t.nodeName?t.nextSibling:null;_n71&&_e99.removeChild(_n71),_e99.removeChild(t),_e99.__lexicalLineBreak=void 0;}};_proto9.insertManagedLineBreak=function insertManagedLineBreak(t){var e=this.getManagedLineBreak();if(e){if(t===("IMG"===e.nodeName))return;this.removeManagedLineBreak();}var n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),t){var _t128=document.createElement("img");_t128.setAttribute("data-lexical-linebreak","true"),_t128.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",_t128.alt="",n.insertBefore(_t128,i),n.__lexicalLineBreak=_t128;}else n.__lexicalLineBreak=i;};_proto9.getFirstChildOffset=function getFirstChildOffset(){var t=0;for(var _e100=this.after;null!==_e100;_e100=_e100.previousSibling){t++;}return t;};_proto9.resolveChildIndex=function resolveChildIndex(t,e,n,r){if(n===this.element){var _e101=this.getFirstChildOffset();return[t,Math.min(_e101+t.getChildrenSize(),Math.max(_e101,r))];}var i=Br(e,n);i.push(r);var o=Br(e,this.element);var s=t.getIndexWithinParent();for(var _t129=0;_t129<o.length;_t129++){var _e102=i[_t129],_n72=o[_t129];if(void 0===_e102||_e102<_n72)break;if(_e102>_n72){s+=1;break;}}return[t.getParentOrThrow(),s];};return Rr;}();function Br(t,e){var r=[];var i=e;for(;i!==t&&null!==i;i=e.parentNode){var _t130=0;for(var _e103=i.previousSibling;null!==_e103;_e103=_e103.previousSibling){_t130++;}r.push(_t130);}return i!==t&&n(225),r.reverse();}var zr=function(_un3){babelHelpers.inheritsLoose(zr,_un3);function zr(t){var _this3;_this3=_un3.call(this,t)||this,_this3.__first=null,_this3.__last=null,_this3.__size=0,_this3.__format=0,_this3.__style="",_this3.__indent=0,_this3.__dir=null,_this3.__textFormat=0,_this3.__textStyle="";return _this3;}var _proto10=zr.prototype;_proto10.afterCloneFrom=function afterCloneFrom(t){_un3.prototype.afterCloneFrom.call(this,t),this.__first=t.__first,this.__last=t.__last,this.__size=t.__size,this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle;};_proto10.getFormat=function getFormat(){return this.getLatest().__format;};_proto10.getFormatType=function getFormatType(){var t=this.getFormat();return F[t]||"";};_proto10.getStyle=function getStyle(){return this.getLatest().__style;};_proto10.getIndent=function getIndent(){return this.getLatest().__indent;};_proto10.getChildren=function getChildren(){var t=[];var e=this.getFirstChild();for(;null!==e;){t.push(e),e=e.getNextSibling();}return t;};_proto10.getChildrenKeys=function getChildrenKeys(){var t=[];var e=this.getFirstChild();for(;null!==e;){t.push(e.__key),e=e.getNextSibling();}return t;};_proto10.getChildrenSize=function getChildrenSize(){return this.getLatest().__size;};_proto10.isEmpty=function isEmpty(){return 0===this.getChildrenSize();};_proto10.isDirty=function isDirty(){var t=vr()._dirtyElements;return null!==t&&t.has(this.__key);};_proto10.isLastChild=function isLastChild(){var t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t);};_proto10.getAllTextNodes=function getAllTextNodes(){var t=[];var e=this.getFirstChild();for(;null!==e;){if(Dn(e)&&t.push(e),Wr(e)){var _n73=e.getAllTextNodes();t.push.apply(t,_n73);}e=e.getNextSibling();}return t;};_proto10.getFirstDescendant=function getFirstDescendant(){var t=this.getFirstChild();for(;Wr(t);){var _e104=t.getFirstChild();if(null===_e104)break;t=_e104;}return t;};_proto10.getLastDescendant=function getLastDescendant(){var t=this.getLastChild();for(;Wr(t);){var _e105=t.getLastChild();if(null===_e105)break;t=_e105;}return t;};_proto10.getDescendantByIndex=function getDescendantByIndex(t){var e=this.getChildren(),n=e.length;if(t>=n){var _t131=e[n-1];return Wr(_t131)&&_t131.getLastDescendant()||_t131||null;}var r=e[t];return Wr(r)&&r.getFirstDescendant()||r||null;};_proto10.getFirstChild=function getFirstChild(){var t=this.getLatest().__first;return null===t?null:xi(t);};_proto10.getFirstChildOrThrow=function getFirstChildOrThrow(){var t=this.getFirstChild();return null===t&&n(45,this.__key),t;};_proto10.getLastChild=function getLastChild(){var t=this.getLatest().__last;return null===t?null:xi(t);};_proto10.getLastChildOrThrow=function getLastChildOrThrow(){var t=this.getLastChild();return null===t&&n(96,this.__key),t;};_proto10.getChildAtIndex=function getChildAtIndex(t){var e=this.getChildrenSize();var n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++;}return null;}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--;}return null;};_proto10.getTextContent=function getTextContent(){var t="";var e=this.getChildren(),n=e.length;for(var _r53=0;_r53<n;_r53++){var _i65=e[_r53];t+=_i65.getTextContent(),Wr(_i65)&&_r53!==n-1&&!_i65.isInline()&&(t+=b);}return t;};_proto10.getTextContentSize=function getTextContentSize(){var t=0;var e=this.getChildren(),n=e.length;for(var _r54=0;_r54<n;_r54++){var _i66=e[_r54];t+=_i66.getTextContentSize(),Wr(_i66)&&_r54!==n-1&&!_i66.isInline()&&(t+=2);}return t;};_proto10.getDirection=function getDirection(){return this.getLatest().__dir;};_proto10.getTextFormat=function getTextFormat(){return this.getLatest().__textFormat;};_proto10.hasFormat=function hasFormat(t){if(""!==t){var _e106=L[t];return!!(this.getFormat()&_e106);}return!1;};_proto10.hasTextFormat=function hasTextFormat(t){var e=D[t];return!!(this.getTextFormat()&e);};_proto10.getFormatFlags=function getFormatFlags(t,e){return hi(this.getLatest().__textFormat,t,e);};_proto10.getTextStyle=function getTextStyle(){return this.getLatest().__textStyle;};_proto10.select=function select(t,e){Cr();var n=ir();var r=t,i=e;var o=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){var _t132=this.getFirstChild();if(Dn(_t132)||Wr(_t132))return _t132.select(0,0);}else if(!(void 0!==t&&t!==o||void 0!==e&&e!==o)){var _t133=this.getLastChild();if(Dn(_t133)||Wr(_t133))return _t133.select();}void 0===r&&(r=o),void 0===i&&(i=o);var s=this.__key;return Kn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,i,"element"),n.dirty=!0,n):tr(s,r,s,i,"element","element");};_proto10.selectStart=function selectStart(){var t=this.getFirstDescendant();return t?t.selectStart():this.select();};_proto10.selectEnd=function selectEnd(){var t=this.getLastDescendant();return t?t.selectEnd():this.select();};_proto10.clear=function clear(){var t=this.getWritable();return this.getChildren().forEach(function(t){return t.remove();}),t;};_proto10.append=function append(){for(var _len4=arguments.length,t=new Array(_len4),_key4=0;_key4<_len4;_key4++){t[_key4]=arguments[_key4];}return this.splice(this.getChildrenSize(),0,t);};_proto10.setDirection=function setDirection(t){var e=this.getWritable();return e.__dir=t,e;};_proto10.setFormat=function setFormat(t){return this.getWritable().__format=""!==t?L[t]:0,this;};_proto10.setStyle=function setStyle(t){return this.getWritable().__style=t||"",this;};_proto10.setTextFormat=function setTextFormat(t){var e=this.getWritable();return e.__textFormat=t,e;};_proto10.setTextStyle=function setTextStyle(t){var e=this.getWritable();return e.__textStyle=t,e;};_proto10.setIndent=function setIndent(t){return this.getWritable().__indent=t,this;};_proto10.splice=function splice(t,e,r){var i=r.length,o=this.getChildrenSize(),s=this.getWritable();t+e<=o||n(226,String(t),String(e),String(o));var l=s.__key,c=[],a=[],u=this.getChildAtIndex(t+e);var f=null,d=o-e+i;if(0!==t)if(t===o)f=this.getLastChild();else{var _e107=this.getChildAtIndex(t);null!==_e107&&(f=_e107.getPreviousSibling());}if(e>0){var _t134=null===f?this.getFirstChild():f.getNextSibling();for(var _r55=0;_r55<e;_r55++){null===_t134&&n(100);var _e108=_t134.getNextSibling(),_r56=_t134.__key;pi(_t134.getWritable()),a.push(_r56),_t134=_e108;}}var h=f;for(var _t135=0;_t135<i;_t135++){var _e109=r[_t135];null!==h&&_e109.is(h)&&(f=h=h.getPreviousSibling());var _i67=_e109.getWritable();_i67.__parent===l&&d--,pi(_i67);var _o26=_e109.__key;if(null===h)s.__first=_o26,_i67.__prev=null;else{var _t136=h.getWritable();_t136.__next=_o26,_i67.__prev=_t136.__key;}_e109.__key===l&&n(76),_i67.__parent=l,c.push(_o26),h=_e109;}if(t+e===o){if(null!==h){h.getWritable().__next=null,s.__last=h.__key;}}else if(null!==u){var _t137=u.getWritable();if(null!==h){var _e110=h.getWritable();_t137.__prev=h.__key,_e110.__next=u.__key;}else _t137.__prev=null;}if(s.__size=d,a.length){var _t138=ir();if(Kn(_t138)){var _e111=new Set(a),_n74=new Set(c),_r57=_t138.anchor,_i68=_t138.focus;$r(_r57,_e111,_n74)&&cr(_r57,_r57.getNode(),this,f,u),$r(_i68,_e111,_n74)&&cr(_i68,_i68.getNode(),this,f,u),0!==d||this.canBeEmpty()||oo(this)||this.remove();}}return s;};_proto10.getDOMSlot=function getDOMSlot(t){return new Rr(t);};_proto10.exportDOM=function exportDOM(t){var _un3$prototype$export=_un3.prototype.exportDOM.call(this,t),e=_un3$prototype$export.element;if(po(e)){var _t139=this.getIndent();_t139>0&&(e.style.paddingInlineStart=40*_t139+"px");}return{element:e};};_proto10.exportJSON=function exportJSON(){var t=babelHelpers["extends"]({children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent()},_un3.prototype.exportJSON.call(this)),e=this.getTextFormat(),n=this.getTextStyle();return 0!==e&&(t.textFormat=e),""!==n&&(t.textStyle=n),t;};_proto10.updateFromJSON=function updateFromJSON(t){return _un3.prototype.updateFromJSON.call(this,t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"");};_proto10.insertNewAfter=function insertNewAfter(t,e){return null;};_proto10.canIndent=function canIndent(){return!0;};_proto10.collapseAtStart=function collapseAtStart(t){return!1;};_proto10.excludeFromCopy=function excludeFromCopy(t){return!1;};_proto10.canReplaceWith=function canReplaceWith(t){return!0;};_proto10.canInsertAfter=function canInsertAfter(t){return!0;};_proto10.canBeEmpty=function canBeEmpty(){return!0;};_proto10.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto10.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto10.isInline=function isInline(){return!1;};_proto10.isShadowRoot=function isShadowRoot(){return!1;};_proto10.canMergeWith=function canMergeWith(t){return!1;};_proto10.extractWithChild=function extractWithChild(t,e,n){return!1;};_proto10.canMergeWhenEmpty=function canMergeWhenEmpty(){return!1;};_proto10.reconcileObservedMutation=function reconcileObservedMutation(t,e){var n=this.getDOMSlot(t);var r=n.getFirstChild();for(var _t140=this.getFirstChild();_t140;_t140=_t140.getNextSibling()){var _i69=e.getElementByKey(_t140.getKey());null!==_i69&&(null==r?(n.insertChild(_i69),r=_i69):r!==_i69&&n.replaceChild(_i69,r),r=r.nextSibling);}};return zr;}(un);function Wr(t){return t instanceof zr;}function $r(t,e,n){var r=t.getNode();for(;r;){var _t141=r.__key;if(e.has(_t141)&&!n.has(_t141))return!0;r=r.getParent();}return!1;}var Kr=function(_un4){babelHelpers.inheritsLoose(Kr,_un4);function Kr(){return _un4.apply(this,arguments)||this;}var _proto11=Kr.prototype;_proto11.decorate=function decorate(t,e){n(47);};_proto11.isIsolated=function isIsolated(){return!1;};_proto11.isInline=function isInline(){return!0;};_proto11.isKeyboardSelectable=function isKeyboardSelectable(){return!0;};return Kr;}(un);function Ur(t){return t instanceof Kr;}var Jr=function(_zr){babelHelpers.inheritsLoose(Jr,_zr);Jr.getType=function getType(){return"root";};Jr.clone=function clone(){return new Jr();};function Jr(){var _this4;_this4=_zr.call(this,"root")||this,_this4.__cachedText=null;return _this4;}var _proto12=Jr.prototype;_proto12.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){n(51);};_proto12.getTextContent=function getTextContent(){var t=this.__cachedText;return!xr()&&0!==vr()._dirtyType||null===t?_zr.prototype.getTextContent.call(this):t;};_proto12.remove=function remove(){n(52);};_proto12.replace=function replace(t){n(53);};_proto12.insertBefore=function insertBefore(t){n(54);};_proto12.insertAfter=function insertAfter(t){n(55);};_proto12.updateDOM=function updateDOM(t,e){return!1;};_proto12.append=function append(){var _zr$prototype$append;for(var _len5=arguments.length,t=new Array(_len5),_key5=0;_key5<_len5;_key5++){t[_key5]=arguments[_key5];}for(var _e112=0;_e112<t.length;_e112++){var _r58=t[_e112];Wr(_r58)||Ur(_r58)||n(56);}return(_zr$prototype$append=_zr.prototype.append).call.apply(_zr$prototype$append,[this].concat(t));};Jr.importJSON=function importJSON(t){return ki().updateFromJSON(t);};_proto12.collapseAtStart=function collapseAtStart(){return!0;};return Jr;}(zr);function jr(t){return t instanceof Jr;}function Vr(t){return new qr(new Map(t._nodeMap));}function Hr(){return new qr(new Map([["root",new Jr()]]));}function Yr(t){var e=t.exportJSON(),r=t.constructor;if(e.type!==r.getType()&&n(130,r.name),Wr(t)){var _i70=e.children;Array.isArray(_i70)||n(59,r.name);var _o27=t.getChildren();for(var _t142=0;_t142<_o27.length;_t142++){var _e113=Yr(_o27[_t142]);_i70.push(_e113);}}return e;}var qr=function(){function qr(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1;}var _proto13=qr.prototype;_proto13.isEmpty=function isEmpty(){return 1===this._nodeMap.size&&null===this._selection;};_proto13.read=function read(t,e){return Mr(e&&e.editor||null,this,t);};_proto13.clone=function clone(t){var e=new qr(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e;};_proto13.toJSON=function toJSON(){return Mr(null,this,function(){return{root:Yr(ki())};});};return qr;}();var Gr=function(_zr2){babelHelpers.inheritsLoose(Gr,_zr2);function Gr(){return _zr2.apply(this,arguments)||this;}Gr.getType=function getType(){return"artificial";};var _proto14=Gr.prototype;_proto14.createDOM=function createDOM(t){return document.createElement("div");};return Gr;}(zr);var Xr=function(_zr3){babelHelpers.inheritsLoose(Xr,_zr3);function Xr(){return _zr3.apply(this,arguments)||this;}Xr.getType=function getType(){return"paragraph";};Xr.clone=function clone(t){return new Xr(t.__key);};var _proto15=Xr.prototype;_proto15.createDOM=function createDOM(t){var e=document.createElement("p"),n=Ui(t.theme,"paragraph");if(void 0!==n){var _e$classList2;(_e$classList2=e.classList).add.apply(_e$classList2,n);}return e;};_proto15.updateDOM=function updateDOM(t,e,n){return!1;};Xr.importDOM=function importDOM(){return{p:function p(t){return{conversion:Qr,priority:0};}};};_proto15.exportDOM=function exportDOM(t){var _zr3$prototype$export=_zr3.prototype.exportDOM.call(this,t),e=_zr3$prototype$export.element;if(po(e)){this.isEmpty()&&e.append(document.createElement("br"));var _t143=this.getFormatType();e.style.textAlign=_t143;var _n75=this.getDirection();_n75&&(e.dir=_n75);}return{element:e};};Xr.importJSON=function importJSON(t){return Zr().updateFromJSON(t);};_proto15.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_zr3.prototype.exportJSON.call(this),{textFormat:this.getTextFormat(),textStyle:this.getTextStyle()});};_proto15.insertNewAfter=function insertNewAfter(t,e){var n=Zr();n.setTextFormat(t.format),n.setTextStyle(t.style);var r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,e),n;};_proto15.collapseAtStart=function collapseAtStart(){var t=this.getChildren();if(0===t.length||Dn(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0;}return!1;};return Xr;}(zr);function Qr(t){var e=Zr();return t.style&&(e.setFormat(t.style.textAlign),bo(t,e)),{node:e};}function Zr(){return lo(new Xr());}function ti(t,e,n,r){var i=t._keyToDOMMap;i.clear(),t._editorState=Hr(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements.clear(),t._normalizedNodes=new Set(),t._updateTags=new Set(),t._updates=[],t._blockCursorElement=null;var o=t._observer;null!==o&&(o.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",i.set("root",n));}var ei=function(){function ei(t,e,n,r,i,o,s){this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map(),this._updates=[],this._updating=!1,this._listeners={decorator:new Set(),editable:new Set(),mutation:new Map(),root:new Set(),textcontent:new Set(),update:new Set()},this._commands=new Map(),this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set(),this._dirtyLeaves=new Set(),this._dirtyElements=new Map(),this._normalizedNodes=new Set(),this._updateTags=new Set(),this._observer=null,this._key=Di(),this._onError=i,this._htmlConversions=o,this._editable=s,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null;}var _proto16=ei.prototype;_proto16.isComposing=function isComposing(){return null!=this._compositionKey;};_proto16.registerUpdateListener=function registerUpdateListener(t){var e=this._listeners.update;return e.add(t),function(){e["delete"](t);};};_proto16.registerEditableListener=function registerEditableListener(t){var e=this._listeners.editable;return e.add(t),function(){e["delete"](t);};};_proto16.registerDecoratorListener=function registerDecoratorListener(t){var e=this._listeners.decorator;return e.add(t),function(){e["delete"](t);};};_proto16.registerTextContentListener=function registerTextContentListener(t){var e=this._listeners.textcontent;return e.add(t),function(){e["delete"](t);};};_proto16.registerRootListener=function registerRootListener(t){var _this15=this;var e=this._listeners.root;return t(this._rootElement,null),e.add(t),function(){t(null,_this15._rootElement),e["delete"](t);};};_proto16.registerCommand=function registerCommand(t,e,r){void 0===r&&n(35);var i=this._commands;i.has(t)||i.set(t,[new Set(),new Set(),new Set(),new Set(),new Set()]);var o=i.get(t);void 0===o&&n(36,String(t));var s=o[r];return s.add(e),function(){s["delete"](e),o.every(function(t){return 0===t.size;})&&i["delete"](t);};};_proto16.registerMutationListener=function registerMutationListener(t,e,n){var r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,i=this._listeners.mutation;i.set(e,r);var o=n&&n.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(e,r),function(){i["delete"](e);};};_proto16.getRegisteredNode=function getRegisteredNode(t){var e=this._nodes.get(t.getType());return void 0===e&&n(37,t.name),e;};_proto16.resolveRegisteredNodeAfterReplacements=function resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;){t=this.getRegisteredNode(t.replaceWithKlass);}return t;};_proto16.initializeMutationListener=function initializeMutationListener(t,e){var n=this._editorState,r=No(n).get(e.getType());if(!r)return;var i=new Map();for(var _iterator18=r.keys(),_isArray18=Array.isArray(_iterator18),_i71=0,_iterator18=_isArray18?_iterator18:_iterator18[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref35;if(_isArray18){if(_i71>=_iterator18.length)break;_ref35=_iterator18[_i71++];}else{_i71=_iterator18.next();if(_i71.done)break;_ref35=_i71.value;}var _t144=_ref35;i.set(_t144,"created");}i.size>0&&t(i,{dirtyLeaves:new Set(),prevEditorState:n,updateTags:new Set(["registerMutationListener"])});};_proto16.registerNodeTransformToKlass=function registerNodeTransformToKlass(t,e){var n=this.getRegisteredNode(t);return n.transforms.add(e),n;};_proto16.registerNodeTransform=function registerNodeTransform(t,e){var n=this.registerNodeTransformToKlass(t,e),r=[n],i=n.replaceWithKlass;if(null!=i){var _t145=this.registerNodeTransformToKlass(i,e);r.push(_t145);}return function(t,e){var n=No(t.getEditorState()),r=[];for(var _iterator19=e,_isArray19=Array.isArray(_iterator19),_i72=0,_iterator19=_isArray19?_iterator19:_iterator19[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref36;if(_isArray19){if(_i72>=_iterator19.length)break;_ref36=_iterator19[_i72++];}else{_i72=_iterator19.next();if(_i72.done)break;_ref36=_i72.value;}var _t148=_ref36;var _e115=n.get(_t148);_e115&&r.push(_e115);}if(0===r.length)return;t.update(function(){for(var _i73=0;_i73<r.length;_i73++){var _t146=r[_i73];for(var _iterator20=_t146.keys(),_isArray20=Array.isArray(_iterator20),_i74=0,_iterator20=_isArray20?_iterator20:_iterator20[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref37;if(_isArray20){if(_i74>=_iterator20.length)break;_ref37=_iterator20[_i74++];}else{_i74=_iterator20.next();if(_i74.done)break;_ref37=_i74.value;}var _e114=_ref37;var _t147=xi(_e114);_t147&&_t147.markDirty();}}},null===t._pendingEditorState?{tag:"history-merge"}:void 0);}(this,r.map(function(t){return t.klass.getType();})),function(){r.forEach(function(t){return t.transforms["delete"](e);});};};_proto16.hasNode=function hasNode(t){return this._nodes.has(t.getType());};_proto16.hasNodes=function hasNodes(t){return t.every(this.hasNode.bind(this));};_proto16.dispatchCommand=function dispatchCommand(t,e){return Yi(this,t,e);};_proto16.getDecorators=function getDecorators(){return this._decorators;};_proto16.getRootElement=function getRootElement(){return this._rootElement;};_proto16.getKey=function getKey(){return this._key;};_proto16.setRootElement=function setRootElement(t){var e=this._rootElement;if(t!==e){var _e$classList3;var _n76=Ui(this._config.theme,"root"),_r59=this._pendingEditorState||this._editorState;if(this._rootElement=t,ti(this,e,t,_r59),null!==e&&(this._config.disableEvents||cn(e),null!=_n76&&(_e$classList3=e.classList).remove.apply(_e$classList3,_n76)),null!==t){var _t$classList;var _e116=no(t),_r60=t.style;_r60.userSelect="text",_r60.whiteSpace="pre-wrap",_r60.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=_e116,this._dirtyType=2,q(this),this._updateTags.add("history-merge"),Ar(this),this._config.disableEvents||function(t,e){var n=t.ownerDocument,r=$e.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",on),$e.set(n,(r||0)+1),t.__lexicalEditor=e;var i=nn(t);var _loop=function _loop(_n77){var _Ie$_n=Ie[_n77],r=_Ie$_n[0],o=_Ie$_n[1],s="function"==typeof o?function(t){ln(t)||(sn(t),(e.isEditable()||"click"===r)&&o(t,e));}:function(t){if(ln(t))return;sn(t);var n=e.isEditable();switch(r){case"cut":return n&&Yi(e,be,t);case"copy":return Yi(e,ke,t);case"paste":return n&&Yi(e,Xt,t);case"dragstart":return n&&Yi(e,Te,t);case"dragover":return n&&Yi(e,ve,t);case"dragend":return n&&Yi(e,Ne,t);case"focus":return n&&Yi(e,De,t);case"blur":return n&&Yi(e,Pe,t);case"drop":return n&&Yi(e,Ce,t);}};t.addEventListener(r,s),i.push(function(){t.removeEventListener(r,s);});};for(var _n77=0;_n77<Ie.length;_n77++){_loop(_n77);}}(t,this),null!=_n76&&(_t$classList=t.classList).add.apply(_t$classList,_n76);}else this._window=null,this._updateTags.add("history-merge"),Ar(this);Dr("root",this,!1,t,e);}};_proto16.getElementByKey=function getElementByKey(t){return this._keyToDOMMap.get(t)||null;};_proto16.getEditorState=function getEditorState(){return this._editorState;};_proto16.setEditorState=function setEditorState(t,e){t.isEmpty()&&n(38);var r=t;r._readOnly&&(r=Vr(t),r._selection=t._selection?t._selection.clone():null),Y(this);var i=this._pendingEditorState,o=this._updateTags,s=void 0!==e?e.tag:null;null===i||i.isEmpty()||(null!=s&&o.add(s),Ar(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&o.add(s),this._updating||Ar(this);};_proto16.parseEditorState=function parseEditorState(t,e){return function(t,e,n){var r=Hr(),i=hr,o=pr,s=gr,l=e._dirtyElements,c=e._dirtyLeaves,a=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map(),e._dirtyLeaves=new Set(),e._cloneNotNeeded=new Set(),e._dirtyType=0,hr=r,pr=!1,gr=e;try{var _i75=e._nodes;Or(t.root,_i75),n&&n(),r._readOnly=!0;}catch(t){t instanceof Error&&e._onError(t);}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=a,e._dirtyType=u,hr=i,pr=o,gr=s;}return r;}("string"==typeof t?JSON.parse(t):t,this,e);};_proto16.read=function read(t){return Ar(this),this.getEditorState().read(t,{editor:this});};_proto16.update=function update(t,e){!function(t,e,n){t._updating?t._updates.push([e,n]):Fr(t,e,n);}(this,t,e);};_proto16.focus=function focus(t,e){if(e===void 0){e={};}var n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Ir(this,function(){var r=ir(),i=ki();null!==r?r.dirty=!0:0!==i.getChildrenSize()&&("rootStart"===e.defaultSelection?i.selectStart():i.selectEnd()),Zi("focus"),to(function(){n.removeAttribute("autocapitalize"),t&&t();});}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"));};_proto16.blur=function blur(){var t=this._rootElement;null!==t&&t.blur();var e=ho(this._window);null!==e&&e.removeAllRanges();};_proto16.isEditable=function isEditable(){return this._editable;};_proto16.setEditable=function setEditable(t){this._editable!==t&&(this._editable=t,Dr("editable",this,!0,t));};_proto16.toJSON=function toJSON(){return{editorState:this._editorState.toJSON()};};return ei;}();ei.version="0.25.0+prod.cjs";var ni=1;var ri="function"==typeof queueMicrotask?queueMicrotask:function(t){Promise.resolve().then(t);};function ii(t){var e=document.activeElement;if(!po(e))return!1;var n=e.nodeName;return Ur(Ti(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==ci(e));}function oi(t,e,n){var r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!ii(e)&&li(e)===t;}catch(t){return!1;}}function si(t){return t instanceof ei;}function li(t){var e=t;for(;null!=e;){var _t149=ci(e);if(si(_t149))return _t149;e=Xi(e);}return null;}function ci(t){return t?t.__lexicalEditor:null;}function ai(t){return t.isToken()||t.isSegmented();}function ui(t){return _o(t)&&3===t.nodeType;}function fi(t){return _o(t)&&9===t.nodeType;}function di(t){var e=t;for(;null!=e;){if(ui(e))return e;e=e.firstChild;}return null;}function hi(t,e,n){var r=D[e];if(null!==n&&(t&r)==(n&r))return t;var i=t^r;return"subscript"===e?i&=~D.superscript:"superscript"===e?i&=~D.subscript:"lowercase"===e?(i&=~D.uppercase,i&=~D.capitalize):"uppercase"===e?(i&=~D.lowercase,i&=~D.capitalize):"capitalize"===e&&(i&=~D.lowercase,i&=~D.uppercase),i;}function gi(t,e){if(null!=e)return void(t.__key=e);Cr(),Sr();var n=vr(),r=Tr(),i=""+ni++;r._nodeMap.set(i,t),Wr(t)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=1,t.__key=i;}function pi(t){var e=t.getParent();if(null!==e){var _n78=t.getWritable(),_r61=e.getWritable(),_i76=t.getPreviousSibling(),_o28=t.getNextSibling();if(null===_i76){if(null!==_o28){var _t150=_o28.getWritable();_r61.__first=_o28.__key,_t150.__prev=null;}else _r61.__first=null;}else{var _t151=_i76.getWritable();if(null!==_o28){var _e117=_o28.getWritable();_e117.__prev=_t151.__key,_t151.__next=_e117.__key;}else _t151.__next=null;_n78.__prev=null;}if(null===_o28){if(null!==_i76){var _t152=_i76.getWritable();_r61.__last=_i76.__key,_t152.__next=null;}else _r61.__last=null;}else{var _t153=_o28.getWritable();if(null!==_i76){var _e118=_i76.getWritable();_e118.__next=_t153.__key,_t153.__prev=_e118.__key;}else _t153.__prev=null;_n78.__next=null;}_r61.__size--,_n78.__parent=null;}}function _i(t){Sr();var e=t.getLatest(),n=e.__parent,r=Tr(),i=vr(),o=r._nodeMap,s=i._dirtyElements;null!==n&&function(t,e,n){var r=t;for(;null!==r;){if(n.has(r))return;var _t154=e.get(r);if(void 0===_t154)break;n.set(r,!1),r=_t154.__parent;}}(n,o,s);var l=e.__key;i._dirtyType=1,Wr(t)?s.set(l,!0):i._dirtyLeaves.add(l);}function mi(t){Cr();var e=vr(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){var _t155=xi(n);null!==_t155&&_t155.getWritable();}if(null!==t){var _e119=xi(t);null!==_e119&&_e119.getWritable();}}}function yi(){if(xr())return null;return vr()._compositionKey;}function xi(t,e){var n=(e||Tr())._nodeMap.get(t);return void 0===n?null:n;}function Ci(t,e){var n=Si(t,vr());return void 0!==n?xi(n,e):null;}function Si(t,e){return t["__lexicalKey_"+e._key];}function Ti(t,e){var n=t;for(;null!=n;){var _t156=Ci(n,e);if(null!==_t156)return _t156;n=Xi(n);}return null;}function vi(t){var e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n;}function Ni(t){return t.read(function(){return ki().getTextContent();});}function ki(){return bi(Tr());}function bi(t){return t._nodeMap.get("root");}function Ei(t){Cr();var e=Tr();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t;}function wi(t){var e=vr(),n=function(t,e){var n=t;for(;null!=n;){var _t157=Si(n,e);if(void 0!==_t157)return _t157;n=Xi(n);}return null;}(t,e);if(null===n){return t===e.getRootElement()?xi("root"):null;}return xi(n);}function Oi(t,e){return e?t.getTextContentSize():0;}function Mi(t){return /[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t);}function Ai(t){var e=[];var n=t;for(;null!==n;){e.push(n),n=n._parentEditor;}return e;}function Di(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5);}function Pi(t){return ui(t)?t.nodeValue:null;}function Li(t,e,n){var r=ho(ro(e));if(null===r)return;var i=r.anchorNode;var o=r.anchorOffset,s=r.focusOffset;if(null!==i){var _e120=Pi(i);var _r62=Ti(i);if(null!==_e120&&Dn(_r62)){if(_e120===k&&n){var _t158=n.length;_e120=n,o=_t158,s=_t158;}null!==_e120&&Fi(_r62,_e120,o,s,t);}}}function Fi(t,e,n,r,i){var o=t;if(o.isAttached()&&(i||!o.isDirty())){var _s16=o.isComposing();var _l12=e;(_s16||i)&&e[e.length-1]===k&&(_l12=e.slice(0,-1));var _u9=o.getTextContent();if(i||_l12!==_u9){if(""===_l12){if(mi(null),c||a||h)o.remove();else{var _t159=vr();setTimeout(function(){_t159.update(function(){o.isAttached()&&o.remove();});},20);}return;}var _e121=o.getParent(),_i77=or(),_u10=o.getTextContentSize(),_f9=yi(),_d6=o.getKey();if(o.isToken()||null!==_f9&&_d6===_f9&&!_s16||Kn(_i77)&&(null!==_e121&&!_e121.canInsertTextBefore()&&0===_i77.anchor.offset||_i77.anchor.key===t.__key&&0===_i77.anchor.offset&&!o.canInsertTextBefore()&&!_s16||_i77.focus.key===t.__key&&_i77.focus.offset===_u10&&!o.canInsertTextAfter()&&!_s16))return void o.markDirty();var _g6=ir();if(!Kn(_g6)||null===n||null===r)return void o.setTextContent(_l12);if(_g6.setTextNodeRange(o,n,o,r),o.isSegmented()){var _t160=An(o.getTextContent());o.replace(_t160),o=_t160;}o.setTextContent(_l12);}}}function Ii(t){return"ArrowLeft"===t;}function Ri(t){return"ArrowRight"===t;}function Bi(t,e){return o?t:e;}function zi(t){return"Enter"===t;}function Wi(t){return"Backspace"===t;}function $i(t){return"Delete"===t;}function Ki(t,e,n){return"a"===t.toLowerCase()&&Bi(e,n);}function Ui(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});var n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;var i=t[e];if("string"==typeof i){var _t161=g(i);return n[e]=_t161,_t161;}return i;}function Ji(t,e,r,i,o){if(0===r.size)return;var s=i.__type,l=i.__key,c=e.get(s);void 0===c&&n(33,s);var a=c.klass;var u=t.get(a);void 0===u&&(u=new Map(),t.set(a,u));var f=u.get(l),d="destroyed"===f&&"created"===o;(void 0===f||d)&&u.set(l,d?"updated":o);}function ji(t,e,n){var r=t.getParent();var i=n,o=t;return null!==r&&(e&&0===n?(i=o.getIndexWithinParent(),o=r):e||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?i-1:i);}function Vi(t,e){var n=t.offset;if("element"===t.type){return ji(t.getNode(),e,n);}{var _r63=t.getNode();if(e&&0===n||!e&&n===_r63.getTextContentSize()){var _t162=e?_r63.getPreviousSibling():_r63.getNextSibling();return null===_t162?ji(_r63.getParentOrThrow(),e,_r63.getIndexWithinParent()+(e?0:1)):_t162;}}return null;}function Hi(t){var e=ro(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n;}function Yi(t,e,n){return Pr(t,e,n);}function qi(t){return!jr(t)&&!t.isLastChild()&&!t.isInline();}function Gi(t,e){var r=t._keyToDOMMap.get(e);return void 0===r&&n(75,e),r;}function Xi(t){var e=t.assignedSlot||t.parentElement;return mo(e)?e.host:e;}function Qi(t){return fi(t)?t:po(t)?t.ownerDocument:null;}function Zi(t){Cr();vr()._updateTags.add(t);}function to(t){Cr();vr()._deferred.push(t);}function eo(t,e){var n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent();}return!1;}function no(t){var e=Qi(t);return e?e.defaultView:null;}function ro(t){var e=t._window;return null===e&&n(78),e;}function io(t){var e=t.getParentOrThrow();for(;null!==e;){if(oo(e))return e;e=e.getParentOrThrow();}return e;}function oo(t){return jr(t)||Wr(t)&&t.isShadowRoot();}function so(t){var e=t.constructor.clone(t);return gi(e,null),e;}function lo(t){var e=vr(),r=t.constructor.getType(),i=e._nodes.get(r);void 0===i&&n(200,t.constructor.name,r);var o=i.replace,s=i.replaceWithKlass;if(null!==o){var _e122=o(t),_i78=_e122.constructor;return null!==s?_e122 instanceof s||n(201,s.name,s.getType(),_i78.name,_i78.getType(),t.constructor.name,r):_e122 instanceof t.constructor&&_i78!==t.constructor||n(202,_i78.name,_i78.getType(),t.constructor.name,r),_e122.__key===t.__key&&n(203,t.constructor.name,r,_i78.name,_i78.getType()),_e122;}return t;}function co(t,e){!jr(t.getParent())||Wr(e)||Ur(e)||n(99);}function ao(t){var e=xi(t);return null===e&&n(63,t),e;}function uo(t){return(Ur(t)||Wr(t)&&!t.canBeEmpty())&&!t.isInline();}function fo(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;var r=t.parentElement;null!==r&&r.removeChild(t);}function ho(t){return r?(t||window).getSelection():null;}function go(t){var e=no(t);return e?e.getSelection():null;}function po(t){return _o(t)&&1===t.nodeType;}function _o(t){return"object"==typeof t&&null!==t&&"nodeType"in t&&"number"==typeof t.nodeType;}function mo(t){return _o(t)&&11===t.nodeType;}function yo(t){var e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e);}function xo(t){var e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e);}function Co(t){if(Ur(t)&&!t.isInline())return!0;if(!Wr(t)||oo(t))return!1;var e=t.getFirstChild(),n=null===e||gn(e)||Dn(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n;}function So(t,e){var n=t;for(;null!==n&&null!==n.getParent()&&!e(n);){n=n.getParentOrThrow();}return e(n)?n:null;}var To=new WeakMap(),vo=new Map();function No(t){if(!t._readOnly&&t.isEmpty())return vo;t._readOnly||n(192);var e=To.get(t);return e||(e=function(t){var e=new Map();for(var _iterator21=t._nodeMap,_isArray21=Array.isArray(_iterator21),_i79=0,_iterator21=_isArray21?_iterator21:_iterator21[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref39;if(_isArray21){if(_i79>=_iterator21.length)break;_ref39=_iterator21[_i79++];}else{_i79=_iterator21.next();if(_i79.done)break;_ref39=_i79.value;}var _ref40=_ref39;var _n79=_ref40[0];var _r64=_ref40[1];var _t163=_r64.__type;var _i80=e.get(_t163);_i80||(_i80=new Map(),e.set(_t163,_i80)),_i80.set(_n79,_r64);}return e;}(t),To.set(t,e)),e;}function ko(t){var e=t.constructor.clone(t);return e.afterCloneFrom(t),e;}function bo(t,e){var n=(parseInt(t.style.paddingInlineStart,10)||0)/40;e.setIndent(n);}function Eo(t){return!0===t.__lexicalUnmanaged;}var wo={next:"previous",previous:"next"};var Oo=function(){function Oo(t){this.origin=t;}var _proto17=Oo.prototype;_proto17[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return Zo({hasNext:Ro,initial:this.getAdjacentCaret(),map:function map(t){return t;},step:function step(t){return t.getAdjacentCaret();}});};_proto17.getAdjacentCaret=function getAdjacentCaret(){return Ko(this.getNodeAtCaret(),this.direction);};_proto17.getSiblingCaret=function getSiblingCaret(){return Ko(this.origin,this.direction);};_proto17.remove=function remove(){var t=this.getNodeAtCaret();return t&&t.remove(),this;};_proto17.replaceOrInsert=function replaceOrInsert(t,e){var n=this.getNodeAtCaret();return t.is(this.origin)||t.is(n)||(null===n?this.insert(t):n.replace(t,e)),this;};_proto17.splice=function splice(t,e,r){if(r===void 0){r="next";}var i=r===this.direction?e:Array.from(e).reverse();var o=this;var s=this.getParentAtCaret(),l=new Map();for(var _e123=o.getAdjacentCaret();null!==_e123&&l.size<t;_e123=_e123.getAdjacentCaret()){var _t164=_e123.origin.getWritable();l.set(_t164.getKey(),_t164);}for(var _iterator22=i,_isArray22=Array.isArray(_iterator22),_i81=0,_iterator22=_isArray22?_iterator22:_iterator22[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref41;if(_isArray22){if(_i81>=_iterator22.length)break;_ref41=_iterator22[_i81++];}else{_i81=_iterator22.next();if(_i81.done)break;_ref41=_i81.value;}var _t165=_ref41;if(l.size>0){var _e124=o.getNodeAtCaret();if(_e124){if(l["delete"](_e124.getKey()),l["delete"](_t165.getKey()),_e124.is(_t165)||o.origin.is(_t165));else{var _n80=_t165.getParent();_n80&&_n80.is(s)&&_t165.remove(),_e124.replace(_t165);}}else null===_e124&&n(263,Array.from(l).join(" "));}else o.insert(_t165);o=Ko(_t165,this.direction);}for(var _iterator23=l.values(),_isArray23=Array.isArray(_iterator23),_i82=0,_iterator23=_isArray23?_iterator23:_iterator23[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref42;if(_isArray23){if(_i82>=_iterator23.length)break;_ref42=_iterator23[_i82++];}else{_i82=_iterator23.next();if(_i82.done)break;_ref42=_i82.value;}var _t166=_ref42;_t166.remove();}return this;};return Oo;}();var Mo=function(_Oo){babelHelpers.inheritsLoose(Mo,_Oo);function Mo(){var _temp,_this5;for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}return(_temp=_this5=_Oo.call.apply(_Oo,[this].concat(args))||this,_this5.type="child",_temp)||babelHelpers.assertThisInitialized(_this5);}var _proto18=Mo.prototype;_proto18.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:Vo(t,this.direction);};_proto18.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return Ko(Po(this.getParentAtCaret(),t),this.direction);};_proto18.getFlipped=function getFlipped(){var t=Do(this.direction);return Ko(this.getNodeAtCaret(),t)||Vo(this.origin,t);};_proto18.getParentAtCaret=function getParentAtCaret(){return this.origin;};_proto18.getChildCaret=function getChildCaret(){return this;};_proto18.isSameNodeCaret=function isSameNodeCaret(t){return t instanceof Mo&&this.direction===t.direction&&this.origin.is(t.origin);};_proto18.isSamePointCaret=function isSamePointCaret(t){return this.isSameNodeCaret(t);};return Mo;}(Oo);var Ao={root:jr,shadowRoot:oo};function Do(t){return wo[t];}function Po(t,e){if(e===void 0){e="root";}return Ao[e](t)?null:t;}var Lo=function(_Oo2){babelHelpers.inheritsLoose(Lo,_Oo2);function Lo(){var _temp2,_this6;for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++){args[_key7]=arguments[_key7];}return(_temp2=_this6=_Oo2.call.apply(_Oo2,[this].concat(args))||this,_this6.type="sibling",_temp2)||babelHelpers.assertThisInitialized(_this6);}var _proto19=Lo.prototype;_proto19.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:Ko(t,this.direction);};_proto19.getSiblingCaret=function getSiblingCaret(){return this;};_proto19.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto19.getChildCaret=function getChildCaret(){return Wr(this.origin)?Vo(this.origin,this.direction):null;};_proto19.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return Ko(Po(this.getParentAtCaret(),t),this.direction);};_proto19.getFlipped=function getFlipped(){var t=Do(this.direction);return Ko(this.getNodeAtCaret(),t)||Vo(this.origin.getParentOrThrow(),t);};_proto19.isSamePointCaret=function isSamePointCaret(t){return t instanceof Lo&&this.direction===t.direction&&this.origin.is(t.origin);};_proto19.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof Lo||t instanceof Fo)&&this.direction===t.direction&&this.origin.is(t.origin);};return Lo;}(Oo);var Fo=function(_Oo3){babelHelpers.inheritsLoose(Fo,_Oo3);function Fo(t,e){var _temp3,_this7;(_temp3=_this7=_Oo3.call(this,t)||this,_this7.type="text",_temp3),_this7.offset=e;return _this7;}var _proto20=Fo.prototype;_proto20.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:Uo(t,this.direction,this.offset);};_proto20.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto20.getChildCaret=function getChildCaret(){return null;};_proto20.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return Ko(Po(this.getParentAtCaret(),t),this.direction);};_proto20.getFlipped=function getFlipped(){return Uo(this.origin,Do(this.direction),this.offset);};_proto20.isSamePointCaret=function isSamePointCaret(t){return t instanceof Fo&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset;};_proto20.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof Lo||t instanceof Fo)&&this.direction===t.direction&&this.origin.is(t.origin);};_proto20.getSiblingCaret=function getSiblingCaret(){return Ko(this.origin,this.direction);};return Fo;}(Oo);function Io(t){return t instanceof Fo;}function Ro(t){return t instanceof Lo;}function Bo(t){return t instanceof Mo;}var zo={next:function(_Fo){babelHelpers.inheritsLoose(_class,_Fo);function _class(){var _temp4,_this8;for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8];}return(_temp4=_this8=_Fo.call.apply(_Fo,[this].concat(args))||this,_this8.direction="next",_temp4)||babelHelpers.assertThisInitialized(_this8);}var _proto21=_class.prototype;_proto21.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto21.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class;}(Fo),previous:function(_Fo2){babelHelpers.inheritsLoose(_class3,_Fo2);function _class3(){var _temp5,_this9;for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++){args[_key9]=arguments[_key9];}return(_temp5=_this9=_Fo2.call.apply(_Fo2,[this].concat(args))||this,_this9.direction="previous",_temp5)||babelHelpers.assertThisInitialized(_this9);}var _proto22=_class3.prototype;_proto22.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto22.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class3;}(Fo)},Wo={next:function(_Lo){babelHelpers.inheritsLoose(_class5,_Lo);function _class5(){var _temp6,_this10;for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++){args[_key10]=arguments[_key10];}return(_temp6=_this10=_Lo.call.apply(_Lo,[this].concat(args))||this,_this10.direction="next",_temp6)||babelHelpers.assertThisInitialized(_this10);}var _proto23=_class5.prototype;_proto23.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto23.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class5;}(Lo),previous:function(_Lo2){babelHelpers.inheritsLoose(_class7,_Lo2);function _class7(){var _temp7,_this11;for(var _len11=arguments.length,args=new Array(_len11),_key11=0;_key11<_len11;_key11++){args[_key11]=arguments[_key11];}return(_temp7=_this11=_Lo2.call.apply(_Lo2,[this].concat(args))||this,_this11.direction="previous",_temp7)||babelHelpers.assertThisInitialized(_this11);}var _proto24=_class7.prototype;_proto24.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto24.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class7;}(Lo)},$o={next:function(_Mo){babelHelpers.inheritsLoose(_class9,_Mo);function _class9(){var _temp8,_this12;for(var _len12=arguments.length,args=new Array(_len12),_key12=0;_key12<_len12;_key12++){args[_key12]=arguments[_key12];}return(_temp8=_this12=_Mo.call.apply(_Mo,[this].concat(args))||this,_this12.direction="next",_temp8)||babelHelpers.assertThisInitialized(_this12);}var _proto25=_class9.prototype;_proto25.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getFirstChild();};_proto25.insert=function insert(t){return this.origin.splice(0,0,[t]),this;};return _class9;}(Mo),previous:function(_Mo2){babelHelpers.inheritsLoose(_class11,_Mo2);function _class11(){var _temp9,_this13;for(var _len13=arguments.length,args=new Array(_len13),_key13=0;_key13<_len13;_key13++){args[_key13]=arguments[_key13];}return(_temp9=_this13=_Mo2.call.apply(_Mo2,[this].concat(args))||this,_this13.direction="previous",_temp9)||babelHelpers.assertThisInitialized(_this13);}var _proto26=_class11.prototype;_proto26.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getLastChild();};_proto26.insert=function insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this;};return _class11;}(Mo)};function Ko(t,e){return t?new Wo[e](t):null;}function Uo(t,e,n){return t?new zo[e](t,Jo(t,n)):null;}function Jo(t,e){var n=t.getTextContentSize(),r="next"===e?n:"previous"===e?0:e;if(!(r>=0&&r<=n))throw Error("$getTextNodeOffset: invalid offset "+String(e)+" for size "+String(n));return r;}function jo(t,e){return new Go(t,e);}function Vo(t,e){return Wr(t)?new $o[e](t):null;}function Ho(t){return t&&t.getChildCaret()||t;}function Yo(t){return t&&Ho(t.getAdjacentCaret());}var _Symbol$iterator=typeof Symbol==="function"?Symbol.iterator:"@@iterator";var qo=function(){function qo(t,e,n){this.type="node-caret-range";this.anchor=t,this.focus=e,this.direction=n;}var _proto27=qo.prototype;_proto27.getLatest=function getLatest(){var t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new qo(t,e,this.direction);};_proto27.isCollapsed=function isCollapsed(){return this.anchor.isSamePointCaret(this.focus);};_proto27.getTextSlices=function getTextSlices(){var _this16=this;var t=function t(_t167){var e=_this16[_t167].getLatest();return Io(e)?function(t,e){var n=t.direction,r=t.origin,i=Jo(r,"focus"===e?Do(n):n);return jo(t,i-t.offset);}(e,_t167):null;},e=t("anchor"),n=t("focus");if(e&&n){var _t168=e.caret,_r65=n.caret;if(_t168.isSameNodeCaret(_r65))return[jo(_t168,_r65.offset-_t168.offset),null];}return[e,n];};_proto27.iterNodeCarets=function iterNodeCarets(t){if(t===void 0){t="root";}var e=Io(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=Io(n),i=function i(e){return e.isSameNodeCaret(n)?null:Yo(e)||e.getParentCaret(t);};return Zo({hasNext:function hasNext(t){return null!==t&&!(r&&n.isSameNodeCaret(t));},initial:e.isSameNodeCaret(n)?null:i(e),map:function map(t){return t;},step:i});};_proto27[_Symbol$iterator]=function(){return this.iterNodeCarets("root");};return qo;}();var Go=function(){function Go(t,e){this.type="slice";this.caret=t,this.distance=e;}var _proto28=Go.prototype;_proto28.getSliceIndices=function getSliceIndices(){var t=this.distance,e=this.caret.offset,n=e+t;return n<e?[n,e]:[e,n];};_proto28.getTextContent=function getTextContent(){var _this$getSliceIndices=this.getSliceIndices(),t=_this$getSliceIndices[0],e=_this$getSliceIndices[1];return this.caret.origin.getTextContent().slice(t,e);};_proto28.getTextContentSize=function getTextContentSize(){return Math.abs(this.distance);};_proto28.removeTextSlice=function removeTextSlice(){var _this$caret=this.caret,t=_this$caret.origin,e=_this$caret.direction,_this$getSliceIndices2=this.getSliceIndices(),n=_this$getSliceIndices2[0],r=_this$getSliceIndices2[1],i=t.getTextContent();return Uo(t.setTextContent(i.slice(0,n)+i.slice(r)),e,n);};return Go;}();function Xo(t){return Qo(t,Ko(ki(),t.direction));}function Qo(t,e){return t.direction!==e.direction&&n(265),new qo(t,e,t.direction);}function Zo(t){var _ref43;var e=t.initial,n=t.hasNext,r=t.step,i=t.map;var o=e;return _ref43={},_ref43[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this;},_ref43.next=function next(){if(!n(o))return{done:!0,value:void 0};var t={done:!1,value:i(o)};return o=r(o),t;},_ref43;}function ts(t){var e=t.a,n=t.b,r=e.__key,i=n.__key;var o=e,s=n;for(;o&&s;o=o.getNextSibling(),s=s.getNextSibling()){if(o.__key===i)return-1;if(s.__key===r)return 1;}return null===o?1:-1;}function es(t,e){return e.is(t);}function ns(t){return Wr(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()];}function rs(t,e){if(t.is(e))return{commonAncestor:t,type:"same"};var n=new Map();for(var _ns=ns(t),_e125=_ns[0],_r66=_ns[1];_e125;_r66=_e125,_e125=_e125.getParent()){n.set(_e125,_r66);}for(var _ns2=ns(e),_r67=_ns2[0],_i83=_ns2[1];_r67;_i83=_r67,_r67=_r67.getParent()){var _o29=n.get(_r67);if(void 0!==_o29){if(null===_o29){if(!es(t,_r67))throw Error("$originComparison: ancestor logic error");return{commonAncestor:_r67,type:"ancestor"};}if(null===_i83){if(!es(e,_r67))throw Error("$originComparison: descendant logic error");return{commonAncestor:_r67,type:"descendant"};}if(!Wr(_o29)&&!es(t,_o29)||!Wr(_i83)&&!es(e,_i83)||!_r67.is(_o29.getParent())||!_r67.is(_i83.getParent()))throw Error("$originComparison: branch logic error");return{a:_o29,b:_i83,commonAncestor:_r67,type:"branch"};}}return null;}function is(t,e){var r=t.type,i=t.key,o=t.offset,s=ao(t.key);return"text"===r?(Dn(s)||n(266,s.getType(),i),Uo(s,e,o)):(Wr(s)||n(267,s.getType(),i),ps(s,t.offset,e));}function os(t,e){var r=e.origin,i=e.direction,o="next"===i;Io(e)?t.set(r.getKey(),e.offset,"text"):Ro(e)?Dn(r)?t.set(r.getKey(),Jo(r,i),"text"):t.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(o?1:0),"element"):(Bo(e)&&Wr(r)||n(268),t.set(r.getKey(),o?0:r.getChildrenSize(),"element"));}function ss(t,e){os(t.anchor,e.anchor),os(t.focus,e.focus);}function ls(t){var e=t.anchor,n=t.focus,r=n.isBefore(e)?"previous":"next";return Qo(is(e,r),is(n,r));}function cs(t){var e=t.direction,n=t.origin,r=Ko(n,Do(e)).getNodeAtCaret();return r?Ko(r,e):Vo(n.getParentOrThrow(),e);}function as(t,e){if(e===void 0){e="root";}var n=[t];for(var _r68=Bo(t)?t.getParentCaret(e):t.getSiblingCaret();null!==_r68;_r68=_r68.getParentCaret(e)){n.push(cs(_r68));}return n;}function us(t){return!!t&&t.origin.isAttached();}function fs(t,e){if(e===void 0){e="removeEmptySlices";}if(t.isCollapsed())return t;var r="root",i="next";var o=e;var s=gs(t,i),l=as(s.anchor,r),c=as(s.focus.getFlipped(),r),a=new Set(),u=[];for(var _iterator24=s.iterNodeCarets(r),_isArray24=Array.isArray(_iterator24),_i84=0,_iterator24=_isArray24?_iterator24:_iterator24[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref44;if(_isArray24){if(_i84>=_iterator24.length)break;_ref44=_iterator24[_i84++];}else{_i84=_iterator24.next();if(_i84.done)break;_ref44=_i84.value;}var _t170=_ref44;if(Bo(_t170))a.add(_t170.origin.getKey());else if(Ro(_t170)){var _e128=_t170.origin;Wr(_e128)&&!a.has(_e128.getKey())||u.push(_e128);}}for(var _i85=0;_i85<u.length;_i85++){var _t171=u[_i85];_t171.remove();}for(var _iterator25=s.getTextSlices(),_isArray25=Array.isArray(_iterator25),_i86=0,_iterator25=_isArray25?_iterator25:_iterator25[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref45;if(_isArray25){if(_i86>=_iterator25.length)break;_ref45=_iterator25[_i86++];}else{_i86=_iterator25.next();if(_i86.done)break;_ref45=_i86.value;}var _t172=_ref45;if(!_t172)continue;var _e129=_t172.caret.origin,_n81=_e129.getTextContentSize(),_r70=cs(Ko(_e129,i)),_s17=_e129.getMode();if(Math.abs(_t172.distance)===_n81&&"removeEmptySlices"===o||"token"===_s17&&0!==_t172.distance)_r70.remove();else if(0!==_t172.distance){o="removeEmptySlices";var _e130=_t172.removeTextSlice();var _n82=_t172.caret.origin;if("segmented"===_s17){var _t173=_e130.origin,_n83=An(_t173.getTextContent()).setStyle(_t173.getStyle()).setFormat(_t173.getFormat());_r70.replaceOrInsert(_n83),_e130=Uo(_n83,i,_e130.offset);}_n82.is(l[0].origin)&&(l[0]=_e130),_n82.is(c[0].origin)&&(c[0]=_e130.getFlipped());}}var f,d;for(var _iterator26=l,_isArray26=Array.isArray(_iterator26),_i87=0,_iterator26=_isArray26?_iterator26:_iterator26[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref46;if(_isArray26){if(_i87>=_iterator26.length)break;_ref46=_iterator26[_i87++];}else{_i87=_iterator26.next();if(_i87.done)break;_ref46=_i87.value;}var _t174=_ref46;if(us(_t174)){f=ds(_t174);break;}}for(var _iterator27=c,_isArray27=Array.isArray(_iterator27),_i88=0,_iterator27=_isArray27?_iterator27:_iterator27[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref47;if(_isArray27){if(_i88>=_iterator27.length)break;_ref47=_iterator27[_i88++];}else{_i88=_iterator27.next();if(_i88.done)break;_ref47=_i88.value;}var _t175=_ref47;if(us(_t175)){d=ds(_t175);break;}}var h=function(t,e,n){if(!t||!e)return null;var r=t.getParentAtCaret(),i=e.getParentAtCaret();if(!r||!i)return null;var o=r.getParents().reverse();o.push(r);var s=i.getParents().reverse();s.push(i);var l=Math.min(o.length,s.length);var c;for(c=0;c<l&&o[c]===s[c];c++){;}var a=function a(t,e){var n;for(var _r69=c;_r69<t.length;_r69++){var _i89=t[_r69];if(oo(_i89))return;!n&&e(_i89)&&(n=_i89);}return n;},u=a(o,Co),f=u&&a(s,function(t){return n.has(t.getKey())&&Co(t);});return u&&f?[u,f]:null;}(f,d,a);if(h){var _t169=h[0],_e126=h[1];Vo(_t169,"previous").splice(0,_e126.getChildren()),_e126.remove();}var g=[f,d].concat(l,c).find(us);if(g){var _e127=hs(ds(g),t.direction);return Qo(_e127,_e127);}n(269,JSON.stringify(l.map(function(t){return t.origin.__key;})));}function ds(t){var e=function(t){var e=t;for(;Bo(e);){var _t176=Yo(e);if(!Bo(_t176))break;e=_t176;}return e;}(t.getLatest()),n=e.direction;if(Dn(e.origin))return Io(e)?e:Uo(e.origin,n,n);var r=e.getAdjacentCaret();return Ro(r)&&Dn(r.origin)?Uo(r.origin,n,Do(n)):e;}function hs(t,e){return t.direction===e?t:t.getFlipped();}function gs(t,e){return t.direction===e?t:Qo(hs(t.focus,e),hs(t.anchor,e));}function ps(t,e,n){var r=Vo(t,"next");for(var _t177=0;_t177<e;_t177++){var _t178=r.getAdjacentCaret();if(null===_t178)break;r=_t178;}return hs(r,n);}exports.$addUpdateTag=Zi,exports.$applyNodeReplacement=lo,exports.$caretFromPoint=is,exports.$caretRangeFromSelection=ls,exports.$cloneWithProperties=ko,exports.$comparePointCaretNext=function(t,e){var n=rs(t.origin,e.origin);if(null===n)throw Error("$comparePointCaretNext: a (key "+t.origin.getKey()+") and b (key "+e.origin.getKey()+") do not have a common ancestor");switch(n.type){case"same":{var _n84="text"===t.type,_r71="text"===e.type;return _n84&&_r71?function(t,e){return Math.sign(t-e);}(t.offset,e.offset):t.type===e.type?0:_n84?-1:_r71?1:"child"===t.type?-1:1;}case"ancestor":return"child"===t.type?-1:1;case"descendant":return"child"===e.type?1:-1;case"branch":return ts(n);}},exports.$copyNode=so,exports.$createLineBreakNode=hn,exports.$createNodeSelection=nr,exports.$createParagraphNode=Zr,exports.$createPoint=Bn,exports.$createRangeSelection=er,exports.$createRangeSelectionFromDom=function(t,e){return rr(null,t,e,null);},exports.$createTabNode=Fn,exports.$createTextNode=An,exports.$extendCaretToRange=Xo,exports.$getAdjacentChildCaret=Yo,exports.$getAdjacentNode=Vi,exports.$getAdjacentSiblingOrParentSiblingCaret=function(t,e){if(e===void 0){e="root";}var n=0,r=t,i=Yo(r);for(;null===i;){if(n--,i=r.getParentCaret(e),!i)return null;r=i,i=Yo(r);}return i&&[i,n];},exports.$getCaretInDirection=hs,exports.$getCaretRange=Qo,exports.$getCaretRangeInDirection=gs,exports.$getCharacterOffsets=Vn,exports.$getChildCaret=Vo,exports.$getChildCaretAtIndex=ps,exports.$getChildCaretOrSelf=Ho,exports.$getCommonAncestor=rs,exports.$getCommonAncestorResultBranchOrder=ts,exports.$getEditor=function(){return vr();},exports.$getNearestNodeFromDOMNode=Ti,exports.$getNearestRootOrShadowRoot=io,exports.$getNodeByKey=xi,exports.$getNodeByKeyOrThrow=ao,exports.$getPreviousSelection=or,exports.$getRoot=ki,exports.$getSelection=ir,exports.$getSiblingCaret=Ko,exports.$getState=Q,exports.$getStateChange=function(t,e,n){var r=Q(t,n,"direct"),i=Q(e,n,"direct");return n.isEqual(r,i)?null:[r,i];},exports.$getTextContent=function(){var t=ir();return null===t?"":t.getTextContent();},exports.$getTextNodeOffset=Jo,exports.$getTextPointCaret=Uo,exports.$getTextPointCaretSlice=jo,exports.$getWritableNodeState=et,exports.$hasAncestor=eo,exports.$hasUpdateTag=function(t){return vr()._updateTags.has(t);},exports.$insertNodes=function(t){var e=ir()||or();null===e&&(e=ki().selectEnd()),e.insertNodes(t);},exports.$isBlockElementNode=function(t){return Wr(t)&&!t.isInline();},exports.$isChildCaret=Bo,exports.$isDecoratorNode=Ur,exports.$isElementNode=Wr,exports.$isInlineElementOrDecoratorNode=function(t){return Wr(t)&&t.isInline()||Ur(t)&&t.isInline();},exports.$isLeafNode=function(t){return Dn(t)||gn(t)||Ur(t);},exports.$isLineBreakNode=gn,exports.$isNodeCaret=function(t){return t instanceof Oo;},exports.$isNodeSelection=Jn,exports.$isParagraphNode=function(t){return t instanceof Xr;},exports.$isRangeSelection=Kn,exports.$isRootNode=jr,exports.$isRootOrShadowRoot=oo,exports.$isSiblingCaret=Ro,exports.$isTabNode=In,exports.$isTextNode=Dn,exports.$isTextPointCaret=Io,exports.$isTextPointCaretSlice=function(t){return t instanceof Go;},exports.$isTokenOrSegmented=ai,exports.$nodesOfType=function(t){var e=t.getType(),n=Tr();if(n._readOnly){var _t179=No(n).get(e);return _t179?Array.from(_t179.values()):[];}var r=n._nodeMap,i=[];for(var _iterator28=r,_isArray28=Array.isArray(_iterator28),_i90=0,_iterator28=_isArray28?_iterator28:_iterator28[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref49;if(_isArray28){if(_i90>=_iterator28.length)break;_ref49=_iterator28[_i90++];}else{_i90=_iterator28.next();if(_i90.done)break;_ref49=_i90.value;}var _ref50=_ref49;var _n85=_ref50[1];_n85 instanceof t&&_n85.__type===e&&_n85.isAttached()&&i.push(_n85);}return i;},exports.$normalizeCaret=ds,exports.$normalizeSelection__EXPERIMENTAL=ot,exports.$onUpdate=to,exports.$parseSerializedNode=function(t){return Or(t,vr()._nodes);},exports.$removeTextFromCaretRange=fs,exports.$rewindSiblingCaret=cs,exports.$selectAll=function(t){var e=ki();if(Kn(t)){var _e131=t.anchor,_n86=t.focus,_r72=_e131.getNode().getTopLevelElementOrThrow().getParentOrThrow();return _e131.set(_r72.getKey(),0,"element"),_n86.set(_r72.getKey(),_r72.getChildrenSize(),"element"),ot(t),t;}{var _t180=e.select(0,e.getChildrenSize());return Ei(ot(_t180)),_t180;}},exports.$setCompositionKey=mi,exports.$setPointFromCaret=os,exports.$setSelection=Ei,exports.$setSelectionFromCaretRange=function(t){var e=ir(),n=Kn(e)?e:er();return ss(n,t),Ei(n),n;},exports.$setState=function(t,e,n){var r;if(Cr(),"function"==typeof n){var _i91=t.getLatest(),_o30=Q(_i91,e);if(r=n(_o30),e.isEqual(_o30,r))return _i91;}else r=n;var i=t.getWritable();return et(i).updateFromKnown(e,r),i;},exports.$splitNode=function(t,e){var r=t.getChildAtIndex(e);null==r&&(r=t),oo(t)&&n(102);var i=function i(t){var e=t.getParentOrThrow(),o=oo(e),s=t!==r||o?so(t):t;if(o)return Wr(t)&&Wr(s)||n(133),t.insertAfter(s),[t,s,s];{var _i93=i(e),_n87=_i93[0],_r73=_i93[1],_o31=_i93[2],_l13=t.getNextSiblings();return _o31.append.apply(_o31,[s].concat(_l13)),[_n87,_r73,s];}},_i92=i(r),o=_i92[0],s=_i92[1];return[o,s];},exports.$updateRangeSelectionFromCaretRange=ss,exports.ArtificialNode__DO_NOT_USE=Gr,exports.BLUR_COMMAND=Pe,exports.CAN_REDO_COMMAND=Me,exports.CAN_UNDO_COMMAND=Ae,exports.CLEAR_EDITOR_COMMAND=we,exports.CLEAR_HISTORY_COMMAND=Oe,exports.CLICK_COMMAND=Vt,exports.COMMAND_PRIORITY_CRITICAL=4,exports.COMMAND_PRIORITY_EDITOR=0,exports.COMMAND_PRIORITY_HIGH=3,exports.COMMAND_PRIORITY_LOW=1,exports.COMMAND_PRIORITY_NORMAL=2,exports.CONTROLLED_TEXT_INSERTION_COMMAND=Gt,exports.COPY_COMMAND=ke,exports.CUT_COMMAND=be,exports.DELETE_CHARACTER_COMMAND=Ht,exports.DELETE_LINE_COMMAND=te,exports.DELETE_WORD_COMMAND=Zt,exports.DRAGEND_COMMAND=Ne,exports.DRAGOVER_COMMAND=ve,exports.DRAGSTART_COMMAND=Te,exports.DROP_COMMAND=Ce,exports.DecoratorNode=Kr,exports.ElementNode=zr,exports.FOCUS_COMMAND=De,exports.FORMAT_ELEMENT_COMMAND=Se,exports.FORMAT_TEXT_COMMAND=ee,exports.INDENT_CONTENT_COMMAND=ye,exports.INSERT_LINE_BREAK_COMMAND=Yt,exports.INSERT_PARAGRAPH_COMMAND=qt,exports.INSERT_TAB_COMMAND=me,exports.INTERNAL_$isBlock=Co,exports.IS_ALL_FORMATTING=2047,exports.IS_BOLD=1,exports.IS_CODE=16,exports.IS_HIGHLIGHT=y,exports.IS_ITALIC=2,exports.IS_STRIKETHROUGH=4,exports.IS_SUBSCRIPT=32,exports.IS_SUPERSCRIPT=64,exports.IS_UNDERLINE=8,exports.KEY_ARROW_DOWN_COMMAND=ue,exports.KEY_ARROW_LEFT_COMMAND=le,exports.KEY_ARROW_RIGHT_COMMAND=oe,exports.KEY_ARROW_UP_COMMAND=ae,exports.KEY_BACKSPACE_COMMAND=he,exports.KEY_DELETE_COMMAND=pe,exports.KEY_DOWN_COMMAND=ie,exports.KEY_ENTER_COMMAND=fe,exports.KEY_ESCAPE_COMMAND=ge,exports.KEY_MODIFIER_COMMAND=Le,exports.KEY_SPACE_COMMAND=de,exports.KEY_TAB_COMMAND=_e,exports.LineBreakNode=fn,exports.MOVE_TO_END=se,exports.MOVE_TO_START=ce,exports.NODE_STATE_KEY="$",exports.OUTDENT_CONTENT_COMMAND=xe,exports.PASTE_COMMAND=Xt,exports.ParagraphNode=Xr,exports.REDO_COMMAND=re,exports.REMOVE_TEXT_COMMAND=Qt,exports.RootNode=Jr,exports.SELECTION_CHANGE_COMMAND=Jt,exports.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND=jt,exports.SELECT_ALL_COMMAND=Ee,exports.TEXT_TYPE_TO_FORMAT=D,exports.TabNode=Ln,exports.TextNode=Tn,exports.UNDO_COMMAND=ne,exports.createCommand=Ut,exports.createEditor=function(t){var e=t||{},n=kr(),r=e.theme||{},i=void 0===t?n:e.parentEditor||null,o=e.disableEvents||!1,s=Hr(),l=e.namespace||(null!==i?i._config.namespace:Di()),c=e.editorState,a=[Jr,Tn,fn,Ln,Xr,Gr].concat(e.nodes||[]),u=e.onError,f=e.html,d=void 0===e.editable||e.editable;var h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map();for(var _t181=0;_t181<a.length;_t181++){var _e132=a[_t181],_n88=null,_r74=null;if("function"!=typeof _e132){var _t182=_e132;_e132=_t182.replace,_n88=_t182["with"],_r74=_t182.withKlass||null;}var _i94=_e132.getType(),_o32=_e132.transform(),_s18=new Set();null!==_o32&&_s18.add(_o32),h.set(_i94,{exportDOM:f&&f["export"]?f["export"].get(_e132):void 0,klass:_e132,replace:_n88,replaceWithKlass:_r74,transforms:_s18});}}var g=new ei(s,i,h,{disableEvents:o,namespace:l,theme:r},u||console.error,function(t,e){var n=new Map(),r=new Set(),i=function i(t){Object.keys(t).forEach(function(e){var r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e]);});};return t.forEach(function(t){var e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);var n=e.call(t.klass);null!==n&&i(n);}),e&&i(e),n;}(h,f?f["import"]:void 0),d);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=2),g;},exports.createState=function(t,e){return new X(t,e);},exports.flipDirection=Do,exports.getDOMOwnerDocument=Qi,exports.getDOMSelection=ho,exports.getDOMSelectionFromTarget=go,exports.getDOMTextNode=di,exports.getEditorPropertyFromDOMNode=ci,exports.getNearestEditorFromDOMNode=li,exports.isBlockDomNode=xo,exports.isCurrentlyReadOnlyMode=xr,exports.isDOMDocumentNode=fi,exports.isDOMNode=_o,exports.isDOMTextNode=ui,exports.isDOMUnmanaged=Eo,exports.isDocumentFragment=mo,exports.isHTMLAnchorElement=function(t){return po(t)&&"A"===t.tagName;},exports.isHTMLElement=po,exports.isInlineDomNode=yo,exports.isLexicalEditor=si,exports.isSelectionCapturedInDecoratorInput=ii,exports.isSelectionWithinEditor=oi,exports.makeStepwiseIterator=Zo,exports.resetRandomKey=function(){ni=1;},exports.setDOMUnmanaged=function(t){t.__lexicalUnmanaged=!0;},exports.setNodeIndentFromDOM=bo;}),null);
__d("LexicalClipboard",["cr:862"],(function(a,b,c,d,e,f){e.exports=b("cr:862")}),null);
__d("LexicalHtml",["cr:1497"],(function(a,b,c,d,e,f){e.exports=b("cr:1497")}),null);
__d("LexicalSelection",["cr:2180"],(function(a,b,c,d,e,f){e.exports=b("cr:2180")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<e0555db2233db5c4f9711c120165b817>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalClipboard.prod",["Lexical","LexicalHtml","LexicalSelection","LexicalUtils"],(function $module_LexicalClipboard_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e;}var i=r(function(e){var t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams();n.append("code",e);for(var _e=1;_e<arguments.length;_e++){n.append("v",arguments[_e]);}throw t.search=n.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");});function l(t,n){if(n===void 0){n=require("Lexical").$getSelection();}return null==n&&i(166),require("Lexical").$isRangeSelection(n)&&n.isCollapsed()||0===n.getNodes().length?"":require("LexicalHtml").$generateHtmlFromNodes(t,n);}function s(e,t){if(t===void 0){t=require("Lexical").$getSelection();}return null==t&&i(166),require("Lexical").$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(d(e,t));}function a(e,t,n){e.dispatchCommand(require("Lexical").SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,{nodes:t,selection:n})||n.insertNodes(t);}function c(e,n,r,l){if(l===void 0){l=[];}var s=null===n||r.isSelected(n);var a=require("Lexical").$isElementNode(r)&&r.excludeFromCopy("html");var d=r;if(null!==n){var _e2=require("Lexical").$cloneWithProperties(r);_e2=require("Lexical").$isTextNode(_e2)&&null!==n?require("LexicalSelection").$sliceSelectedTextNodeContent(n,_e2):_e2,d=_e2;}var u=require("Lexical").$isElementNode(d)?d.getChildren():[],p=function(e){var t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&i(58,n.name),require("Lexical").$isElementNode(e)){var _e3=t.children;Array.isArray(_e3)||i(59,n.name);}return t;}(d);if(require("Lexical").$isTextNode(d)){var _e4=d.__text;_e4.length>0?p.text=_e4:s=!1;}for(var _t=0;_t<u.length;_t++){var _i=u[_t],_l=c(e,n,_i,p.children);!s&&require("Lexical").$isElementNode(r)&&_l&&r.extractWithChild(_i,n,"clone")&&(s=!0);}if(s&&!a)l.push(p);else if(Array.isArray(p.children))for(var _e5=0;_e5<p.children.length;_e5++){var _t2=p.children[_e5];l.push(_t2);}return s;}function d(e,t){var n=[],r=require("Lexical").$getRoot().getChildren();for(var _o=0;_o<r.length;_o++){c(e,t,r[_o],n);}return{namespace:e._config.namespace,nodes:n};}function u(e){var n=[];for(var _r=0;_r<e.length;_r++){var _i2=e[_r],_l2=require("Lexical").$parseSerializedNode(_i2);require("Lexical").$isTextNode(_l2)&&require("LexicalSelection").$addNodeStyle(_l2),n.push(_l2);}return n;}var p=null;function f(e,t,n){if(void 0===n){var _t3=require("Lexical").getDOMSelection(e._window);if(!_t3)return!1;var _r2=_t3.anchorNode,_i3=_t3.focusNode;if(null!==_r2&&null!==_i3&&!require("Lexical").isSelectionWithinEditor(e,_r2,_i3))return!1;var _l3=require("Lexical").$getSelection();if(null===_l3)return!1;n=x(_l3);}t.preventDefault();var r=t.clipboardData;return null!==r&&(m(r,n),!0);}var g=[["text/html",l],["application/x-lexical-editor",s]];function x(e){if(e===void 0){e=require("Lexical").$getSelection();}var t={"text/plain":e?e.getTextContent():""};if(e){var _n=require("Lexical").$getEditor();for(var _ref of g){var _o2=_ref[0];var _r3=_ref[1];var _i4=_r3(_n,e);null!==_i4&&(t[_o2]=_i4);}}return t;}function m(e,t){for(var _n2 in t){var _o3=t[_n2];void 0!==_o3&&e.setData(_n2,_o3);}}exports.$generateJSONFromSelectedNodes=d,exports.$generateNodesFromSerializedNodes=u,exports.$getClipboardDataFromSelection=x,exports.$getHtmlContent=l,exports.$getLexicalContent=s,exports.$insertDataTransferForPlainText=function(e,t){var n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n);},exports.$insertDataTransferForRichText=function(t,n,r){var i=t.getData("application/x-lexical-editor");if(i)try{var _e6=JSON.parse(i);if(_e6.namespace===r._config.namespace&&Array.isArray(_e6.nodes)){return a(r,u(_e6.nodes),n);}}catch(e){}var l=t.getData("text/html"),s=t.getData("text/plain");if(l&&s!==l)try{var _t4=new DOMParser().parseFromString(function(e){if(window.trustedTypes&&window.trustedTypes.createPolicy){return window.trustedTypes.createPolicy("Lexical",{createHTML:function createHTML(e){return e;}}).createHTML(e);}return e;}(l),"text/html");return a(r,require("LexicalHtml").$generateNodesFromDOM(r,_t4),n);}catch(e){}var c=s||t.getData("text/uri-list");if(null!=c)if(require("Lexical").$isRangeSelection(n)){var _e7=c.split(/(\r?\n|\t)/);""===_e7[_e7.length-1]&&_e7.pop();for(var _t5=0;_t5<_e7.length;_t5++){var _n3=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_n3)){var _r4=_e7[_t5];"\n"===_r4||"\r\n"===_r4?_n3.insertParagraph():"\t"===_r4?_n3.insertNodes([require("Lexical").$createTabNode()]):_n3.insertText(_r4);}}}else n.insertRawText(c);},exports.$insertGeneratedNodes=a,exports.copyToClipboard=async function(e,t,r){if(null!==p)return!1;if(null!==t)return new Promise(function(n,o){e.update(function(){n(f(e,t,r));});});var i=e.getRootElement(),l=e._window||window,s=window.document,a=require("Lexical").getDOMSelection(l);if(null===i||null===a)return!1;var c=s.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(s.createTextNode("#")),i.append(c);var d=new Range();return d.setStart(c,0),d.setEnd(c,1),a.removeAllRanges(),a.addRange(d),new Promise(function(t,i){var l=e.registerCommand(require("Lexical").COPY_COMMAND,function(o){return require("LexicalUtils").objectKlassEquals(o,ClipboardEvent)&&(l(),null!==p&&(window.clearTimeout(p),p=null),t(f(e,o,r))),!0;},require("Lexical").COMMAND_PRIORITY_CRITICAL);p=window.setTimeout(function(){l(),p=null,t(!1);},50),s.execCommand("copy"),c.remove();});},exports.setLexicalClipboardDataTransfer=m;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<2ae5549c493dba7f4e00cf4bd5d66223>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalContentEditable.prod",["LexicalComposerContext","LexicalText","LexicalUtils","react"],(function $module_LexicalContentEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react")),a=_require_closure_react;var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function o(_ref,q){var e=_ref.editor,i=_ref.ariaActiveDescendant,r=_ref.ariaAutoComplete,o=_ref.ariaControls,l=_ref.ariaDescribedBy,s=_ref.ariaErrorMessage,d=_ref.ariaExpanded,u=_ref.ariaInvalid,c=_ref.ariaLabel,f=_ref.ariaLabelledBy,b=_ref.ariaMultiline,m=_ref.ariaOwns,x=_ref.ariaRequired,E=_ref.autoCapitalize,p=_ref.className,v=_ref.id,_ref$role=_ref.role,w=_ref$role===void 0?"textbox":_ref$role,_ref$spellCheck=_ref.spellCheck,C=_ref$spellCheck===void 0?!0:_ref$spellCheck,y=_ref.style,L=_ref.tabIndex,g=_ref["data-testid"],h=babelHelpers.objectWithoutPropertiesLoose(_ref,["editor","ariaActiveDescendant","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaErrorMessage","ariaExpanded","ariaInvalid","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwns","ariaRequired","autoCapitalize","className","id","role","spellCheck","style","tabIndex","data-testid"]);var _t$useState=t.useState(e.isEditable()),R=_t$useState[0],j=_t$useState[1],S=t.useCallback(function(t){t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null);},[e]),D=t.useMemo(function(){return function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t);});};}(q,S);},[S,q]);return n(function(){return j(e.isEditable()),e.registerEditableListener(function(e){j(e);});},[e]),a.jsx("div",babelHelpers["extends"]({"aria-activedescendant":R?i:void 0,"aria-autocomplete":R?r:"none","aria-controls":R?o:void 0,"aria-describedby":l},null!=s?{"aria-errormessage":s}:{},{"aria-expanded":R&&"combobox"===w?!!d:void 0},null!=u?{"aria-invalid":u}:{},{"aria-label":c,"aria-labelledby":f,"aria-multiline":b,"aria-owns":R?m:void 0,"aria-readonly":!R||void 0,"aria-required":x,autoCapitalize:E,className:p,contentEditable:R,"data-testid":g,id:v,ref:D,role:R?w:void 0,spellCheck:C,style:y,tabIndex:L},h));}var l=t.forwardRef(o);function s(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}var d=t.forwardRef(u);function u(t,i){var r=t.placeholder,n=babelHelpers.objectWithoutPropertiesLoose(t,["placeholder"]),_e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer[0];return a.jsxs(a.Fragment,{children:[a.jsx(l,babelHelpers["extends"]({editor:o},n,{ref:i})),null!=r&&a.jsx(c,{editor:o,content:r})]});}function c(_ref2){var e=_ref2.content,i=_ref2.editor;var o=function(e){var _t$useState3=t.useState(function(){return s(e);}),a=_t$useState3[0],i=_t$useState3[1];return n(function(){function t(){var t=s(e);i(t);}return t(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){t();}),e.registerEditableListener(function(){t();}));},[e]),a;}(i),_t$useState2=t.useState(i.isEditable()),l=_t$useState2[0],d=_t$useState2[1];if(t.useLayoutEffect(function(){return d(i.isEditable()),i.registerEditableListener(function(e){d(e);});},[i]),!o)return null;var u=null;return"function"==typeof e?u=e(l):null!==e&&(u=e),null===u?null:a.jsx("div",{"aria-hidden":!0,children:u});}exports.ContentEditable=d;}),null);
__d("LexicalDragon",["cr:2903"],(function(a,b,c,d,e,f){e.exports=b("cr:2903")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<60e3b97f2fc9020a9a039979d05e2681>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalDragon.prod",["Lexical"],(function $module_LexicalDragon_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";exports.registerDragonSupport=function(t){var n=window.location.origin,o=function o(_o){if(_o.origin!==n)return;var i=t.getRootElement();if(document.activeElement!==i)return;var s=_o.data;if("string"==typeof s){var _n;try{_n=JSON.parse(s);}catch(e){return;}if(_n&&"nuanria_messaging"===_n.protocol&&"request"===_n.type){var _i=_n.payload;if(_i&&"makeChanges"===_i.functionId){var _n2=_i.args;if(_n2){var _i2=_n2[0],_s=_n2[1],r=_n2[2],a=_n2[3],c=_n2[4],g=_n2[5];t.update(function(){var t=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(t)){var _n3=t.anchor;var _g=_n3.getNode(),d=0,u=0;if(require("Lexical").$isTextNode(_g)&&_i2>=0&&_s>=0&&(d=_i2,u=_i2+_s,t.setTextNodeRange(_g,d,_g,u)),d===u&&""===r||(t.insertRawText(r),_g=_n3.getNode()),require("Lexical").$isTextNode(_g)){d=a,u=a+c;var _e=_g.getTextContentSize();d=d>_e?_e:d,u=u>_e?_e:u,t.setTextNodeRange(_g,d,_g,u);}_o.stopImmediatePropagation();}});}}}}};return window.addEventListener("message",o,!0),function(){window.removeEventListener("message",o,!0);};};}),null);
__d("LexicalErrorBoundary",["cr:2260"],(function(a,b,c,d,e,f){e.exports=b("cr:2260")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<b2f48e2032aa0eb243a6f844b4c56d3f>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalErrorBoundary.prod",["react"],(function $module_LexicalErrorBoundary_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react")),e=_require_closure_react;function t(r){var e=Object.create(null);if(r)for(var t in r){e[t]=r[t];}return e["default"]=r,e;}var n=t(r);function o(r,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r;},o(r,e);}var a={error:null},i=function(r){var e,t;function i(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o];}return(e=r.call.apply(r,[this].concat(n))||this).state=a,e.resetErrorBoundary=function(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++){n[o]=arguments[o];}null==e.props.onReset||(r=e.props).onReset.apply(r,n),e.reset();},e;}t=r,(e=i).prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t),i.getDerivedStateFromError=function(r){return{error:r};};var l=i.prototype;return l.reset=function(){this.setState(a);},l.componentDidCatch=function(r,e){var t,n;null==(t=(n=this.props).onError)||t.call(n,r,e);},l.componentDidUpdate=function(r,e){var t,n,o,a,i=this.state.error,l=this.props.resetKeys;null!==i&&null!==e.error&&(void 0===(o=r.resetKeys)&&(o=[]),void 0===(a=l)&&(a=[]),o.length!==a.length||o.some(function(r,e){return!Object.is(r,a[e]);}))&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,r.resetKeys,l),this.reset());},l.render=function(){var r=this.state.error,e=this.props,t=e.fallbackRender,o=e.FallbackComponent,a=e.fallback;if(null!==r){var i={error:r,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(a))return a;if("function"==typeof t)return t(i);if(o)return n.createElement(o,i);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");}return this.props.children;},i;}(n.Component);exports.LexicalErrorBoundary=function(_ref){var r=_ref.children,t=_ref.onError;return e.jsx(i,{fallback:e.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:r});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<c0b0c1ef6bc1e0ee5dc26b14935cb9c7>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHashtag.prod",["Lexical","LexicalUtils"],(function $module_LexicalHashtag_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var r=function(_t$TextNode){babelHelpers.inheritsLoose(r,_t$TextNode);function r(){return _t$TextNode.apply(this,arguments)||this;}r.getType=function getType(){return"hashtag";};r.clone=function clone(e){return new r(e.__text,e.__key);};var _proto=r.prototype;_proto.createDOM=function createDOM(t){var r=_t$TextNode.prototype.createDOM.call(this,t);return require("LexicalUtils").addClassNamesToElement(r,t.theme.hashtag),r;};r.importJSON=function importJSON(e){return a().updateFromJSON(e);};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.isTextEntity=function isTextEntity(){return!0;};return r;}(require("Lexical").TextNode);function a(e){if(e===void 0){e="";}return require("Lexical").$applyNodeReplacement(new r(e));}exports.$createHashtagNode=a,exports.$isHashtagNode=function(e){return e instanceof r;},exports.HashtagNode=r;}),null);
__d("LexicalHistory",["cr:2904"],(function(a,b,c,d,e,f){e.exports=b("cr:2904")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<fb95e3fe1d6b4442f33ad7ac3b975fea>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistory.prod",["Lexical","LexicalUtils"],(function $module_LexicalHistory_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(t,n,r,o,i){if(null===t||0===r.size&&0===o.size&&!i)return 0;var s=n._selection,c=t._selection;if(i)return 1;if(!(require("Lexical").$isRangeSelection(s)&&require("Lexical").$isRangeSelection(c)&&c.isCollapsed()&&s.isCollapsed()))return 0;var a=function(t,n,r){var o=t._nodeMap,i=[];for(var _iterator=n,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var _t=_ref;var _e=o.get(_t);void 0!==_e&&i.push(_e);}for(var _iterator2=r,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref3;if(_isArray2){if(_i2>=_iterator2.length)break;_ref3=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref3=_i2.value;}var _ref4=_ref3;var _t2=_ref4[0];var _n=_ref4[1];if(!_n)continue;var _r=o.get(_t2);void 0===_r||require("Lexical").$isRootNode(_r)||i.push(_r);}return i;}(n,r,o);if(0===a.length)return 0;if(a.length>1){var _r2=n._nodeMap,_o=_r2.get(s.anchor.key),_i3=_r2.get(c.anchor.key);return _o&&_i3&&!t._nodeMap.has(_o.__key)&&require("Lexical").$isTextNode(_o)&&1===_o.__text.length&&1===s.anchor.offset?2:0;}var u=a[0],d=t._nodeMap.get(u.__key);if(!require("Lexical").$isTextNode(d)||!require("Lexical").$isTextNode(u)||d.__mode!==u.__mode)return 0;var l=d.__text,_=u.__text;if(l===_)return 0;var f=s.anchor,p=c.anchor;if(f.key!==p.key||"text"!==f.type)return 0;var C=f.offset,h=p.offset,O=_.length-l.length;return 1===O&&h===C-1?2:-1===O&&h===C+1?3:-1===O&&h===C?4:0;}function r(t,r){var o=Date.now(),i=0;return function(s,c,a,u,d,l){var _=Date.now();if(l.has("historic"))return i=0,o=_,2;var f=n(s,c,u,d,t.isComposing()),p=function(){var n=null===a||a.editor===t,p=l.has("history-push");if(!p&&n&&l.has("history-merge"))return 0;if(null===s)return 1;var C=c._selection;if(!(u.size>0||d.size>0))return null!==C?0:2;if(!1===p&&0!==f&&f===i&&_<o+r&&n)return 0;if(1===u.size){if(function(t,n,r){var o=n._nodeMap.get(t),i=r._nodeMap.get(t),s=n._selection,c=r._selection;return!(require("Lexical").$isRangeSelection(s)&&require("Lexical").$isRangeSelection(c)&&"element"===s.anchor.type&&"element"===s.focus.type&&"text"===c.anchor.type&&"text"===c.focus.type||!require("Lexical").$isTextNode(o)||!require("Lexical").$isTextNode(i)||o.__parent!==i.__parent)&&JSON.stringify(n.read(function(){return o.exportJSON();}))===JSON.stringify(r.read(function(){return i.exportJSON();}));}(Array.from(u)[0],s,c))return 0;}return 1;}();return o=_,i=f,p;};}function o(t){t.undoStack=[],t.redoStack=[],t.current=null;}exports.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]};},exports.registerHistory=function(n,i,s){var _require_Lexical;var c=r(n,s);return require("LexicalUtils").mergeRegister(n.registerCommand((_require_Lexical=require("Lexical")).UNDO_COMMAND,function(){return function(t,n){var r=n.redoStack,o=n.undoStack;if(0!==o.length){var _i4=n.current,_s=o.pop();null!==_i4&&(r.push(_i4),t.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!0)),0===o.length&&t.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1),n.current=_s||null,_s&&_s.editor.setEditorState(_s.editorState,{tag:"historic"});}}(n,i),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerCommand(_require_Lexical.REDO_COMMAND,function(){return function(t,n){var r=n.redoStack,o=n.undoStack;if(0!==r.length){var _i5=n.current;null!==_i5&&(o.push(_i5),t.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));var _s2=r.pop();0===r.length&&t.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1),n.current=_s2||null,_s2&&_s2.editor.setEditorState(_s2.editorState,{tag:"historic"});}}(n,i),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerCommand(_require_Lexical.CLEAR_EDITOR_COMMAND,function(){return o(i),!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerCommand(_require_Lexical.CLEAR_HISTORY_COMMAND,function(){return o(i),n.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1),n.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerUpdateListener(function(_ref5){var t=_ref5.editorState,r=_ref5.prevEditorState,o=_ref5.dirtyLeaves,s=_ref5.dirtyElements,a=_ref5.tags;var u=i.current,d=i.redoStack,l=i.undoStack,_=null===u?null:u.editorState;if(null!==u&&t===_)return;var f=c(r,t,u,o,s,a);if(1===f)0!==d.length&&(i.redoStack=[],n.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1)),null!==u&&(l.push(babelHelpers["extends"]({},u)),n.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));else if(2===f)return;i.current={editor:n,editorState:t};}));};}),null);
__d("LexicalHistoryPlugin",["cr:293"],(function(a,b,c,d,e,f){e.exports=b("cr:293")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<19e769cca68da303f1374637e6c662ca>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistoryPlugin.prod",["LexicalComposerContext","LexicalHistory","react"],(function $module_LexicalHistoryPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react"));exports.createEmptyHistoryState=require("LexicalHistory").createEmptyHistoryState,exports.HistoryPlugin=function(_ref){var o=_ref.delay,s=_ref.externalHistoryState;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),i=_e$useLexicalComposer[0];return function(e,o,s){if(s===void 0){s=1e3;}var i=r.useMemo(function(){return o||require("LexicalHistory").createEmptyHistoryState();},[o]);r.useEffect(function(){return require("LexicalHistory").registerHistory(e,i,s);},[s,e,i]);}(i,s,o),null;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d6964f621fb939956fc352fe520af3e4>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHtml.prod",["Lexical","LexicalSelection","LexicalUtils"],(function $module_LexicalHtml_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function o(l,i,r,s){if(s===void 0){s=null;}var c=null===s||i.isSelected(s);var d=require("Lexical").$isElementNode(i)&&i.excludeFromCopy("html");var u=i;if(null!==s){var _n=require("Lexical").$cloneWithProperties(i);_n=require("Lexical").$isTextNode(_n)&&null!==s?require("LexicalSelection").$sliceSelectedTextNodeContent(s,_n):_n,u=_n;}var a=require("Lexical").$isElementNode(u)?u.getChildren():[],f=l._nodes.get(u.getType());var m;m=f&&void 0!==f.exportDOM?f.exportDOM(l,u):u.exportDOM(l);var _m=m,h=_m.element,p=_m.after;if(!h)return!1;var g=document.createDocumentFragment();for(var _e=0;_e<a.length;_e++){var _n2=a[_e],_r=o(l,_n2,g,s);!c&&require("Lexical").$isElementNode(i)&&_r&&i.extractWithChild(_n2,s,"html")&&(c=!0);}if(c&&!d){if((require("LexicalUtils").isHTMLElement(h)||require("Lexical").isDocumentFragment(h))&&h.append(g),r.append(h),p){var _e2=p.call(u,h);_e2&&(require("Lexical").isDocumentFragment(h)?h.replaceChildren(_e2):h.replaceWith(_e2));}}else r.append(g);return c;}var l=new Set(["STYLE","SCRIPT"]);function i(e,o,s,c,d,u){var _f;if(d===void 0){d=new Map();}var a=[];if(l.has(e.nodeName))return a;var f=null;var m=function(e,n){var t=e.nodeName,o=n._htmlConversions.get(t.toLowerCase());var l=null;if(void 0!==o){for(var _iterator=o,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var _n3=_ref;var _t=_n3(e);null!==_t&&(null===l||(l.priority||0)<=(_t.priority||0))&&(l=_t);}}return null!==l?l.conversion:null;}(e,o),h=m?m(e):null;var p=null;if(null!==h){p=h.after;var _n4=h.node;if(f=Array.isArray(_n4)?_n4[_n4.length-1]:_n4,null!==f){var _a;for(var _iterator2=d,_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref3;if(_isArray2){if(_i2>=_iterator2.length)break;_ref3=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref3=_i2.value;}var _ref4=_ref3;var _e3=_ref4[1];if(f=_e3(f,u),!f)break;}f&&(_a=a).push.apply(_a,Array.isArray(_n4)?_n4:[f]);}null!=h.forChild&&d.set(e.nodeName,h.forChild);}var g=e.childNodes;var N=[];var $=(null==f||!require("Lexical").$isRootOrShadowRoot(f))&&(null!=f&&require("Lexical").$isBlockElementNode(f)||c);for(var _e4=0;_e4<g.length;_e4++){var _N;(_N=N).push.apply(_N,i(g[_e4],o,s,$,new Map(d),f));}return null!=p&&(N=p(N)),require("LexicalUtils").isBlockDomNode(e)&&(N=r(e,N,$?function(){var e=new(require("Lexical").ArtificialNode__DO_NOT_USE)();return s.push(e),e;}:require("Lexical").$createParagraphNode)),null==f?N.length>0?a=a.concat(N):require("LexicalUtils").isBlockDomNode(e)&&function(e){if(null==e.nextSibling||null==e.previousSibling)return!1;return require("Lexical").isInlineDomNode(e.nextSibling)&&require("Lexical").isInlineDomNode(e.previousSibling);}(e)&&(a=a.concat(require("Lexical").$createLineBreakNode())):require("Lexical").$isElementNode(f)&&(_f=f).append.apply(_f,N),a;}function r(e,n,o){var l=e.style.textAlign,i=[];var r=[];for(var _e5=0;_e5<n.length;_e5++){var s=n[_e5];if(require("Lexical").$isBlockElementNode(s))l&&!s.getFormat()&&s.setFormat(l),i.push(s);else if(r.push(s),_e5===n.length-1||_e5<n.length-1&&require("Lexical").$isBlockElementNode(n[_e5+1])){var _e6=o();_e6.setFormat(l),_e6.append.apply(_e6,r),i.push(_e6),r=[];}}return i;}exports.$generateHtmlFromNodes=function(e,n){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");var l=document.createElement("div"),i=require("Lexical").$getRoot().getChildren();for(var _t2=0;_t2<i.length;_t2++){o(e,i[_t2],l,n);}return l.innerHTML;},exports.$generateNodesFromDOM=function(e,n){var o=n.body?n.body.childNodes:[];var r=[];var s=[];for(var _n5=0;_n5<o.length;_n5++){var _t3=o[_n5];if(!l.has(_t3.nodeName)){var _n6=i(_t3,e,s,!1);null!==_n6&&(r=r.concat(_n6));}}return function(e){for(var _iterator3=e,_isArray3=Array.isArray(_iterator3),_i3=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref5;if(_isArray3){if(_i3>=_iterator3.length)break;_ref5=_iterator3[_i3++];}else{_i3=_iterator3.next();if(_i3.done)break;_ref5=_i3.value;}var _n7=_ref5;_n7.getNextSibling()instanceof require("Lexical").ArtificialNode__DO_NOT_USE&&_n7.insertAfter(require("Lexical").$createLineBreakNode());}for(var _iterator4=e,_isArray4=Array.isArray(_iterator4),_i4=0,_iterator4=_isArray4?_iterator4:_iterator4[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref6;if(_isArray4){if(_i4>=_iterator4.length)break;_ref6=_iterator4[_i4++];}else{_i4=_iterator4.next();if(_i4.done)break;_ref6=_i4.value;}var _n8=_ref6;var _e7=_n8.getChildren();for(var _iterator5=_e7,_isArray5=Array.isArray(_iterator5),_i5=0,_iterator5=_isArray5?_iterator5:_iterator5[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref7;if(_isArray5){if(_i5>=_iterator5.length)break;_ref7=_iterator5[_i5++];}else{_i5=_iterator5.next();if(_i5.done)break;_ref7=_i5.value;}var _t4=_ref7;_n8.insertBefore(_t4);}_n8.remove();}}(s),r;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<1597d00bddb05520620f6a3b6fc9d13e>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalLink.prod",["Lexical","LexicalUtils"],(function $module_LexicalLink_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t;}var n=r(function(t){var e=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _t=1;_t<arguments.length;_t++){r.append("v",arguments[_t]);}throw e.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+e.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");});var i=new Set(["http:","https:","mailto:","sms:","tel:"]);var l=function(_e$ElementNode){babelHelpers.inheritsLoose(l,_e$ElementNode);l.getType=function getType(){return"link";};l.clone=function clone(t){return new l(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key);};function l(t,e,r){var _this;if(t===void 0){t="";}if(e===void 0){e={};}_this=_e$ElementNode.call(this,r)||this;var _e=e,_e$target=_e.target,n=_e$target===void 0?null:_e$target,_e$rel=_e.rel,i=_e$rel===void 0?null:_e$rel,_e$title=_e.title,_l=_e$title===void 0?null:_e$title;_this.__url=t,_this.__target=n,_this.__rel=i,_this.__title=_l;return _this;}var _proto=l.prototype;_proto.createDOM=function createDOM(e){var r=document.createElement("a");return r.href=this.sanitizeUrl(this.__url),null!==this.__target&&(r.target=this.__target),null!==this.__rel&&(r.rel=this.__rel),null!==this.__title&&(r.title=this.__title),require("LexicalUtils").addClassNamesToElement(r,e.theme.link),r;};_proto.updateDOM=function updateDOM(e,r,n){if(require("LexicalUtils").isHTMLAnchorElement(r)){var _t2=this.__url,_n=this.__target,_i=this.__rel,_l3=this.__title;_t2!==e.__url&&(r.href=_t2),_n!==e.__target&&(_n?r.target=_n:r.removeAttribute("target")),_i!==e.__rel&&(_i?r.rel=_i:r.removeAttribute("rel")),_l3!==e.__title&&(_l3?r.title=_l3:r.removeAttribute("title"));}return!1;};l.importDOM=function importDOM(){return{a:function a(t){return{conversion:s,priority:1};}};};l.importJSON=function importJSON(t){return o().updateFromJSON(t);};_proto.updateFromJSON=function updateFromJSON(t){return _e$ElementNode.prototype.updateFromJSON.call(this,t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null);};_proto.sanitizeUrl=function sanitizeUrl(t){try{var _e2=new URL(t);if(!i.has(_e2.protocol))return"about:blank";}catch(e){return t;}return t;};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_e$ElementNode.prototype.exportJSON.call(this),{rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()});};_proto.getURL=function getURL(){return this.getLatest().__url;};_proto.setURL=function setURL(t){var e=this.getWritable();return e.__url=t,e;};_proto.getTarget=function getTarget(){return this.getLatest().__target;};_proto.setTarget=function setTarget(t){var e=this.getWritable();return e.__target=t,e;};_proto.getRel=function getRel(){return this.getLatest().__rel;};_proto.setRel=function setRel(t){var e=this.getWritable();return e.__rel=t,e;};_proto.getTitle=function getTitle(){return this.getLatest().__title;};_proto.setTitle=function setTitle(t){var e=this.getWritable();return e.__title=t,e;};_proto.insertNewAfter=function insertNewAfter(t,e){if(e===void 0){e=!0;}var r=o(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,e),r;};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.canInsertTextAfter=function canInsertTextAfter(){return!1;};_proto.canBeEmpty=function canBeEmpty(){return!1;};_proto.isInline=function isInline(){return!0;};_proto.extractWithChild=function extractWithChild(t,r,n){if(!require("Lexical").$isRangeSelection(r))return!1;var i=r.anchor.getNode(),l=r.focus.getNode();return this.isParentOf(i)&&this.isParentOf(l)&&r.getTextContent().length>0;};_proto.isEmailURI=function isEmailURI(){return this.__url.startsWith("mailto:");};_proto.isWebSiteURI=function isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://");};return l;}(require("Lexical").ElementNode);function s(e){var r=null;if(require("LexicalUtils").isHTMLAnchorElement(e)){var _t3=e.textContent;(null!==_t3&&""!==_t3||e.children.length>0)&&(r=o(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}));}return{node:r};}function o(t,r){if(t===void 0){t="";}return require("Lexical").$applyNodeReplacement(new l(t,r));}function u(t){return t instanceof l;}var a=function(_l2){babelHelpers.inheritsLoose(a,_l2);function a(t,e,r){var _this2;if(t===void 0){t="";}if(e===void 0){e={};}_this2=_l2.call(this,t,e,r)||this,_this2.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked;return _this2;}a.getType=function getType(){return"autolink";};a.clone=function clone(t){return new a(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key);};var _proto2=a.prototype;_proto2.getIsUnlinked=function getIsUnlinked(){return this.__isUnlinked;};_proto2.setIsUnlinked=function setIsUnlinked(t){var e=this.getWritable();return e.__isUnlinked=t,e;};_proto2.createDOM=function createDOM(t){return this.__isUnlinked?document.createElement("span"):_l2.prototype.createDOM.call(this,t);};_proto2.updateDOM=function updateDOM(t,e,r){return _l2.prototype.updateDOM.call(this,t,e,r)||t.__isUnlinked!==this.__isUnlinked;};a.importJSON=function importJSON(t){return c().updateFromJSON(t);};_proto2.updateFromJSON=function updateFromJSON(t){return _l2.prototype.updateFromJSON.call(this,t).setIsUnlinked(t.isUnlinked||!1);};a.importDOM=function importDOM(){return null;};_proto2.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_l2.prototype.exportJSON.call(this),{isUnlinked:this.__isUnlinked});};_proto2.insertNewAfter=function insertNewAfter(t,r){if(r===void 0){r=!0;}var n=this.getParentOrThrow().insertNewAfter(t,r);if(require("Lexical").$isElementNode(n)){var _t4=c(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return n.append(_t4),_t4;}return null;};return a;}(l);function c(t,r){if(t===void 0){t="";}return require("Lexical").$applyNodeReplacement(new a(t,r));}function _(t){return t instanceof a;}var g=require("Lexical").createCommand("TOGGLE_LINK_COMMAND");function h(t,r){if("element"===t.type){var _i2=t.getNode();require("Lexical").$isElementNode(_i2)||n(252);return _i2.getChildren()[t.offset+r]||null;}return null;}function d(r,n){if(n===void 0){n={};}var _n2=n,i=_n2.target,l=_n2.title,s=void 0===n.rel?"noreferrer":n.rel,a=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(a))return;var c=a.extract();if(null===r)return void c.forEach(function(e){var r=require("LexicalUtils").$findMatchingParent(e,function(t){return!_(t)&&u(t);});if(r){var _t5=r.getChildren();for(var _e3=0;_e3<_t5.length;_e3++){r.insertBefore(_t5[_e3]);}r.remove();}});var g=new Set(),d=function d(t){g.has(t.getKey())||(g.add(t.getKey()),t.setURL(r),void 0!==i&&t.setTarget(i),void 0!==s&&t.setRel(s),void 0!==l&&t.setTitle(l));};if(1===c.length){var _t6=p(c[0],u);if(null!==_t6)return d(_t6);}!function(t){var r=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(r))return t();var n=require("Lexical").$normalizeSelection__EXPERIMENTAL(r),i=n.isBackward(),l=h(n.anchor,i?-1:0),s=h(n.focus,i?0:-1),o=t();if(l||s){var _t7=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_t7)){var _r=_t7.clone();if(l){var _t8=l.getParent();_t8&&_r.anchor.set(_t8.getKey(),l.getIndexWithinParent()+(i?1:0),"element");}if(s){var _t9=s.getParent();_t9&&_r.focus.set(_t9.getKey(),s.getIndexWithinParent()+(i?0:1),"element");}require("Lexical").$setSelection(require("Lexical").$normalizeSelection__EXPERIMENTAL(_r));}}}(function(){var t=null;for(var _iterator=c,_isArray=Array.isArray(_iterator),_i3=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i3>=_iterator.length)break;_ref=_iterator[_i3++];}else{_i3=_iterator.next();if(_i3.done)break;_ref=_i3.value;}var _n3=_ref;if(!_n3.isAttached())continue;var _a=p(_n3,u);if(_a){d(_a);continue;}if(require("Lexical").$isElementNode(_n3)){if(!_n3.isInline())continue;if(u(_n3)){if(!(_(_n3)||null!==t&&t.getParentOrThrow().isParentOf(_n3))){d(_n3),t=_n3;continue;}for(var _iterator2=_n3.getChildren(),_isArray2=Array.isArray(_iterator2),_i4=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray2){if(_i4>=_iterator2.length)break;_ref2=_iterator2[_i4++];}else{_i4=_iterator2.next();if(_i4.done)break;_ref2=_i4.value;}var _t10=_ref2;_n3.insertBefore(_t10);}_n3.remove();continue;}}var _c=_n3.getPreviousSibling();u(_c)&&_c.is(t)?_c.append(_n3):(t=o(r,{rel:s,target:i,title:l}),_n3.insertAfter(t),t.append(_n3));}});}var f=d;function p(t,e){var r=t;for(;null!==r&&null!==r.getParent()&&!e(r);){r=r.getParentOrThrow();}return e(r)?r:null;}exports.$createAutoLinkNode=c,exports.$createLinkNode=o,exports.$isAutoLinkNode=_,exports.$isLinkNode=u,exports.$toggleLink=d,exports.AutoLinkNode=a,exports.LinkNode=l,exports.TOGGLE_LINK_COMMAND=g,exports.toggleLink=f;}),null);
__d("LexicalOverflow",["cr:2908"],(function(a,b,c,d,e,f){e.exports=b("cr:2908")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<422acb7000b75e6a1fb91e9f974beabc>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalOverflow.prod",["Lexical"],(function $module_LexicalOverflow_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e;}var t=r(function(e){var r=new URL("https://lexical.dev/docs/error"),t=new URLSearchParams();t.append("code",e);for(var _e=1;_e<arguments.length;_e++){t.append("v",arguments[_e]);}throw r.search=t.toString(),Error("Minified Lexical error #"+e+"; visit "+r.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");});var n=function(_e$ElementNode){babelHelpers.inheritsLoose(n,_e$ElementNode);function n(){return _e$ElementNode.apply(this,arguments)||this;}n.getType=function getType(){return"overflow";};n.clone=function clone(e){return new n(e.__key);};n.importJSON=function importJSON(e){return o().updateFromJSON(e);};n.importDOM=function importDOM(){return null;};var _proto=n.prototype;_proto.createDOM=function createDOM(e){var r=document.createElement("span"),t=e.theme.characterLimit;return"string"==typeof t&&(r.className=t),r;};_proto.updateDOM=function updateDOM(e,r){return!1;};_proto.insertNewAfter=function insertNewAfter(e,r){if(r===void 0){r=!0;}return this.getParentOrThrow().insertNewAfter(e,r);};_proto.excludeFromCopy=function excludeFromCopy(){return!0;};n.transform=function transform(){return function(e){a(e)||t(204),e.isEmpty()&&e.remove();};};return n;}(require("Lexical").ElementNode);function o(){return require("Lexical").$applyNodeReplacement(new n());}function a(e){return e instanceof n;}exports.$createOverflowNode=o,exports.$isOverflowNode=a,exports.OverflowNode=n;}),null);
__d("LexicalPlainText",["cr:2909"],(function(a,b,c,d,e,f){e.exports=b("cr:2909")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<6acc8cc46db87995aa226adb8624dd75>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainText.prod",["Lexical","LexicalClipboard","LexicalSelection","LexicalUtils"],(function $module_LexicalPlainText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,o=i&&"documentMode"in document?document.documentMode:null,a=!(!i||!("InputEvent"in window)||o)&&"getTargetRanges"in new window.InputEvent("input"),s=i&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),R=i&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,l=i&&/^(?=.*Chrome).*/i.test(navigator.userAgent),c=i&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!l;function O(t,i){i.update(function(){if(null!==t){var _o=require("LexicalUtils").objectKlassEquals(t,KeyboardEvent)?null:t.clipboardData,_a=require("Lexical").$getSelection();if(null!==_a&&null!=_o){t.preventDefault();var _n=require("LexicalClipboard").$getHtmlContent(i);null!==_n&&_o.setData("text/html",_n),_o.setData("text/plain",_a.getTextContent());}}});}exports.registerPlainText=function(i){var _require_Lexical;return require("LexicalUtils").mergeRegister(i.registerCommand((_require_Lexical=require("Lexical")).DELETE_CHARACTER_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteCharacter(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.DELETE_WORD_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteWord(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.DELETE_LINE_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteLine(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.CONTROLLED_TEXT_INSERTION_COMMAND,function(t){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return!1;if("string"==typeof t)n.insertText(t);else{var _r=t.dataTransfer;if(null!=_r)require("LexicalClipboard").$insertDataTransferForPlainText(_r,n);else{var _e=t.data;_e&&n.insertText(_e);}}return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.REMOVE_TEXT_COMMAND,function(){var e=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(e)&&(e.removeText(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.INSERT_LINE_BREAK_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.insertLineBreak(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.INSERT_PARAGRAPH_COMMAND,function(){var e=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(e)&&(e.insertLineBreak(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.KEY_ARROW_LEFT_COMMAND,function(e){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return!1;var i=e,o=i.shiftKey;return!!require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(n,!0)&&(i.preventDefault(),require("LexicalSelection").$moveCharacter(n,o,!0),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.KEY_ARROW_RIGHT_COMMAND,function(e){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return!1;var i=e,o=i.shiftKey;return!!require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(n,!1)&&(i.preventDefault(),require("LexicalSelection").$moveCharacter(n,o,!1),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.KEY_BACKSPACE_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(!R||"ko-KR"!==navigator.language)&&(e.preventDefault(),i.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!0));},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.KEY_DELETE_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(e.preventDefault(),i.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!1));},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.KEY_ENTER_COMMAND,function(e){var t=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(t))return!1;if(null!==e){if((R||s||c)&&a)return!1;e.preventDefault();}return i.dispatchCommand(require("Lexical").INSERT_LINE_BREAK_COMMAND,!1);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.SELECT_ALL_COMMAND,function(){return require("Lexical").$selectAll(),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.COPY_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(O(e,i),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.CUT_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(function(e,t){O(e,t),t.update(function(){var e=require("Lexical").$getSelection();require("Lexical").$isRangeSelection(e)&&e.removeText();});}(e,i),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.PASTE_COMMAND,function(t){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(function(t,n){t.preventDefault(),n.update(function(){var n=require("Lexical").$getSelection(),i=t.clipboardData;null!=i&&require("Lexical").$isRangeSelection(n)&&require("LexicalClipboard").$insertDataTransferForPlainText(i,n);},{tag:"paste"});}(t,i),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.DROP_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(e.preventDefault(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),i.registerCommand(_require_Lexical.DRAGSTART_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(e.preventDefault(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR));};}),null);
__d("LexicalPlainTextPlugin",["cr:739"],(function(a,b,c,d,e,f){e.exports=b("cr:739")}),null);
__d("useLexicalEditable",["cr:4793"],(function(a,b,c,d,e,f){e.exports=b("cr:4793")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<89e96e1cc6f39f64ea2a888425646cee>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainTextPlugin.prod",["LexicalComposerContext","LexicalDragon","LexicalPlainText","LexicalText","LexicalUtils","ReactDOM","react","useLexicalEditable"],(function $module_LexicalPlainTextPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var o=_require_closure_react||(_require_closure_react=require("react")),c=_require_closure_react;var a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function l(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}function d(_ref){var r=_ref.content;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),i=_e$useLexicalComposer[0],c=function(e){var _o$useState=o.useState(function(){return l(e);}),t=_o$useState[0],r=_o$useState[1];return a(function(){function t(){var t=l(e);r(t);}return t(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){t();}),e.registerEditableListener(function(){t();}));},[e]),t;}(i),u=require("useLexicalEditable").useLexicalEditable();return c?"function"==typeof r?r(u):r:null;}exports.PlainTextPlugin=function(_ref2){var t=_ref2.contentEditable,_ref2$placeholder=_ref2.placeholder,r=_ref2$placeholder===void 0?null:_ref2$placeholder,l=_ref2.ErrorBoundary;var _e$useLexicalComposer2=require("LexicalComposerContext").useLexicalComposerContext(),x=_e$useLexicalComposer2[0],f=function(e,t){var _o$useState2=o.useState(function(){return e.getDecorators();}),r=_o$useState2[0],n=_o$useState2[1];return a(function(){return e.registerDecoratorListener(function(e){require("ReactDOM").flushSync(function(){n(e);});});},[e]),o.useEffect(function(){n(e.getDecorators());},[e]),o.useMemo(function(){var n=[],u=Object.keys(r);for(var _s=0;_s<u.length;_s++){var _a=u[_s],_l=c.jsx(t,{onError:function onError(t){return e._onError(t);},children:c.jsx(o.Suspense,{fallback:null,children:r[_a]})}),_d=e.getElementByKey(_a);null!==_d&&n.push(require("ReactDOM").createPortal(_l,_d,_a));}return n;},[t,r,e]);}(x,l);return function(e){a(function(){return require("LexicalUtils").mergeRegister(require("LexicalPlainText").registerPlainText(e),require("LexicalDragon").registerDragonSupport(e));},[e]);}(x),c.jsxs(c.Fragment,{children:[t,c.jsx(d,{content:r}),f]});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<2858a55232ef6e8516beca911ba94761>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalSelection.prod",["Lexical"],(function $module_LexicalSelection_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e;}var n=t(function(e){var t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams();n.append("code",e);for(var _e=1;_e<arguments.length;_e++){n.append("v",arguments[_e]);}throw t.search=n.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");});var o=new Map();function s(e){var t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild;}return null;}function l(e){var t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)];}function r(e){var t={};if(!e)return t;var n=e.split(";");for(var _iterator=n,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var _e2=_ref;if(""!==_e2){var _e2$split=_e2.split(/:([^]+)/),_n=_e2$split[0],_o=_e2$split[1];_n&&_o&&(t[_n.trim()]=_o.trim());}}return t;}function i(e){var t=o.get(e);return void 0===t&&(t=r(e),o.set(e,t)),t;}function c(e){var t="";for(var _n2 in e){_n2&&(t+=_n2+": "+e[_n2]+";");}return t;}function a(t,n,o){var s=n.getNode(),l=o;if(require("Lexical").$isElementNode(s)){var _e3=s.getDescendantByIndex(n.offset);null!==_e3&&(s=_e3);}for(;l>0&&null!==s;){if(require("Lexical").$isElementNode(s)){var _e4=s.getLastDescendant();null!==_e4&&(s=_e4);}var _o2=s.getPreviousSibling(),_r=0;if(null===_o2){var _e5=s.getParentOrThrow(),_t=_e5.getPreviousSibling();for(;null===_t;){if(_e5=_e5.getParent(),null===_e5){_o2=null;break;}_t=_e5.getPreviousSibling();}null!==_e5&&(_r=_e5.isInline()?0:2,_o2=_t);}var _i2=s.getTextContent();""===_i2&&require("Lexical").$isElementNode(s)&&!s.isInline()&&(_i2="\n\n");var _c=_i2.length;if(!require("Lexical").$isTextNode(s)||l>=_c){var _t2=s.getParent();s.remove(),null==_t2||0!==_t2.getChildrenSize()||require("Lexical").$isRootNode(_t2)||_t2.remove(),l-=_c+_r,s=_o2;}else{(function(){var o=s.getKey(),r=t.getEditorState().read(function(){var t=require("Lexical").$getNodeByKey(o);return require("Lexical").$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null;}),a=_c-l,f=_i2.slice(0,a);if(null!==r&&r!==_i2){var _t3=require("Lexical").$getPreviousSelection();var _n3=s;if(s.isSimpleText())s.setTextContent(r);else{var _t4=require("Lexical").$createTextNode(r);s.replace(_t4),_n3=_t4;}if(require("Lexical").$isRangeSelection(_t3)&&_t3.isCollapsed()){var _e6=_t3.anchor.offset;_n3.select(_e6,_e6);}}else if(s.isSimpleText()){var _e7=n.key===o;var _t5=n.offset;_t5<l&&(_t5=_c);var _r2=_e7?_t5-l:0,_i3=_e7?_t5:a;if(_e7&&0===_r2){var _s$splitText=s.splitText(_r2,_i3),_e8=_s$splitText[0];_e8.remove();}else{var _s$splitText2=s.splitText(_r2,_i3),_e9=_s$splitText2[1];_e9.remove();}}else{var _t6=require("Lexical").$createTextNode(f);s.replace(_t6);}l=0;})();}}}function f(t,n){if(!(require("Lexical").$isRangeSelection(t)?t.isCollapsed():require("Lexical").$isTextNode(t)||require("Lexical").$isElementNode(t)))throw Error("$patchStyle must only be called with a TextNode, ElementNode, or collapsed RangeSelection");var s=i(require("Lexical").$isRangeSelection(t)?t.style:require("Lexical").$isTextNode(t)?t.getStyle():t.getTextStyle()),l=Object.entries(n).reduce(function(e,_ref2){var n=_ref2[0],o=_ref2[1];return"function"==typeof o?e[n]=o(s[n],t):null===o?delete e[n]:e[n]=o,e;},babelHelpers["extends"]({},s)),r=c(l);require("Lexical").$isRangeSelection(t)||require("Lexical").$isTextNode(t)?t.setStyle(r):t.setTextStyle(r),o.set(r,l);}function d(t){var n=require("Lexical").$getSelection();if(!n)return;var o=new Map();if(require("Lexical").$isRangeSelection(n)){for(var _iterator2=require("Lexical").$caretRangeFromSelection(n).getTextSlices(),_isArray2=Array.isArray(_iterator2),_i4=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref3;if(_isArray2){if(_i4>=_iterator2.length)break;_ref3=_iterator2[_i4++];}else{_i4=_iterator2.next();if(_i4.done)break;_ref3=_i4.value;}var _t7=_ref3;_t7&&o.set(_t7.caret.origin.getKey(),_t7.getSliceIndices());}}var s=n.getNodes();for(var _iterator3=s,_isArray3=Array.isArray(_iterator3),_i5=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref4;if(_isArray3){if(_i5>=_iterator3.length)break;_ref4=_iterator3[_i5++];}else{_i5=_iterator3.next();if(_i5.done)break;_ref4=_i5.value;}var _n4=_ref4;if(!require("Lexical").$isTextNode(_n4)||!_n4.canHaveFormat())continue;var _ref5=(l=_n4,o.get(l.getKey())||[0,l.getTextContentSize()]),_s=_ref5[0],_r3=_ref5[1];if(_r3!==_s)if(require("Lexical").$isTokenOrSegmented(_n4)||0===_s&&_r3===_n4.getTextContentSize())t(_n4);else{t(_n4.splitText(_s,_r3)[0===_s?0:1]);}}var l;require("Lexical").$isRangeSelection(n)&&"text"===n.anchor.type&&"text"===n.focus.type&&n.anchor.key===n.focus.key&&g(n);}function g(e){if(e.isBackward()){var _t8=e.anchor,_n5=e.focus,_o3=_t8.key,_s2=_t8.offset,_l=_t8.type;_t8.set(_n5.key,_n5.offset,_n5.type),_n5.set(_o3,_s2,_l);}}function u(e,t){var n=e.getFormatType(),o=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),o!==t.getIndent()&&t.setIndent(o);}function p(e){return e.getNode().isAttached();}function h(t){var n=t;for(;null!==n&&!require("Lexical").$isRootOrShadowRoot(n);){var _e10=n.getLatest(),_t9=n.getParent();0===_e10.getChildrenSize()&&n.remove(!0),n=_t9;}}function $(t,o,s,l,r){if(r===void 0){r=null;}if(0===o.length)return;var i=o[0],c=new Map(),a=[];var f=require("Lexical").$isElementNode(i)?i:i.getParentOrThrow();f.isInline()&&(f=f.getParentOrThrow());var d=!1;for(;null!==f;){var _t10=f.getPreviousSibling();if(null!==_t10){f=_t10,d=!0;break;}if(f=f.getParentOrThrow(),require("Lexical").$isRootOrShadowRoot(f))break;}var g=new Set();for(var _t11=0;_t11<s;_t11++){var _n6=o[_t11];require("Lexical").$isElementNode(_n6)&&0===_n6.getChildrenSize()&&g.add(_n6.getKey());}var u=new Set();for(var _t12=0;_t12<s;_t12++){var _s3=o[_t12];var _r4=_s3.getParent();if(null!==_r4&&_r4.isInline()&&(_r4=_r4.getParent()),null!==_r4&&require("Lexical").$isLeafNode(_s3)&&!u.has(_s3.getKey())){var _t13=_r4.getKey();if(void 0===c.get(_t13)){(function(){var n=l();n.setFormat(_r4.getFormatType()),n.setIndent(_r4.getIndent()),a.push(n),c.set(_t13,n),_r4.getChildren().forEach(function(t){n.append(t),u.add(t.getKey()),require("Lexical").$isElementNode(t)&&t.getChildrenKeys().forEach(function(e){return u.add(e);});}),h(_r4);})();}}else if(g.has(_s3.getKey())){require("Lexical").$isElementNode(_s3)||n(179);var _t14=l();_t14.setFormat(_s3.getFormatType()),_t14.setIndent(_s3.getIndent()),a.push(_t14),_s3.remove(!0);}}if(null!==r)for(var _e11=0;_e11<a.length;_e11++){var _t15=a[_e11];r.append(_t15);}var $=null;if(require("Lexical").$isRootOrShadowRoot(f)){if(d){if(null!==r)f.insertAfter(r);else for(var _e12=a.length-1;_e12>=0;_e12--){var _t16=a[_e12];f.insertAfter(_t16);}}else{var _t17=f.getFirstChild();if(require("Lexical").$isElementNode(_t17)&&(f=_t17),null===_t17){if(r)f.append(r);else for(var _e13=0;_e13<a.length;_e13++){var _t18=a[_e13];f.append(_t18),$=_t18;}}else if(null!==r)_t17.insertBefore(r);else for(var _e14=0;_e14<a.length;_e14++){var _n7=a[_e14];_t17.insertBefore(_n7),$=_n7;}}}else if(r)f.insertAfter(r);else for(var _e15=a.length-1;_e15>=0;_e15--){var _t19=a[_e15];f.insertAfter(_t19),$=_t19;}var y=require("Lexical").$getPreviousSelection();require("Lexical").$isRangeSelection(y)&&p(y.anchor)&&p(y.focus)?require("Lexical").$setSelection(y.clone()):null!==$?$.selectEnd():t.dirty=!0;}function y(e,t,n,o){e.modify(t?"extend":"move",n,o);}function S(t){var n=t.anchor.getNode();return"rtl"===(require("Lexical").$isRootNode(n)?n:n.getParentOrThrow()).getDirection();}function m(e,t,n){var o=i(e.getStyle());return null!==o&&o[t]||n;}function N(e,t){var n=e;for(;null!==n&&null!==n.getParent()&&!t(n);){n=n.getParentOrThrow();}return t(n)?n:null;}var x=a;exports.$cloneWithProperties=require("Lexical").$cloneWithProperties,exports.$selectAll=require("Lexical").$selectAll,exports.$addNodeStyle=function(e){var t=e.getStyle(),n=r(t);o.set(t,n);},exports.$copyBlockFormatIndent=u,exports.$ensureForwardRangeSelection=g,exports.$forEachSelectedTextNode=d,exports.$getSelectionStyleValueForProperty=function(t,n,o){if(o===void 0){o="";}var s=null;var l=t.getNodes(),r=t.anchor,c=t.focus,a=t.isBackward(),f=a?c.offset:r.offset,d=a?c.getNode():r.getNode();if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&""!==t.style){var _e16=i(t.style);if(null!==_e16&&n in _e16)return _e16[n];}for(var _t20=0;_t20<l.length;_t20++){var _r5=l[_t20];if((0===_t20||0!==f||!_r5.is(d))&&require("Lexical").$isTextNode(_r5)){var _e17=m(_r5,n,o);if(null===s)s=_e17;else if(s!==_e17){s="";break;}}}return null===s?o:s;},exports.$isAtNodeEnd=function(t){if("text"===t.type)return t.offset===t.getNode().getTextContentSize();var o=t.getNode();return require("Lexical").$isElementNode(o)||n(177),t.offset===o.getChildrenSize();},exports.$isParentElementRTL=S,exports.$moveCaretSelection=y,exports.$moveCharacter=function(e,t,n){var o=S(e);y(e,t,n?!o:o,"character");},exports.$patchStyleText=function(t,n){if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()){f(t,n);var _o4=t.anchor.getNode();require("Lexical").$isElementNode(_o4)&&_o4.isEmpty()&&f(_o4,n);}d(function(e){f(e,n);});},exports.$setBlocksType=function(t,n,o){if(o===void 0){o=u;}if(null===t)return;var s=t.getStartEndPoints(),l=new Map();var r=null;if(s){var _t21=s[0],_n8=s[1];r=require("Lexical").$createRangeSelection(),r.anchor.set(_t21.key,_t21.offset,_t21.type),r.focus.set(_n8.key,_n8.offset,_n8.type);var _o5=N(_t21.getNode(),require("Lexical").INTERNAL_$isBlock),_i6=N(_n8.getNode(),require("Lexical").INTERNAL_$isBlock);require("Lexical").$isElementNode(_o5)&&l.set(_o5.getKey(),_o5),require("Lexical").$isElementNode(_i6)&&l.set(_i6.getKey(),_i6);}for(var _iterator4=t.getNodes(),_isArray4=Array.isArray(_iterator4),_i7=0,_iterator4=_isArray4?_iterator4:_iterator4[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref6;if(_isArray4){if(_i7>=_iterator4.length)break;_ref6=_iterator4[_i7++];}else{_i7=_iterator4.next();if(_i7.done)break;_ref6=_i7.value;}var _n9=_ref6;require("Lexical").$isElementNode(_n9)&&require("Lexical").INTERNAL_$isBlock(_n9)&&l.set(_n9.getKey(),_n9);}for(var _iterator5=l,_isArray5=Array.isArray(_iterator5),_i8=0,_iterator5=_isArray5?_iterator5:_iterator5[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref8;if(_isArray5){if(_i8>=_iterator5.length)break;_ref8=_iterator5[_i8++];}else{_i8=_iterator5.next();if(_i8.done)break;_ref8=_i8.value;}var _ref9=_ref8;var _e18=_ref9[0];var _t22=_ref9[1];var _s4=n();o(_t22,_s4),_t22.replace(_s4,!0),r&&(_e18===r.anchor.key&&(r.anchor.key=_s4.getKey()),_e18===r.focus.key&&(r.focus.key=_s4.getKey()));}r&&t.is(require("Lexical").$getSelection())&&require("Lexical").$setSelection(r);},exports.$shouldOverrideDefaultCharacterSelection=function(t,n){var o=require("Lexical").$getAdjacentNode(t.focus,n);return require("Lexical").$isDecoratorNode(o)&&!o.isIsolated()||require("Lexical").$isElementNode(o)&&!o.isInline()&&!o.canBeEmpty();},exports.$sliceSelectedTextNodeContent=function(t,n){var o=t.getStartEndPoints();if(n.isSelected(t)&&!n.isSegmented()&&!n.isToken()&&null!==o){var _s5=o[0],_l2=o[1],_r6=t.isBackward(),_i9=_s5.getNode(),_c2=_l2.getNode(),_a=n.is(_i9),_f=n.is(_c2);if(_a||_f){var _e$$getCharacterOffse=require("Lexical").$getCharacterOffsets(t),_o6=_e$$getCharacterOffse[0],_s6=_e$$getCharacterOffse[1],_l3=_i9.is(_c2),_a2=n.is(_r6?_c2:_i9),_f2=n.is(_r6?_i9:_c2);var _d,_g=0;if(_l3)_g=_o6>_s6?_s6:_o6,_d=_o6>_s6?_o6:_s6;else if(_a2){_g=_r6?_s6:_o6,_d=void 0;}else if(_f2){_g=0,_d=_r6?_o6:_s6;}return n.__text=n.__text.slice(_g,_d),n;}}return n;},exports.$trimTextContentFromAnchor=a,exports.$wrapNodes=function(t,n,o){if(o===void 0){o=null;}var s=t.getStartEndPoints(),l=s?s[0]:null,r=t.getNodes(),i=r.length;if(null!==l&&(0===i||1===i&&"element"===l.type&&0===l.getNode().getChildrenSize())){var _e19="text"===l.type?l.getNode().getParentOrThrow():l.getNode(),_t23=_e19.getChildren();var _s7=n();return _s7.setFormat(_e19.getFormatType()),_s7.setIndent(_e19.getIndent()),_t23.forEach(function(e){return _s7.append(e);}),o&&(_s7=o.append(_s7)),void _e19.replace(_s7);}var c=null,a=[];for(var _s8=0;_s8<i;_s8++){var _l4=r[_s8];require("Lexical").$isRootOrShadowRoot(_l4)?($(t,a,a.length,n,o),a=[],c=_l4):null===c||null!==c&&require("Lexical").$hasAncestor(_l4,c)?a.push(_l4):($(t,a,a.length,n,o),a=[_l4]);}$(t,a,a.length,n,o);},exports.createDOMRange=function(t,n,o,r,i){var _l5,_l6;var c=n.getKey(),a=r.getKey(),f=document.createRange();var d=t.getElementByKey(c),g=t.getElementByKey(a),u=o,p=i;if(require("Lexical").$isTextNode(n)&&(d=s(d)),require("Lexical").$isTextNode(r)&&(g=s(g)),void 0===n||void 0===r||null===d||null===g)return null;"BR"===d.nodeName&&(_l5=l(d),d=_l5[0],u=_l5[1],_l5),"BR"===g.nodeName&&(_l6=l(g),g=_l6[0],p=_l6[1],_l6);var h=d.firstChild;d===g&&null!=h&&"BR"===h.nodeName&&0===u&&0===p&&(p=1);try{f.setStart(d,u),f.setEnd(g,p);}catch(e){return null;}return!f.collapsed||u===p&&c===a||(f.setStart(g,p),f.setEnd(d,u)),f;},exports.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];var o=n.getBoundingClientRect(),s=getComputedStyle(n),l=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),r=Array.from(t.getClientRects());var i,c=r.length;r.sort(function(e,t){var n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n;});for(var _e20=0;_e20<c;_e20++){var _t24=r[_e20],_n10=i&&i.top<=_t24.top&&i.top+i.height>_t24.top&&i.left+i.width>_t24.left,_s9=_t24.width+l===o.width;_n10||_s9?(r.splice(_e20--,1),c--):i=_t24;}return r;},exports.getCSSFromStyleObject=c,exports.getStyleObjectFromCSS=i,exports.trimTextContentFromAnchor=x;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<c1dc373b4ab8c4822f449617a89ffa49>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalText.prod",["Lexical"],(function $module_LexicalText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function e(){return require("Lexical").$getRoot().getTextContent();}function n(t,n){if(n===void 0){n=!0;}if(t)return!1;var r=e();return n&&(r=r.trim()),""===r;}function r(e){if(!n(e,!1))return!1;var r=require("Lexical").$getRoot().getChildren(),o=r.length;if(o>1)return!1;for(var _e=0;_e<o;_e++){var _n=r[_e];if(require("Lexical").$isDecoratorNode(_n))return!1;if(require("Lexical").$isElementNode(_n)){if(!require("Lexical").$isParagraphNode(_n))return!1;if(0!==_n.__indent)return!1;var _r=_n.getChildren(),_o=_r.length;for(var _n2=0;_n2<_o;_n2++){var _n3=_r[_e];if(!require("Lexical").$isTextNode(_n3))return!1;}}}return!0;}function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t["default"]:t;}var i=o(function(t){var e=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams();n.append("code",t);for(var _t=1;_t<arguments.length;_t++){n.append("v",arguments[_t]);}throw e.search=n.toString(),Error("Minified Lexical error #"+t+"; visit "+e.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");});exports.$canShowPlaceholder=r,exports.$canShowPlaceholderCurry=function(t){return function(){return r(t);};},exports.$findTextIntersectionFromCharacters=function(e,n){var r=e.getFirstChild(),o=0;t:for(;null!==r;){if(require("Lexical").$isElementNode(r)){var _t2=r.getFirstChild();if(null!==_t2){r=_t2;continue;}}else if(require("Lexical").$isTextNode(r)){var _t3=r.getTextContentSize();if(o+_t3>n)return{node:r,offset:n-o};o+=_t3;}var _e2=r.getNextSibling();if(null!==_e2){r=_e2;continue;}var _i=r.getParent();for(;null!==_i;){var _t4=_i.getNextSibling();if(null!==_t4){r=_t4;continue t;}_i=_i.getParent();}break;}return null;},exports.$isRootTextContentEmpty=n,exports.$isRootTextContentEmptyCurry=function(t,e){return function(){return n(t,e);};},exports.$rootTextContent=e,exports.registerLexicalTextEntity=function(e,n,r,o){var s=function s(t){return t instanceof r;},l=function l(e){var n=require("Lexical").$createTextNode(e.getTextContent());n.setFormat(e.getFormat()),e.replace(n);};return[e.registerNodeTransform(require("Lexical").TextNode,function(e){if(!e.isSimpleText())return;var r,u=e.getPreviousSibling(),c=e.getTextContent(),f=e;if(require("Lexical").$isTextNode(u)){var _t5=u.getTextContent(),_r2=n(_t5+c);if(s(u)){if(null===_r2||0!==function(t){return t.getLatest().__mode;}(u))return void l(u);{var _n4=_r2.end-_t5.length;if(_n4>0){var _r3=_t5+c.slice(0,_n4);if(u.select(),u.setTextContent(_r3),_n4===c.length)e.remove();else{var _t6=c.slice(_n4);e.setTextContent(_t6);}return;}}}else if(null===_r2||_r2.start<_t5.length)return;}var a=0;for(;;){var _f$splitText,_f$splitText2;r=n(c);var _e3=void 0,d=null===r?"":c.slice(r.end);if(c=d,""===d){var _e4=f.getNextSibling();if(require("Lexical").$isTextNode(_e4)){d=f.getTextContent()+_e4.getTextContent();var _t7=n(d);if(null===_t7)return void(s(_e4)?l(_e4):_e4.markDirty());if(0!==_t7.start)return;}}if(null===r)return;if(0===r.start&&require("Lexical").$isTextNode(u)&&u.isTextEntity()){a+=r.end;continue;}0===r.start?(_f$splitText=f.splitText(r.end),_e3=_f$splitText[0],f=_f$splitText[1],_f$splitText):(_f$splitText2=f.splitText(r.start+a,r.end+a),_e3=_f$splitText2[1],f=_f$splitText2[2],_f$splitText2),void 0===_e3&&i(165,"nodeToReplace");var g=o(_e3);if(g.setFormat(_e3.getFormat()),_e3.replace(g),null==f)return;a=0,u=g;}}),e.registerNodeTransform(r,function(e){var r=e.getTextContent(),o=n(r);if(null===o||0!==o.start)return void l(e);if(r.length>o.end)return void e.splitText(o.end);var i=e.getPreviousSibling();require("Lexical").$isTextNode(i)&&i.isTextEntity()&&(l(i),l(e));var u=e.getNextSibling();require("Lexical").$isTextNode(u)&&u.isTextEntity()&&(l(u),s(e)&&l(e));})];};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<064d30d3f9024973147329459460213c>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalUtils.prod",["Lexical","LexicalSelection"],(function $module_LexicalUtils_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e;}var o=n(function(e){var t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams();n.append("code",e);for(var _e=1;_e<arguments.length;_e++){n.append("v",arguments[_e]);}throw t.search=n.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");});var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,i=r&&"documentMode"in document?document.documentMode:null,s=r&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),l=r&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),a=!(!r||!("InputEvent"in window)||i)&&"getTargetRanges"in new window.InputEvent("input"),u=r&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=r&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,d=r&&/Android/.test(navigator.userAgent),f=r&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=r&&d&&f,p=r&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!f;function m(){var t=[];for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}for(var _i=0;_i<e.length;_i++){var _n=e[_i];if(_n&&"string"==typeof _n){for(var _iterator=_n.matchAll(/\S+/g),_isArray=Array.isArray(_iterator),_i2=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref2;if(_isArray){if(_i2>=_iterator.length)break;_ref2=_iterator[_i2++];}else{_i2=_iterator.next();if(_i2.done)break;_ref2=_i2.value;}var _ref3=_ref2;var _e2=_ref3[0];t.push(_e2);}}}return t;}function h(){for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}return function(){for(var _t=e.length-1;_t>=0;_t--){e[_t]();}e.length=0;};}function x(e){return e+"px";}var $={attributes:!0,characterData:!0,childList:!0,subtree:!0};function S(n,r,i){var s=null,l=null,a=null,u=[];var c=document.createElement("div");function d(){null===s&&o(182),null===l&&o(183);var _l$getBoundingClientR=l.getBoundingClientRect(),e=_l$getBoundingClientR.left,a=_l$getBoundingClientR.top,d=require("LexicalSelection").createRectsFromDOMRange(n,r);var f,g;c.isConnected||(g=c,(f=l).insertBefore(g,f.firstChild));var p=!1;for(var _t2=0;_t2<d.length;_t2++){var _n2=d[_t2],_o=u[_t2]||document.createElement("div"),_r=_o.style;"absolute"!==_r.position&&(_r.position="absolute",p=!0);var _i3=x(_n2.left-e);_r.left!==_i3&&(_r.left=_i3,p=!0);var _s=x(_n2.top-a);_r.top!==_s&&(_o.style.top=_s,p=!0);var _l=x(_n2.width);_r.width!==_l&&(_o.style.width=_l,p=!0);var _f=x(_n2.height);_r.height!==_f&&(_o.style.height=_f,p=!0),_o.parentNode!==c&&(c.append(_o),p=!0),u[_t2]=_o;}for(;u.length>d.length;){u.pop();}p&&i(u);}function f(){l=null,s=null,null!==a&&a.disconnect(),a=null,c.remove();for(var _i4=0;_i4<u.length;_i4++){var _e3=u[_i4];_e3.remove();}u=[];}c.style.position="relative";var g=n.registerRootListener(function t(){var o=n.getRootElement();if(null===o)return f();var r=o.parentElement;if(!require("Lexical").isHTMLElement(r))return f();f(),s=o,l=r,a=new MutationObserver(function(e){var o=n.getRootElement(),r=o&&o.parentElement;if(o!==s||r!==l)return t();for(var _iterator2=e,_isArray2=Array.isArray(_iterator2),_i5=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref4;if(_isArray2){if(_i5>=_iterator2.length)break;_ref4=_iterator2[_i5++];}else{_i5=_iterator2.next();if(_i5.done)break;_ref4=_i5.value;}var _t3=_ref4;if(!c.contains(_t3.target))return d();}}),a.observe(r,$),d();});return function(){g(),f();};}function C(t,n,o){if("text"!==t.type&&require("Lexical").$isElementNode(n)){var _e4=n.getDOMSlot(o);return[_e4.element,_e4.getFirstChildOffset()+t.offset];}return[require("Lexical").getDOMTextNode(o)||o,t.offset];}function E(t,n){var o=null,r=null,i=null,s=null,l=null,a=null,u=function u(){};function c(c){c.read(function(){var c=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(c))return o=null,i=null,s=null,a=null,u(),void(u=function u(){});var d=c.anchor,f=c.focus,g=d.getNode(),p=g.getKey(),m=d.offset,h=f.getNode(),$=h.getKey(),E=f.offset,v=t.getElementByKey(p),N=t.getElementByKey($),w=null===o||v!==r||m!==i||p!==o.getKey(),y=null===s||N!==l||E!==a||$!==s.getKey();if((w||y)&&null!==v&&null!==N){var _e5=function(e,t,n,o,r,i,s){var l=(e._window?e._window.document:document).createRange();return i.isBefore(n)?(l.setStart.apply(l,C(r,i,s)),l.setEnd.apply(l,C(t,n,o))):(l.setStart.apply(l,C(t,n,o)),l.setEnd.apply(l,C(r,i,s))),l;}(t,d,g,v,f,h,N);u(),u=S(t,_e5,function(e){if(void 0===n){for(var _iterator3=e,_isArray3=Array.isArray(_iterator3),_i6=0,_iterator3=_isArray3?_iterator3:_iterator3[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref5;if(_isArray3){if(_i6>=_iterator3.length)break;_ref5=_iterator3[_i6++];}else{_i6=_iterator3.next();if(_i6.done)break;_ref5=_i6.value;}var _t4=_ref5;var _e6=_t4.style;"Highlight"!==_e6.background&&(_e6.background="Highlight"),"HighlightText"!==_e6.color&&(_e6.color="HighlightText"),_e6.marginTop!==x(-1.5)&&(_e6.marginTop=x(-1.5)),_e6.paddingTop!==x(4)&&(_e6.paddingTop=x(4)),_e6.paddingBottom!==x(0)&&(_e6.paddingBottom=x(0));}}else n(e);});}o=g,r=v,i=m,s=h,l=N,a=E;});}return c(t.getEditorState()),h(t.registerUpdateListener(function(_ref6){var e=_ref6.editorState;return c(e);}),function(){u();});}var v=a,N=r,w=d,y=g,A=s,R=p,P=f,I=l,T=c,b=u;function O(e,t){for(var _iterator4=t,_isArray4=Array.isArray(_iterator4),_i7=0,_iterator4=_isArray4?_iterator4:_iterator4[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref7;if(_isArray4){if(_i7>=_iterator4.length)break;_ref7=_iterator4[_i7++];}else{_i7=_iterator4.next();if(_i7.done)break;_ref7=_i7.value;}var _n3=_ref7;if(e.type.startsWith(_n3))return!0;}return!1;}function L(e,t){return _("next",e,t);}function _(t,n,o){var r=require("Lexical").$getRoot(),i=n||r,s=require("Lexical").$isElementNode(i)?require("Lexical").$getChildCaret(i,t):require("Lexical").$getSiblingCaret(i,t),l=M(i),a=require("Lexical").$getAdjacentChildCaret(o?require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(o,t)):s.getParentCaret("root"));var u=l;return require("Lexical").makeStepwiseIterator({hasNext:function hasNext(e){return null!==e;},initial:s,map:function map(e){return{depth:u,node:e.origin};},step:function step(t){if(t.isSameNodeCaret(a))return null;require("Lexical").$isChildCaret(t)&&u++;var n=K(t);return!n||n[0].isSameNodeCaret(a)?null:(u+=n[1],n[0]);}});}function M(e){var t=-1;for(var _n4=e;null!==_n4;_n4=_n4.getParent()){t++;}return t;}function D(e,t){return _("previous",e,t);}var B=function B(t,n){var o=t;for(;o!==require("Lexical").$getRoot()&&null!=o;){if(n(o))return o;o=o.getParent();}return null;};var k=!(I||!N)&&void 0;function F(t,n,o){var r=!1;var _loop=function _loop(){if(_isArray5){if(_i8>=_iterator5.length)return"break";_ref8=_iterator5[_i8++];}else{_i8=_iterator5.next();if(_i8.done)return"break";_ref8=_i8.value;}var i=_ref8;n(i)?null!==o&&o(i):(r=!0,require("Lexical").$isElementNode(i)&&F(i,n,o||function(e){return i.insertAfter(e);}),i.remove());};for(var _iterator5=j(t),_isArray5=Array.isArray(_iterator5),_i8=0,_iterator5=_isArray5?_iterator5:_iterator5[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref8;var _ret=_loop();if(_ret==="break")break;}return r;}function j(t){return H(require("Lexical").$getChildCaret(t,"previous"));}function H(t){return require("Lexical").makeStepwiseIterator({hasNext:require("Lexical").$isSiblingCaret,initial:t.getAdjacentCaret(),map:function map(e){return e.origin.getLatest();},step:function step(e){return e.getAdjacentCaret();}});}function K(t,n){if(n===void 0){n="root";}var o=0,r=t,i=require("Lexical").$getAdjacentChildCaret(r);for(;null===i;){if(o--,i=r.getParentCaret(n),!i)return null;r=i,i=require("Lexical").$getAdjacentChildCaret(r);}return i&&[i,o];}exports.$splitNode=require("Lexical").$splitNode,exports.isBlockDomNode=require("Lexical").isBlockDomNode,exports.isHTMLAnchorElement=require("Lexical").isHTMLAnchorElement,exports.isHTMLElement=require("Lexical").isHTMLElement,exports.isInlineDomNode=require("Lexical").isInlineDomNode,exports.$descendantsMatching=function(t,n){var o=[],r=Array.from(t).reverse();for(var _t5=r.pop();void 0!==_t5;_t5=r.pop()){if(n(_t5))o.push(_t5);else if(require("Lexical").$isElementNode(_t5)){for(var _iterator6=j(_t5),_isArray6=Array.isArray(_iterator6),_i9=0,_iterator6=_isArray6?_iterator6:_iterator6[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref9;if(_isArray6){if(_i9>=_iterator6.length)break;_ref9=_iterator6[_i9++];}else{_i9=_iterator6.next();if(_i9.done)break;_ref9=_i9.value;}var _e7=_ref9;r.push(_e7);}}}return o;},exports.$dfs=function(e,t){return Array.from(L(e,t));},exports.$dfsIterator=L,exports.$filter=function(e,t){var n=[];for(var _o2=0;_o2<e.length;_o2++){var _r2=t(e[_o2]);null!==_r2&&n.push(_r2);}return n;},exports.$findMatchingParent=B,exports.$firstToLastIterator=function(t){return H(require("Lexical").$getChildCaret(t,"next"));},exports.$getAdjacentCaret=function(e){return e?e.getAdjacentCaret():null;},exports.$getAdjacentSiblingOrParentSiblingCaret=K,exports.$getDepth=M,exports.$getNearestBlockElementAncestorOrThrow=function(t){var n=B(t,function(t){return require("Lexical").$isElementNode(t)&&!t.isInline();});return require("Lexical").$isElementNode(n)||o(4,t.__key),n;},exports.$getNearestNodeOfType=function(e,t){var n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent();}return null;},exports.$getNextRightPreorderNode=function(t){var n=K(require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(t,"previous")),"root");return n&&n[0].origin;},exports.$getNextSiblingOrParentSibling=function(t){var n=K(require("Lexical").$getSiblingCaret(t,"next"));return n&&[n[0].origin,n[1]];},exports.$insertFirst=function(t,n){require("Lexical").$getChildCaret(t,"next").insert(n);},exports.$insertNodeToNearestRoot=function(t){var n=require("Lexical").$getSelection()||require("Lexical").$getPreviousSelection();if(require("Lexical").$isRangeSelection(n)){var _o3=n.focus,_r3=_o3.getNode(),_i10=_o3.offset;if(require("Lexical").$isRootOrShadowRoot(_r3))require("Lexical").$getChildCaretAtIndex(_r3,_i10,"next").insert(t),t.selectNext();else{var _n5,_o4;require("Lexical").$isTextNode(_r3)?(_n5=_r3.getParentOrThrow(),_o4=_r3.getIndexWithinParent(),_i10>0&&(_o4+=1,_r3.splitText(_i10))):(_n5=_r3,_o4=_i10);var _e$$splitNode=require("Lexical").$splitNode(_n5,_o4),_s2=_e$$splitNode[1];_s2.insertBefore(t),_s2.selectStart();}}else{if(null!=n){var _e8=n.getNodes();_e8[_e8.length-1].getTopLevelElementOrThrow().insertAfter(t);}else require("Lexical").$getRoot().append(t);var _o5=require("Lexical").$createParagraphNode();t.insertAfter(_o5),_o5.select();}return t.getLatest();},exports.$isEditorIsNestedEditor=function(e){return null!==e._parentEditor;},exports.$lastToFirstIterator=j,exports.$restoreEditorState=function(t,n){var o=new Map(),r=t._pendingEditorState;for(var _iterator7=n._nodeMap,_isArray7=Array.isArray(_iterator7),_i11=0,_iterator7=_isArray7?_iterator7:_iterator7[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref11;if(_isArray7){if(_i11>=_iterator7.length)break;_ref11=_iterator7[_i11++];}else{_i11=_iterator7.next();if(_i11.done)break;_ref11=_i11.value;}var _ref12=_ref11;var _t6=_ref12[0];var _r4=_ref12[1];o.set(_t6,require("Lexical").$cloneWithProperties(_r4));}r&&(r._nodeMap=o),t._dirtyType=2;var i=n._selection;require("Lexical").$setSelection(null===i?null:i.clone());},exports.$reverseDfs=function(e,t){return Array.from(D(e,t));},exports.$reverseDfsIterator=D,exports.$unwrapAndFilterDescendants=function(e,t){return F(e,t,null);},exports.$unwrapNode=function(t){require("Lexical").$rewindSiblingCaret(require("Lexical").$getSiblingCaret(t,"next")).splice(1,t.getChildren());},exports.$wrapNodeInElement=function(e,t){var n=t();return e.replace(n),n.append(e),n;},exports.CAN_USE_BEFORE_INPUT=v,exports.CAN_USE_DOM=N,exports.IS_ANDROID=w,exports.IS_ANDROID_CHROME=y,exports.IS_APPLE=A,exports.IS_APPLE_WEBKIT=R,exports.IS_CHROME=P,exports.IS_FIREFOX=I,exports.IS_IOS=T,exports.IS_SAFARI=b,exports.addClassNamesToElement=function(e){var _e$classList;for(var _len3=arguments.length,t=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){t[_key3-1]=arguments[_key3];}var n=m.apply(void 0,t);n.length>0&&(_e$classList=e.classList).add.apply(_e$classList,n);},exports.calculateZoomLevel=function(e){var t=1;if(function(){if(void 0===k){var _e9=document.createElement("div");_e9.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(_e9);var _t7=_e9.getBoundingClientRect();_e9.style.setProperty("zoom","2"),k=_e9.getBoundingClientRect().width===_t7.width,document.body.removeChild(_e9);}return k;}())for(;e;){t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;}return t;},exports.isMimeType=O,exports.makeStateWrapper=function(t){var n=function n(_n6){return require("Lexical").$getState(_n6,t);},o=function o(n,_o6){return require("Lexical").$setState(n,t,_o6);};return{$get:n,$set:o,accessors:[n,o],makeGetterMethod:function makeGetterMethod(){return function(){return n(this);};},makeSetterMethod:function makeSetterMethod(){return function(e){return o(this,e);};},stateConfig:t};},exports.markSelection=E,exports.mediaFileReader=function(e,t){var n=e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();return new Promise(function(e,o){var r=[],i=function i(){var _n$next=n.next(),s=_n$next.done,l=_n$next.value;if(s)return e(r);var a=new FileReader();a.addEventListener("error",o),a.addEventListener("load",function(){var e=a.result;"string"==typeof e&&r.push({file:l,result:e}),i();}),O(l,t)?a.readAsDataURL(l):i();};i();});},exports.mergeRegister=h,exports.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name;},exports.positionNodeOnRange=S,exports.registerNestedElementResolver=function(e,t,n,o){var r=function r(e){return e instanceof t;};return e.registerNodeTransform(t,function(e){var t=function(e){var t=e.getChildren();for(var _e10=0;_e10<t.length;_e10++){var _n7=t[_e10];if(r(_n7))return null;}var n=e,o=e;for(;null!==n;){if(o=n,n=n.getParent(),r(n))return{child:o,parent:n};}return null;}(e);if(null!==t){var _r5=t.child,_i12=t.parent;if(_r5.is(e)){o(_i12,e);var _t8=_r5.getNextSiblings(),_s3=_t8.length;if(_i12.insertAfter(_r5),0!==_s3){var _e11=n(_i12);_r5.insertAfter(_e11);for(var _n8=0;_n8<_s3;_n8++){_e11.append(_t8[_n8]);}}_i12.canBeEmpty()||0!==_i12.getChildrenSize()||_i12.remove();}}});},exports.removeClassNamesFromElement=function(e){var _e$classList2;for(var _len4=arguments.length,t=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){t[_key4-1]=arguments[_key4];}var n=m.apply(void 0,t);n.length>0&&(_e$classList2=e.classList).remove.apply(_e$classList2,n);},exports.selectionAlwaysOnDisplay=function(e){var t=null;var n=function n(){var n=getSelection(),o=n&&n.anchorNode,r=e.getRootElement();null!==o&&null!==r&&r.contains(o)?null!==t&&(t(),t=null):null===t&&(t=E(e));};return document.addEventListener("selectionchange",n),function(){null!==t&&t(),document.removeEventListener("selectionchange",n);};};}),null);
__d("MLCInstrumentationPluginDeferred__INTERNAL.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("MLCInstrumentationPlugin__INTERNAL.react").__setRef("MLCInstrumentationPluginDeferred__INTERNAL.react");function a(a){var b=c("useDeferredModuleOnReady")(j);return b==null?null:i.jsx(b,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometLexicalBaseTheme",[],(function(a,b,c,d,e,f,g){"use strict";a={ltr:"xdpxx8g",rtl:"x1hr2gdg"};b=a;g["default"]=b}),98);
__d("getPrivacyAwareEditorState",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{nodes:h(a),selection:j(a)}}function h(a){var b=[],c=["key","type","detail","format","mode","children","parent","first","last","size","next","prev"];for(var a=a._nodeMap,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;f[0];f=f[1];var g={};for(var h=0;h<c.length;h++){var j=c[h],k="__"+j;k=f[k];if(k==null||i(j,k))continue;g[j]=k}b.push(g)}return b}function i(a,b){var c=new Set(["detail","format"]);if(c.has(a)&&b===0)return!0;return a==="mode"&&b==="normal"?!0:!1}function j(a){a=a._selection;if(!d("Lexical").$isRangeSelection(a))return null;var b=a.anchor;a=a.focus;return{anchor:{key:b.key,offset:b.offset,type:b.type},focus:{key:a.key,offset:a.offset,type:a.type}}}g["default"]=a}),98);
__d("mlcErrorHandler__INTERNAL",["getPrivacyAwareEditorState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e=document.activeElement,f=null;e!=null&&(f={activeElement:e.nodeName,rootSelected:e===b.getRootElement()});e=window.event;var g=null;e!=null&&(g={altKey:e.altKey,ctrlKey:e.ctrlKey,data:e.data,inputType:e.inputType,isComposing:e.isComposing,keyCode:e.keyCode,metaKey:e.metaKey,shiftKey:e.shiftKey,type:e.type});e=null;try{e=c("getPrivacyAwareEditorState")(b.getEditorState())}catch(a){}d(JSON.stringify({activeElement:f,editorState:e,error:a,event:g}))}g["default"]=a}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<718fac6d3d7bc22d160c15bbc54a2b1a>>
 * @noflow
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("useLexicalEditable.prod",["LexicalComposerContext","react"],(function $module_useLexicalEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react"));var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function i(e){return{initialValueFn:function initialValueFn(){return e.isEditable();},subscribe:function subscribe(t){return e.registerEditableListener(t);}};}exports.useLexicalEditable=function(){return function(i){var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),r=_e$useLexicalComposer[0],u=t.useMemo(function(){return i(r);},[r,i]),_t$useState=t.useState(function(){return u.initialValueFn();}),o=_t$useState[0],s=_t$useState[1],c=t.useRef(o);return n(function(){var e=u.initialValueFn,t=u.subscribe,n=e();return c.current!==n&&(c.current=n,s(n)),t(function(e){c.current=e,s(e);});},[u,i]),o;}(i);};}),null);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a){i(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[a])}g["default"]=a}),98);